(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98784,e=>{"use strict";e.s(["default",()=>o]);var r=e.i(43476),t=e.i(71645),s=e.i(90914),n=e.i(22016),a=e.i(18566);let o=()=>{let e=(0,a.useRouter)(),[o,l]=(0,t.useState)({title:"",description:"",propertyDescription:"",region:"",address:"",city:"Agra",price:"",priceUnit:"INR",propertySize:"",propertyType:"Residential",subType:"Apartment"}),[i,d]=(0,t.useState)(""),[c,x]=(0,t.useState)([]),[u,p]=(0,t.useState)(""),[m,g]=(0,t.useState)([]),[h,f]=(0,t.useState)(""),[b,y]=(0,t.useState)([]),[j,v]=(0,t.useState)(""),[N,w]=(0,t.useState)([]),[k,C]=(0,t.useState)(""),[S,L]=(0,t.useState)([]),[D,E]=(0,t.useState)(""),[A,P]=(0,t.useState)([]),[T,B]=(0,t.useState)([]),F=(0,t.useRef)(null),[M,z]=(0,t.useState)([]),U=(0,t.useRef)(null),[K,R]=(0,t.useState)({lat:"",lng:""}),[W,I]=(0,t.useState)(""),[q,_]=(0,t.useState)(""),[O,V]=(0,t.useState)("Furnished"),[H,J]=(0,t.useState)("Pending Approval"),[Y,G]=(0,t.useState)(!1),[Q,X]=(0,t.useState)(""),[Z,$]=(0,t.useState)(!1),[ee,er]=(0,t.useState)(""),[et,es]=(0,t.useState)(""),[en,ea]=(0,t.useState)(1),[eo,el]=(0,t.useState)([]),[ei,ed]=(0,t.useState)([]),[ec,ex]=(0,t.useState)(!1),[eu,ep]=(0,t.useState)(""),[em,eg]=(0,t.useState)(!1),[eh,ef]=(0,t.useState)(""),eb=async()=>{try{eg(!0),ef("");let e=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/regions"));if(!e.ok)throw Error("Failed to fetch regions: ".concat(e.status));let r=await e.json();if(r.success&&r.data&&r.data.regions)el(r.data.regions),ed(r.data.regions);else throw Error("Invalid response format from regions API")}catch(e){console.error("Error fetching regions:",e),ef("Failed to load regions")}finally{eg(!1)}};(0,t.useEffect)(()=>{eb()},[]),(0,t.useEffect)(()=>{(e=>{if(!e)return ed(eo);let r=e.toLowerCase();ed(eo.filter(e=>e.name.toLowerCase().includes(r)||e.city.toLowerCase().includes(r)||e.state.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)))})(eu)},[eu,eo]),(0,t.useEffect)(()=>{let e=e=>{ec&&!e.target.closest(".region-dropdown")&&ex(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[ec]);let ey=e=>"string"==typeof e&&e.trim().length>0,ej=e=>""!==e&&!Number.isNaN(Number(e))&&Number(e)>0,ev=()=>1===en?ey(o.title)&&ey(o.region):2===en?ej(o.price)&&ey(o.priceUnit)&&ey(o.city):3===en?ej(o.propertySize)&&ej(W)&&ej(q)&&ey(o.propertyType)&&ey(o.subType):4===en&&S.length+T.length>0,eN=e=>{let{name:r,value:t}=e.target;l(e=>({...e,[r]:t}))},ew=(e,r,t,s)=>{let n=e.trim();if(n){if(t.includes(n))return void s("");r([...t,n]),s("")}},ek=()=>{let e=i.trim();if(e){if(c.includes(e))return void d("");x([...c,e]),d("")}},eC=(e,r)=>r(r=>r.filter(r=>r!==e)),eS=async r=>{if(r.preventDefault(),r.stopPropagation(),console.log("Form submitted - current step:",en),console.log("Form submitted - submitting state:",Z),4!==en){console.log("Form submitted but not on Step 4, current step:",en),console.log("Preventing form submission - not on step 4"),es("Please complete all steps. Currently on step ".concat(en," of 4."));return}console.log("Create Property button clicked - starting property creation"),$(!0),es("");try{var t,s,n,a,l,i;let r=localStorage.getItem("token");if(!r){es("Please login to create a property"),$(!1);return}let d=null;try{let e=r.split(".");if(3===e.length){let r=JSON.parse(atob(e[1]));d=(null==r?void 0:r.userId)||(null==r||null==(t=r.user)?void 0:t._id)||(null==r||null==(s=r.user)?void 0:s.id)||(null==r?void 0:r._id)||(null==r?void 0:r.id)||(null==r?void 0:r.sub)||null}}catch(e){console.warn("Token decoding failed:",e)}if(!d){es("Failed to extract user ID from token. Please re-login."),$(!1);return}let x=null;try{let e=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/brokers/").concat(d),{headers:{Authorization:"Bearer ".concat(r)}});if(e.ok){let r=await e.json();x=(null==r?void 0:r._id)||(null==r||null==(n=r.broker)?void 0:n._id)||(null==r||null==(a=r.data)?void 0:a._id)||(null==r||null==(i=r.data)||null==(l=i.broker)?void 0:l._id)||null}}catch(e){console.warn("Broker fetch failed:",e)}if(!x){es("Broker not found for this account."),$(!1);return}let u=new FormData;u.append("title",o.title),u.append("description",o.description||""),u.append("propertyDescription",o.propertyDescription||""),u.append("propertySize",o.propertySize||""),u.append("propertyType",o.propertyType),u.append("subType",o.subType),u.append("price",o.price),u.append("priceUnit",o.priceUnit),u.append("address",o.address||""),u.append("city",o.city),u.append("region",o.region),K.lat&&u.append("coordinates[lat]",K.lat),K.lng&&u.append("coordinates[lng]",K.lng),u.append("bedrooms",W||"0"),u.append("bathrooms",q||"0"),u.append("furnishing",O),c.forEach(e=>u.append("amenities[]",e)),m.forEach(e=>u.append("nearbyAmenities[]",e)),b.forEach(e=>u.append("features[]",e)),N.forEach(e=>u.append("locationBenefits[]",e)),A.forEach(e=>u.append("videos[]",e)),M.forEach(e=>u.append("videos",e)),S.forEach(e=>u.append("images[]",e)),T.forEach(e=>u.append("images",e)),u.append("status",H),u.append("isFeatured",Y.toString()),u.append("notes",Q||""),u.append("broker",x);let p=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/properties"),{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:u});if(!p.ok){let e=await p.json().catch(()=>({}));throw Error(e.message||"Failed to create property")}await p.json(),er("Property created successfully!"),setTimeout(()=>{e.push("/properties-management")},2e3)}catch(e){es(e.message||"Failed to create property. Please try again.")}finally{$(!1)}};return(0,r.jsx)(s.default,{children:(0,r.jsx)("div",{className:"min-h-screen bg-white",children:(0,r.jsxs)("div",{className:"w-full px-0 sm:px-0 lg:px-0 py-8 max-w-none",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Add New Property"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Create a new property listing with all the details"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-blue-600 font-medium",children:["Step ",en," of ",4]})]}),(0,r.jsxs)(n.default,{href:"/properties-management",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Properties"]})]}),et&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-sm text-red-700",children:et}),(0,r.jsx)("button",{onClick:()=>es(""),className:"ml-auto text-red-500 hover:text-red-700",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),ee&&4===en&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-sm text-green-700",children:ee})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-xs text-green-600",children:"Redirecting in 2 seconds..."}),(0,r.jsx)(n.default,{href:"/properties-management",className:"px-3 py-1 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors",children:"View Properties"})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,r.jsx)("form",{onSubmit:e=>(console.log("Form onSubmit triggered - current step:",en),4!==en)?(console.log("Form submission prevented - not on step 4"),e.preventDefault(),e.stopPropagation(),!1):eS(e),className:"lg:col-span-9 bg-white rounded-2xl shadow border border-gray-100 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8 space-y-8",children:[1===en&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Basic Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Title *"}),(0,r.jsx)("input",{name:"title",value:o.title,onChange:eN,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ey(o.title)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),placeholder:"Enter property title",required:!0}),!ey(o.title)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Title is required."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),(0,r.jsxs)("div",{className:"relative region-dropdown",children:[(0,r.jsx)("input",{type:"text",name:"region",value:eu||o.region,onChange:e=>{let r=e.target.value;ep(r),ex(!0),l(e=>({...e,region:r}))},onFocus:()=>{ex(!0)},onKeyDown:e=>{"Escape"===e.key&&ex(!1)},className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ey(o.region)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),placeholder:"Select a region...",required:!0,autoComplete:"off"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-200 ".concat(ec?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),ec&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:em?(0,r.jsxs)("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}),"Loading regions..."]}):eh?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-red-600",children:eh}):0===ei.length?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:eu?"No regions found":"No regions available"}):(0,r.jsx)("ul",{className:"py-1",children:ei.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",onClick:()=>(e=>{let r=(e=>e?"".concat(e.name,", ").concat(e.city,", ").concat(e.state):"")(e);l(e=>({...e,region:r})),ep(r),ex(!1)})(e),className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.city,", ",e.state]})]})},e._id))})})]}),!ey(o.region)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Region is required."})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Short Description"}),(0,r.jsx)("textarea",{name:"description",value:o.description,onChange:eN,rows:3,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Brief description of the property"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),(0,r.jsx)("textarea",{name:"propertyDescription",value:o.propertyDescription,onChange:eN,rows:4,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Comprehensive description with all details"})]})]}),2===en&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Location & Pricing"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,r.jsx)("input",{name:"address",value:o.address,onChange:eN,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ey(o.address)||""===o.address?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),placeholder:"Street address"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,r.jsx)("input",{name:"city",value:o.city,onChange:eN,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ey(o.city)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),placeholder:"City"}),!ey(o.city)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"City is required."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price *"}),(0,r.jsx)("input",{type:"number",name:"price",value:o.price,onChange:eN,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ej(o.price)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),placeholder:"e.g. 42000000",required:!0}),!ej(o.price)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Enter a valid price."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,r.jsxs)("select",{name:"priceUnit",value:o.priceUnit,onChange:eN,className:"w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ".concat(ey(o.priceUnit)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"),children:[(0,r.jsx)("option",{children:"INR"}),(0,r.jsx)("option",{children:"USD"})]})]})]})]}),3===en&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Property Details"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Size (sqft)"}),(0,r.jsx)("input",{type:"number",name:"propertySize",value:o.propertySize,onChange:eN,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 1200"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bedrooms"}),(0,r.jsx)("input",{type:"number",value:W,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 3"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bathrooms"}),(0,r.jsx)("input",{type:"number",value:q,onChange:e=>_(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 2"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Type *"}),(0,r.jsxs)("select",{name:"propertyType",value:o.propertyType,onChange:eN,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0,children:[(0,r.jsx)("option",{children:"Residential"}),(0,r.jsx)("option",{children:"Commercial"}),(0,r.jsx)("option",{children:"Industrial"}),(0,r.jsx)("option",{children:"Land"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sub Type"}),(0,r.jsxs)("select",{name:"subType",value:o.subType,onChange:eN,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,r.jsx)("option",{children:"Apartment"}),(0,r.jsx)("option",{children:"Villa"}),(0,r.jsx)("option",{children:"Office"}),(0,r.jsx)("option",{children:"Shop"}),(0,r.jsx)("option",{children:"Land"}),(0,r.jsx)("option",{children:"Other"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Furnishing"}),(0,r.jsxs)("select",{value:O,onChange:e=>V(e.target.value),className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,r.jsx)("option",{children:"Furnished"}),(0,r.jsx)("option",{children:"Semi-Furnished"}),(0,r.jsx)("option",{children:"Unfurnished"})]})]})]})]}),3===en&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Amenities & Features"})]}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Amenities"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("input",{value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ek())},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type amenity and press Add or Enter"}),(0,r.jsx)("button",{type:"button",onClick:ek,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),c.length>0&&(0,r.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:c.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 text-sm bg-green-50 text-green-700 px-3 py-2 rounded-full border border-green-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,x),className:"text-green-500 hover:text-green-700 transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e))})]})})]}),3===en&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nearby Amenities"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{value:u,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ew(u,g,m,p))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add nearby amenity"}),(0,r.jsx)("button",{type:"button",onClick:()=>ew(u,g,m,p),className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),m.length>0&&(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:m.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,g),className:"text-green-600 hover:text-green-800",children:"×"})]},e))})]}),3===en&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{value:h,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ew(h,y,b,f))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add feature"}),(0,r.jsx)("button",{type:"button",onClick:()=>ew(h,y,b,f),className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),b.length>0&&(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:b.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,y),className:"text-green-600 hover:text-green-800",children:"×"})]},e))})]}),3===en&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Benefits"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{value:j,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ew(j,w,N,v))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add location benefit"}),(0,r.jsx)("button",{type:"button",onClick:()=>ew(j,w,N,v),className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),N.length>0&&(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:N.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,w),className:"text-green-600 hover:text-green-800",children:"×"})]},e))})]}),4===en&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"border border-gray-300 rounded-xl focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent transition-all duration-200 flex items-center overflow-hidden flex-1",children:[(0,r.jsx)("input",{value:k,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ew(k,L,S,C))},onClick:()=>{F.current&&F.current.click()},className:"flex-1 px-4 py-3 outline-none text-sm",placeholder:"Paste image URL or click to choose files"}),(0,r.jsx)("input",{ref:F,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let r=Array.from(e.target.files||[]);r.length&&B(e=>[...e,...r])},className:"hidden"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>ew(k,L,S,C),className:"px-4 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors duration-200",children:"Add"})]}),(S.length>0||T.length>0)&&(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[S.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,L),className:"text-green-600 hover:text-green-800",children:"×"})]},e))}),T.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:T.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full border border-green-200",children:[e.name,(0,r.jsx)("button",{type:"button",onClick:()=>B(e=>e.filter((e,r)=>r!==t)),className:"text-green-600 hover:text-green-800",children:"×"})]},"".concat(e.name,"-").concat(t)))})]})]}),4===en&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Videos"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"border border-gray-300 rounded-xl focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent transition-all duration-200 flex items-center overflow-hidden flex-1",children:[(0,r.jsx)("input",{value:D,onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ew(D,P,A,E))},onClick:()=>{U.current&&U.current.click()},className:"flex-1 px-4 py-3 outline-none text-sm",placeholder:"Paste video URL or click to choose files"}),(0,r.jsx)("input",{ref:U,type:"file",multiple:!0,accept:"video/*",onChange:e=>{let r=Array.from(e.target.files||[]);r.length&&z(e=>[...e,...r])},className:"hidden"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>ew(D,P,A,E),className:"px-4 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors duration-200",children:"Add"})]}),(A.length>0||M.length>0)&&(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[A.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>eC(e,P),className:"text-gray-500 hover:text-gray-700",children:"×"})]},e)),M.map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full border border-blue-200",children:[e.name,(0,r.jsx)("button",{type:"button",onClick:()=>z(e=>e.filter((e,r)=>r!==t)),className:"text-blue-600 hover:text-blue-800",children:"×"})]},"".concat(e.name,"-").concat(t)))]})]}),4===en&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:H,onChange:e=>J(e.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,r.jsx)("option",{children:"Active"}),(0,r.jsx)("option",{children:"Sold"}),(0,r.jsx)("option",{children:"Expired"}),(0,r.jsx)("option",{children:"Pending Approval"}),(0,r.jsx)("option",{children:"Rejected"})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,r.jsx)("textarea",{value:Q,onChange:e=>X(e.target.value),rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Internal notes"})]})]}),(0,r.jsx)("div",{className:"pt-8 border-t border-gray-100",children:en<4?(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Continue button clicked, current step:",en,"isValid:",ev()),console.log("Continue button clicked - submitting state:",Z),en<4&&ev()?(console.log("Moving to next step..."),ea(en+1),console.log("Moved to step:",en+1)):console.log("Cannot proceed - either at last step or validation failed")},disabled:!ev()||Z,className:"w-full py-4 rounded-xl font-semibold focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ".concat(ev()&&!Z?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 focus:ring-blue-100 hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed"),children:["Continue",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}):(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsx)("button",{type:"submit",disabled:Z,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Create Property"})})})]})}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A7 7 0 0112 15a7 7 0 016.879 2.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Create property"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Finish basic details and choose your nearest region to get started."})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(()=>{let e=[1,2,3,4];return(0,r.jsx)(r.Fragment,{children:e.map((s,n)=>{let a=s===en,o=s<en;return(0,r.jsxs)(t.default.Fragment,{children:[(0,r.jsx)("button",{type:"button",onClick:()=>(e=>{e<1||e>4||ea(e)})(s),className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(a?"bg-blue-600 text-white":o?"bg-green-50 text-green-700 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"),children:s}),n<e.length-1&&(0,r.jsx)("span",{className:"w-6 h-[2px] ".concat(s<en?"bg-green-200":"bg-gray-200")})]},s)})})})()})]}),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Property summary"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,r.jsx)("span",{className:"font-medium",children:H})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Title"}),(0,r.jsx)("span",{className:"font-medium truncate max-w-[160px]",title:o.title||"Untitled",children:o.title||"Untitled"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"City"}),(0,r.jsx)("span",{className:"font-medium",children:o.city||"-"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Region"}),(0,r.jsx)("span",{className:"font-medium truncate max-w-[160px]",title:o.region||"-",children:o.region||"-"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Price"}),(0,r.jsx)("span",{className:"font-medium",children:o.price?"".concat(o.priceUnit," ").concat(o.price):"-"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Nearest regions"}),(0,r.jsx)("button",{type:"button",className:"text-xs text-blue-600 hover:underline",children:"Use nearest"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-700",children:o.city||"Your city"}),(0,r.jsx)("span",{className:"text-gray-500",children:"0 km"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Agra"}),(0,r.jsx)("span",{className:"text-gray-500",children:"316 km"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Delhi"}),(0,r.jsx)("span",{className:"text-gray-500",children:"350 km"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tips"}),(0,r.jsxs)("ul",{className:"text-[13px] text-gray-700 list-disc pl-5 space-y-2",children:[(0,r.jsx)("li",{children:"Fill basic info first, then details."}),(0,r.jsx)("li",{children:"Use realistic price and clear title."}),(0,r.jsx)("li",{children:"Add at least 3 good images and one video link."})]})]})]})]})]})})})}}]);