(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65133,e=>{"use strict";e.s(["PropertyFormPage",()=>d,"default",()=>p]);var t=e.i(38414),r=e.i(76159),s=e.i(56709),a=e.i(93349),n=e.i(58153),o=e.i(66314),l=e.i(57382),i=e.i(81472),c=e.i(33476);let d=e=>{let{propertyId:d=null,isEditMode:p=!1}=e,u=(0,c.useRouter)(),[g,x]=(0,s.useState)({title:"",description:"",propertyDescription:"",region:"",address:"",city:"Agra",price:"",priceUnit:"INR",propertySize:"",propertyType:"Residential",subType:"Apartment"}),[m,h]=(0,s.useState)(!1),[y,f]=(0,s.useState)(""),[b,j]=(0,s.useState)([]),[v,N]=(0,s.useState)(""),[w,k]=(0,s.useState)([]),[S,C]=(0,s.useState)(""),[A,L]=(0,s.useState)([]),[P,E]=(0,s.useState)(""),[D,B]=(0,s.useState)([]),[T,z]=(0,s.useState)(""),[F,M]=(0,s.useState)([]),[_,I]=(0,s.useState)(""),[W,R]=(0,s.useState)([]),[U,O]=(0,s.useState)([]),q=(0,s.useRef)(null),[H,K]=(0,s.useState)([]),Y=(0,s.useRef)(null),V=e=>{if("string"!=typeof e)return!1;let t=e.trim();return!!t&&"/images/placeholder-image.png"!==t},G=["Parking","Power Backup","Lift","Garden","Security","Gym","Water Supply","Swimming Pool"],$=["Modern Design","Spacious","Well Ventilated","Natural Light","Premium Location"],Q=["School","Hospital","Shopping Mall","Metro Station","Park"],Z=["Prime Location","Near Highway","City Center","Well Connected","Peaceful Area"],[J,X]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[er,es]=(0,s.useState)(""),[ea,en]=(0,s.useState)(""),eo=(0,s.useRef)(null),[el,ei]=(0,s.useState)({lat:"",lng:""}),ec=(0,s.useRef)(null),[ed,ep]=(0,s.useState)(""),[eu,eg]=(0,s.useState)(""),[ex,em]=(0,s.useState)("Furnished"),[eh,ey]=(0,s.useState)("Pending Approval"),[ef,eb]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)(!1),[eN,ew]=(0,s.useState)(""),[ek,eS]=(0,s.useState)(!1),[eC,eA]=(0,s.useState)(!1),[eL,eP]=(0,s.useState)(""),[eE,eD]=(0,s.useState)(1),[eB,eT]=(0,s.useState)(null);(0,s.useEffect)(()=>((()=>{try{if(window.google&&window.google.maps&&window.google.maps.places)return void eF(!0)}catch(e){}let e=document.querySelector('script[src*="maps.googleapis.com"]');if(e){e.onload=()=>eF(!0);return}let t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC49SrDrIyFmn9b-GsQqQjzS8TlSAHfB4Y","&libraries=places"),t.async=!0,t.defer=!0,t.onload=()=>eF(!0),t.onerror=()=>{},document.head.appendChild(t)})(),()=>{eO.current&&clearTimeout(eO.current)}),[]);let[ez,eF]=(0,s.useState)(!1),[eM,e_]=(0,s.useState)([]),[eI,eW]=(0,s.useState)(null),[eR,eU]=(0,s.useState)(!1),eO=(0,s.useRef)(null),[eq,eH]=(0,s.useState)([]),[eK,eY]=(0,s.useState)([]),[eV,eG]=(0,s.useState)(!1),[e$,eQ]=(0,s.useState)(""),[eZ,eJ]=(0,s.useState)(!1),[eX,e0]=(0,s.useState)(""),[e2,e1]=(0,s.useState)(""),e3=async()=>{try{eJ(!0),e0("");let e=await fetch("".concat("https://broker-adda-be.fly.dev/api","/regions"));if(!e.ok)throw Error("Failed to fetch regions: ".concat(e.status));let t=await e.json();if(t.success&&t.data&&t.data.regions)eH(t.data.regions),eY(t.data.regions);else throw Error("Invalid response format from regions API")}catch(e){e0("Failed to load regions")}finally{eJ(!1)}},e4=e=>e?"".concat(e.name,", ").concat(e.city,", ").concat(e.state):"";(0,s.useEffect)(()=>{e3()},[]),(0,s.useEffect)(()=>{(async()=>{if(p&&d)try{h(!0);let e=localStorage.getItem("token")||localStorage.getItem("authToken");if(!e){n.toast.error("Please login to edit property"),u.push("/properties-management");return}let t=await fetch("".concat("https://broker-adda-be.fly.dev/api","/properties/").concat(d),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json(),r=(null==e?void 0:e.data)||(null==e?void 0:e.property)||e;eT(r)}else n.toast.error("Failed to load property data"),u.push("/properties-management")}catch(e){n.toast.error("Failed to load property data"),u.push("/properties-management")}finally{h(!1)}})()},[p,d,u]),(0,s.useEffect)(()=>{if(!eB||!p||0===eq.length&&eB.region&&"string"==typeof eB.region&&/^[0-9a-fA-F]{24}$/.test(eB.region))return;let e="",t="";if(eB.region)if("string"==typeof eB.region)if(/^[0-9a-fA-F]{24}$/.test(eB.region)){e=eB.region;let r=eq.find(e=>e._id===eB.region);r?(t=e4(r),x(e=>({...e,city:r.city||e.city}))):e=eB.region}else{t=eB.region;let r=eq.find(e=>e4(e)===eB.region);r&&(e=r._id)}else"object"==typeof eB.region&&null!==eB.region&&(eB.region._id?(e=eB.region._id,t=e4(eB.region),x(e=>({...e,city:eB.region.city||e.city}))):t=e4(eB.region));x({title:eB.title||"",description:eB.description||"",propertyDescription:eB.propertyDescription||eB.description||"",region:t||eB.region||"",address:eB.address||"",city:eB.city||"Agra",price:eB.price?String(eB.price):"",priceUnit:eB.priceUnit||"INR",propertySize:eB.propertySize?String(eB.propertySize):"",propertyType:eB.propertyType||"Residential",subType:eB.subType||"Apartment"}),j(Array.isArray(eB.amenities)?eB.amenities:[]),k(Array.isArray(eB.nearbyAmenities)?eB.nearbyAmenities:[]),L(Array.isArray(eB.features)?eB.features:[]),B(Array.isArray(eB.locationBenefits)?eB.locationBenefits:[]),M(Array.isArray(eB.images)?eB.images.filter(V):[]),R(Array.isArray(eB.videos)?eB.videos:[]),ep(eB.bedrooms?String(eB.bedrooms):""),eg(eB.bathrooms?String(eB.bathrooms):""),em(eB.furnishing||"Furnished"),ey(eB.status||"Pending Approval"),eb(eB.isFeatured||!1),ev(eB.isHotProperty||!1),ew(eB.notes||""),X(eB.facingDirection||""),et(eB.possessionStatus||""),es(eB.propertyAge||""),en(eB.propertyAgeYears?String(eB.propertyAgeYears):""),eB.coordinates&&ei({lat:eB.coordinates.lat?String(eB.coordinates.lat):"",lng:eB.coordinates.lng?String(eB.coordinates.lng):""}),e?e1(e):eB.region&&"string"==typeof eB.region&&/^[0-9a-fA-F]{24}$/.test(eB.region)&&e1(eB.region)},[eB,eq,p]),(0,s.useEffect)(()=>{if(window.google&&window.google.maps&&window.google.maps.places)return;let e=t.default.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(!e||document.getElementById("google-places-script"))return;let r=document.createElement("script");r.id="google-places-script",r.async=!0,r.defer=!0,r.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=places"),document.head.appendChild(r)},[]),(0,s.useEffect)(()=>{try{if(window.google&&window.google.maps&&window.google.maps.places&&eo.current){let e=new window.google.maps.places.Autocomplete(eo.current,{types:["geocode"]});e.addListener("place_changed",()=>{let t=e.getPlace(),r=(null==t?void 0:t.formatted_address)||eo.current.value||"",s="",a="";if(((null==t?void 0:t.address_components)||[]).forEach(e=>{(e.types||[]).includes("locality")&&(s=e.long_name||e.short_name||s),(e.types||[]).includes("administrative_area_level_1")&&(a=e.long_name||e.short_name||a)}),x(e=>({...e,address:r,city:s||e.city})),s){let e=eq.filter(e=>(e.city||"").toLowerCase()===s.toLowerCase());eY(e.length?e:eq)}})}}catch(e){}},[eq]),(0,s.useEffect)(()=>{(e=>{if(!e)return eY(eq);let t=e.toLowerCase();eY(eq.filter(e=>e.name.toLowerCase().includes(t)||e.city.toLowerCase().includes(t)||e.state.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))})(e$)},[e$,eq]),(0,s.useEffect)(()=>{let e=e=>{eV&&!e.target.closest(".region-dropdown")&&eG(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[eV]);let e5=e=>"string"==typeof e&&e.trim().length>0,e9=e=>""!==e&&!Number.isNaN(Number(e))&&Number(e)>0,e7=()=>e5(g.title)&&g.title.trim().length>=3&&e5(g.region)&&e5(g.address)&&e9(g.price)&&e5(g.city)&&e9(g.propertySize)&&e9(ed)&&e9(eu)&&e5(g.propertyType)&&e5(g.subType),e6=()=>1===eE?e7():2===eE||3===eE,e8=()=>{let e=0;return e7()&&(e=1),1===e&&(e=2),2===e&&(e=3),e},te=Math.max(0,Math.round(e8()/3*100)),tt=e=>!(e<1)&&!(e>3)&&(e<=eE||(2===e?e7():3===e&&e7()&&!0)),tr=e=>{let{name:t,value:r}=e.target;if("title"===t){let e=r.replace(/[^a-zA-Z0-9\s]/g,""),s=e.trim().split(/\s+/).filter(e=>e.length>0),a=s.length,n=/[^a-zA-Z0-9\s]/.test(r),o=a>50,l=e.trim().length>0&&e.trim().length<3;n&&o?eP("Special characters not allowed and only 50 words allowed."):n?eP("Special characters are not allowed. Only letters, numbers, and spaces are allowed."):l?eP("Title must be at least 3 characters long."):o||50===a?eP("Only 50 words allowed."):eP("");let i=e;o&&(i=s.slice(0,50).join(" ")),x(e=>({...e,[t]:i}))}else if("description"===t){let e=r.slice(0,250);x(r=>({...r,[t]:e}))}else if("propertyDescription"===t){let e=r.slice(0,500);x(r=>({...r,[t]:e}))}else x(e=>({...e,[t]:r}))},ts=(e,t,r,s)=>{let a=e.trim();if(a){if(r.includes(a))return void s("");t([...r,a]),s("")}},ta=(e,t)=>t(t=>t.filter(t=>t!==e)),tn=()=>{eQ(""),eq.length>0&&eY(eq),eG(!0)},to=async e=>{if(e.preventDefault(),e.stopPropagation(),3!==eE)return void n.toast.error("Please complete all steps. Currently on step ".concat(eE," of 3."));eA(!0),eS(!0);try{var t,r,s,a,o,l,i,c;let e=localStorage.getItem("token");if(!e){n.toast.error("Please login to create a property"),eS(!1);return}let x=null;try{let s=e.split(".");if(3===s.length){let e=JSON.parse(atob(s[1]));x=(null==e?void 0:e.userId)||(null==e||null==(t=e.user)?void 0:t._id)||(null==e||null==(r=e.user)?void 0:r.id)||(null==e?void 0:e._id)||(null==e?void 0:e.id)||(null==e?void 0:e.sub)||null}}catch(e){}if(!x){n.toast.error("Failed to extract user ID from token. Please re-login."),eS(!1);return}let m=null;try{let t=await fetch("".concat("https://broker-adda-be.fly.dev/api","/brokers/").concat(x),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();m=(null==e?void 0:e._id)||(null==e||null==(s=e.broker)?void 0:s._id)||(null==e||null==(a=e.data)?void 0:a._id)||(null==e||null==(l=e.data)||null==(o=l.broker)?void 0:o._id)||null,null==e||null==(c=e.data)||null==(i=c.broker)||i.role}}catch(e){}if(!m){n.toast.error("Broker not found for this account."),eS(!1);return}let h=new FormData;h.append("title",g.title),h.append("description",g.description||""),h.append("propertyDescription",g.propertyDescription||""),h.append("propertySize",g.propertySize||""),h.append("propertyType",g.propertyType),h.append("subType",g.subType),h.append("price",g.price),h.append("priceUnit",g.priceUnit),h.append("address",g.address||""),h.append("city",g.city);let y=e2;if(!y&&g.region){let e=eq.find(e=>e4(e)===g.region);e&&e._id&&(y=e._id,e1(e._id))}if(!y){n.toast.error("Please select a valid region from the list."),eS(!1);return}h.append("region",y),h.append("bedrooms",ed||"0"),h.append("bathrooms",eu||"0"),h.append("furnishing",ex),b.forEach(e=>h.append("amenities[]",e)),w.forEach(e=>h.append("nearbyAmenities[]",e)),A.forEach(e=>h.append("features[]",e)),D.forEach(e=>h.append("locationBenefits[]",e)),p&&0===W.length&&0===H.length?h.append("videos",""):(W.forEach(e=>h.append("videos[]",e)),H.forEach(e=>h.append("videos",e))),p&&0===F.length&&0===U.length?h.append("images",""):(F.forEach(e=>h.append("images[]",e)),U.forEach(e=>h.append("images",e))),h.append("status",eh),h.append("isFeatured",ef.toString()),h.append("isHotProperty",ej.toString()),h.append("notes",eN||""),J&&h.append("facingDirection",J),ee&&h.append("possessionStatus",ee);let f=ea;!f&&er&&("New"===er?f="0":"<5 Years"===er?f="3":"<10 Years"===er?f="8":">10 Years"===er&&(f="11")),null!=f&&""!=="".concat(f)&&h.append("propertyAgeYears","".concat(f)),h.append("postedBy","Broker"),h.append("verificationStatus","Unverified"),h.append("broker",m);let j="https://broker-adda-be.fly.dev/api",v=p&&d?"".concat(j,"/properties/").concat(d):"".concat(j,"/properties"),N=p&&d?"PUT":"POST",k=await fetch(v,{method:N,headers:{Authorization:"Bearer ".concat(e)},body:h});if(!k.ok){let e=await k.json().catch(()=>({}));throw Error(e.message||"Failed to ".concat(p?"update":"create"," property"))}await k.json(),n.toast.success("Property ".concat(p?"updated":"created"," successfully!"),{duration:3e3,icon:"✅"}),setTimeout(()=>{u.push("/properties-management")},2e3)}catch(e){n.toast.error(e.message||"Failed to create property. Please try again.")}finally{eS(!1)}};return m&&p?(0,r.jsxs)(o.default,{children:[(0,r.jsx)(l.default,{data:{title:"Edit Property",breadcrumb:[{label:"Home",href:"/"},{label:"Properties",href:"/properties-management"},{label:"Edit",href:"/properties-management/edit/".concat(d)}]}}),(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-900 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading property data..."})]})})]}):(0,r.jsxs)(o.default,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"/google-places.css"}),(0,r.jsx)(n.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,r.jsx)(l.default,{data:{title:p?"Edit Property":"Add New Property",breadcrumb:[{label:"Home",href:"/"},{label:"Properties",href:"/properties-management"},{label:p?"Edit":"Add New",href:p?"/properties-management/edit/".concat(d):"/properties-management/new"}]}}),(0,r.jsx)("div",{className:"min-h-screen bg-white",children:(0,r.jsxs)("div",{className:"w-full px-4 md:px-0 py-8 max-w-none",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:p?"Edit Property":"Add New Property"}),(0,r.jsx)("p",{className:"text-gray-600",children:p?"Update your property listing details":"Create a new property listing with all the details"})]}),(0,r.jsxs)(i.default,{href:"/properties-management",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Properties"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,r.jsxs)("div",{className:"col-span-12 lg:col-span-8 ",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:Array.from({length:3},(e,t)=>t+1).map((e,t)=>{let a=e===eE,n=e<eE,o=tt(e);return(0,r.jsxs)(s.default.Fragment,{children:[(0,r.jsx)("button",{type:"button",onClick:()=>{o&&(e=>{tt(e)&&eD(e)})(e)},disabled:!o,"aria-disabled":!o,className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(n?"bg-green-900 text-white":a?"bg-green-700 text-white":"bg-gray-300 text-gray-500"," transition-all ").concat(o?"":"opacity-60 cursor-not-allowed"),style:{cursor:o?"pointer":"not-allowed",pointerEvents:o?"auto":"none"},children:e}),t<2&&(0,r.jsx)("div",{className:"".concat(e<eE?"bg-green-900":"bg-gray-200"," flex-1 h-1 mx-1")})]},"step-".concat(e))})}),(0,r.jsx)("div",{className:"flex items-center justify-between text-xs mt-2",children:(0,r.jsxs)("span",{className:"text-gray-600",children:[te,"% Completed"]})}),(0,r.jsx)("div",{className:"w-full h-7 relative",children:(0,r.jsx)("div",{className:"absolute top-2.5 left-0 w-full h-2 bg-[#9AEFBD] rounded-md overflow-hidden",children:(0,r.jsx)("div",{className:"absolute left-0 top-0 h-full bg-[#0D542B] transition-all duration-300 ease-in-out",style:{width:"".concat(e8()/3*100,"%")}})})})]})}),(0,r.jsx)("form",{onSubmit:e=>3!==eE?(e.preventDefault(),e.stopPropagation(),!1):to(e),className:"  ",children:(0,r.jsxs)("div",{className:" space-y-8",children:[1===eE&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Basic Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Title *"}),(0,r.jsx)("input",{name:"title",value:g.title,onChange:tr,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault(),g.title.trim().split(/\s+/).filter(e=>e.length>0).length>=50&&"Backspace"!==e.key&&"Delete"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&!e.key.startsWith("Arrow")&&"Home"!==e.key&&"End"!==e.key&&e.preventDefault()},className:"w-full rounded-xl text-[13px] px-3 py-2 focus:outline-none transition-all duration-200 ".concat(eL||eC&&!e5(g.title)?"border border-red-300 focus:ring-2 focus:ring-red-400":"border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:border-transparent"),placeholder:"",required:!0}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[eL&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:eL}),!eL&&eC&&!e5(g.title)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Title is required."})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),(0,r.jsx)(a.default,{value:eI||(g.address?{value:g.address,label:g.address,description:g.address}:null),onChange:e=>{eW(e),x(t=>({...t,address:e?e.description:""}));try{window.google&&window.google.maps&&(null==e?void 0:e.placeId)&&new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:e.placeId},(e,t)=>{t===window.google.maps.places.PlacesServiceStatus.OK&&e&&e.geometry&&e.geometry.location&&ei({lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})})}catch(e){}},onInputChange:e=>{if(eO.current&&clearTimeout(eO.current),!ez||!window.google||!e||e.length<1)return void e_([]);eO.current=setTimeout(()=>{eU(!0),new window.google.maps.places.AutocompleteService().getPlacePredictions({input:e,types:["establishment","geocode"],componentRestrictions:{country:"in"}},(e,t)=>{eU(!1),t===window.google.maps.places.PlacesServiceStatus.OK&&e?e_(e.map(e=>({value:e.place_id,label:e.description,placeId:e.place_id,description:e.description}))):e_([])})},300)},options:eM,placeholder:ez?"Search address...":"Loading address search...",isClearable:!0,isSearchable:!0,isLoading:eR,noOptionsMessage:()=>"No addresses found",loadingMessage:()=>"Searching addresses...",classNamePrefix:"react-select",styles:{control:(e,t)=>({...e,minHeight:42,borderRadius:12,borderColor:!eC||e5(g.address)?"#D1D5DB":"#FCA5A5",boxShadow:t.isFocused?!eC||e5(g.address)?"0 0 0 2px #9CA3AF":"0 0 0 2px #FCA5A5":"none","&:hover":{borderColor:!eC||e5(g.address)?"#9CA3AF":"#FCA5A5"},fontSize:13}),menu:e=>({...e,zIndex:50}),option:(e,t)=>({...e,fontSize:"12px",padding:"8px 12px",color:t.isSelected||t.isFocused?"#065f46":"#374151",backgroundColor:t.isSelected?"#d1fae5":t.isFocused?"#f0fdf4":"#ffffff","&:active":{backgroundColor:"#d1fae5"}}),singleValue:e=>({...e,fontSize:"13px"}),input:e=>({...e,fontSize:"13px"})}}),eC&&!e5(g.address)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Address is required."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),(0,r.jsxs)("div",{className:"relative region-dropdown",children:[(0,r.jsx)("input",{type:"text",name:"region",value:""!==e$?e$:g.region,ref:ec,onChange:e=>{let t=e.target.value;eQ(t),eG(!0),x(e=>({...e,region:t})),e1("")},onFocus:tn,onKeyDown:e=>{"Escape"===e.key&&eG(!1)},onClick:tn,className:"w-full rounded-xl text-[13px] px-3 py-2 focus:outline-none transition-all duration-200 ".concat(eC&&!e5(g.region)?"border border-red-300 focus:ring-2 focus:ring-red-400":"border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:border-transparent"),placeholder:"Select a region...",required:!0,autoComplete:"off"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-200 ".concat(eV?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),eV&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:eZ?(0,r.jsxs)("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center gap-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),"Loading regions..."]}):eX?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-red-600",children:eX}):0===eK.length&&0===eq.length?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No regions available"}):0===eK.length&&e$?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No regions found"}):0===eK.length?(0,r.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Loading regions..."}):(0,r.jsx)("ul",{className:"py-1",children:eK.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("button",{type:"button",onClick:()=>(e=>{let t=e4(e);x(e=>({...e,region:t})),eQ(""),eG(!1),e1((null==e?void 0:e._id)||""),e&&e.city&&x(t=>({...t,city:e.city}));try{ec.current&&ec.current.blur()}catch(e){}})(e),className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 focus:bg-gray-50 focus:outline-none cursor-pointer",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.city,", ",e.state]})]})},e._id))})})]}),eC&&!e5(g.region)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Region is required."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City (auto)"}),(0,r.jsx)("input",{name:"city",value:g.city,readOnly:!0,className:"w-full rounded-xl text-[13px] px-3 py-2 border border-gray-200 bg-gray-50 text-gray-700",placeholder:"Auto-filled from address/region"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facing Direction"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["North","East","South","West"].map(e=>{let t=J===e;return(0,r.jsx)("button",{type:"button",onClick:()=>X(t=>t===e?"":e),className:"px-2.5 py-1 rounded-md text-[12px] border transition-colors ".concat(t?"bg-gray-200 text-gray-900 border-gray-300":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:e},e)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Possession Status"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Ready to Move","Under Construction","Upcoming"].map(e=>{let t=ee===e;return(0,r.jsx)("button",{type:"button",onClick:()=>et(t=>t===e?"":e),className:"px-2.5 py-1 rounded-md text-[12px] border transition-colors ".concat(t?"bg-gray-200 text-gray-900 border-gray-300":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:e},e)})})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price *"}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-2 flex items-center text-gray-500",children:"₹"}),(0,r.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:g.price,onChange:e=>{let t=e.target.value;(""===t||/^[0-9]+$/.test(t))&&x(e=>({...e,price:t}))},className:"pl-6 pr-3 py-2 text-[13px] rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-blue-200 ".concat(eC&&!e9(g.price)?"border border-red-300 bg-white":"border border-gray-300 bg-white"),"aria-label":"Price",name:"price",required:!0})]}),(0,r.jsx)("input",{type:"range",min:0,max:1e8,step:1e4,value:Number(g.price||0),onChange:e=>x(t=>({...t,price:String(Number(e.target.value))})),className:"w-full mt-2 accent-green-900"})]})}),eC&&!e9(g.price)&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"Enter a valid price."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Age"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["New","<5 Years","<10 Years",">10 Years"].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>es(t=>t===e?"":e),className:"px-2.5 py-1 rounded-md text-[12px] border transition-colors ".concat(er===e?"bg-gray-200 text-gray-900 border-gray-300":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:e},e))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Size (sqft) *"}),(0,r.jsx)("input",{type:"number",name:"propertySize",value:g.propertySize,onChange:tr,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},min:"0",className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200",placeholder:"e.g. 1200"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bedrooms (BHK) *"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["1","2","3","4","5+"].map(e=>{let t="5+"===e?"5":e,s=ed===e||"5+"===e&&Number(ed)>=5;return(0,r.jsx)("button",{type:"button",onClick:()=>ep(e=>e===t?"":t),className:"px-2.5 py-1 rounded-md text-[12px] border transition-colors ".concat(s?"bg-gray-200 text-gray-900 border-gray-300":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:e},e)})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bathrooms *"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["1","2","3","4","5+"].map(e=>{let t="5+"===e?"5":e,s=eu===e||"5+"===e&&Number(eu)>=5;return(0,r.jsx)("button",{type:"button",onClick:()=>eg(e=>e===t?"":t),className:"px-2.5 py-1 rounded-md text-[12px] border transition-colors ".concat(s?"bg-gray-200 text-gray-900 border-gray-300":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:e},e)})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Type *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{name:"propertyType",value:g.propertyType,onChange:tr,className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 appearance-none",required:!0,children:[(0,r.jsx)("option",{children:"Residential"}),(0,r.jsx)("option",{children:"Commercial"}),(0,r.jsx)("option",{children:"Plot"}),(0,r.jsx)("option",{children:"Other"})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sub Type"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{name:"subType",value:g.subType,onChange:tr,className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 appearance-none",children:[(0,r.jsx)("option",{children:"Apartment"}),(0,r.jsx)("option",{children:"Villa"}),(0,r.jsx)("option",{children:"Office"}),(0,r.jsx)("option",{children:"Shop"}),(0,r.jsx)("option",{children:"Land"}),(0,r.jsx)("option",{children:"Other"})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Furnishing"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:ex,onChange:e=>em(e.target.value),className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 appearance-none",children:[(0,r.jsx)("option",{children:"Furnished"}),(0,r.jsx)("option",{children:"Semi-Furnished"}),(0,r.jsx)("option",{children:"Unfurnished"})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Short Description"}),(0,r.jsx)("textarea",{name:"description",value:g.description,onChange:tr,onBlur:e=>x(t=>({...t,description:e.target.value.trim()})),rows:2,maxLength:250,className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none",placeholder:""}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 text-right",children:[g.description.length,"/250"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),(0,r.jsx)("textarea",{name:"propertyDescription",value:g.propertyDescription,onChange:tr,onBlur:e=>x(t=>({...t,propertyDescription:e.target.value.trim()})),rows:3,maxLength:500,className:"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none",placeholder:""}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 text-right",children:[g.propertyDescription.length,"/500"]})]})]})]}),2===eE&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Amenities & Features"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Property Amenities"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[G.map(e=>{let t=b.includes(e);return(0,r.jsxs)("button",{type:"button",onClick:()=>{t?ta(e,j):b.includes(e)||j(t=>[...t,e])},className:"px-3 py-1.5 rounded-full text-[12px] border transition-colors ".concat(t?"bg-green-900 text-white border-green-900":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:[e,t&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e)}),b.filter(e=>!G.includes(e)).map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>ta(e,j),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors",children:[e,(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e))]}),(0,r.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),(()=>{let e=y.trim();if(e){if(b.includes(e))return f("");j([...b,e]),f("")}})())},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type amenity and press Enter to add"})]})]}),3===eE&&(0,r.jsx)("div",{className:" gap-6",children:(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A2 2 0 0122 9.528v4.944a2 2 0 01-2.447 1.804L15 14m0-4v4m0-4L9 6m6 8l-6 4m0-12v8m0 0L3.447 9.528A2 2 0 013 7.724V2.78A2 2 0 015.447.976L9 2.5"})})}),(0,r.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Media & Publishing"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Step 1: Add Images (min 3)"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[F.length+U.length," / 3 minimum"]})]}),(0,r.jsxs)("div",{onClick:()=>{q.current&&q.current.click()},className:"border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-green-500 hover:bg-green-50 transition-all duration-200 cursor-pointer flex flex-col items-center justify-center py-12 px-4",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Add Images"}),(0,r.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Click to upload or drag and drop"}),(0,r.jsx)("input",{ref:q,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=Array.from(e.target.files||[]);t.length&&O(e=>[...e,...t])},className:"hidden"})]}),(F.length>0||U.length>0)&&(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[F.filter(e=>V(e)).map((e,t)=>(0,r.jsxs)("div",{className:"relative group aspect-square",children:[(0,r.jsx)("img",{src:e,alt:"Image ".concat(t+1),className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:e=>{e.target.onerror=null,e.target.src=""}}),(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),ta(e,M)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs shadow-lg",children:"×"})]},"url-".concat(t))),U.map((e,t)=>{let s=URL.createObjectURL(e);return(0,r.jsxs)("div",{className:"relative group aspect-square",children:[(0,r.jsx)("img",{src:s,alt:e.name,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:e=>{e.target.onerror=null,e.target.src=""}}),(0,r.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),O(e=>e.filter((e,r)=>r!==t))},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs shadow-lg",children:"×"})]},"file-".concat(t))})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Step 2: Add Videos (optional)"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[W.length+H.length," added"]})]}),(0,r.jsxs)("div",{onClick:()=>{Y.current&&Y.current.click()},className:"border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-green-500 hover:bg-green-50 transition-all duration-200 cursor-pointer flex flex-col items-center justify-center py-12 px-4",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A2 2 0 0122 9.528v4.944a2 2 0 01-2.447 1.804L15 14m0-4v4m0-4L9 6m6 8l-6 4m0-12v8m0 0L3.447 9.528A2 2 0 013 7.724V2.78A2 2 0 015.447.976L9 2.5"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Add Videos"}),(0,r.jsx)("span",{className:"text-xs text-gray-400 mt-1",children:"Click to upload video files"}),(0,r.jsx)("input",{ref:Y,type:"file",multiple:!0,accept:"video/*",onChange:e=>{let t=Array.from(e.target.files||[]);t.length&&K(e=>[...e,...t])},className:"hidden"})]}),(W.length>0||H.length>0)&&(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 mt-4",children:[W.map((e,t)=>(0,r.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg p-3 flex items-center gap-3",children:[(0,r.jsxs)("svg",{className:"w-8 h-8 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,r.jsx)("span",{className:"text-xs text-gray-600 truncate flex-1",children:e}),(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),ta(e,R)},className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs flex-shrink-0",children:"×"})]},"video-url-".concat(t))),H.map((e,t)=>(0,r.jsxs)("div",{className:"relative group bg-gray-100 rounded-lg p-3 flex items-center gap-3",children:[(0,r.jsxs)("svg",{className:"w-8 h-8 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,r.jsx)("span",{className:"text-xs text-gray-600 truncate flex-1",children:e.name}),(0,r.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),K(e=>e.filter((e,r)=>r!==t))},className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs flex-shrink-0",children:"×"})]},"video-file-".concat(t)))]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,r.jsx)("textarea",{value:eN,onChange:e=>ew(e.target.value),rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Internal notes (optional)"})]}),(0,r.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:ej,onChange:e=>ev(e.target.checked),className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Hot Property"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 ml-8",children:"Mark this property as a hot/urgent listing"})]})]})}),2===eE&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Nearby Amenities"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Q.map(e=>{let t=w.includes(e);return(0,r.jsxs)("button",{type:"button",onClick:()=>{t?ta(e,k):w.includes(e)||k(t=>[...t,e])},className:"px-3 py-1.5 rounded-full text-[12px] border transition-colors ".concat(t?"bg-green-900 text-white border-green-900":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:[e,t&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e)}),w.filter(e=>!Q.includes(e)).map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>ta(e,k),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors",children:[e,(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e))]}),(0,r.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ts(v,k,w,N))},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type nearby amenity and press Enter to add"})]}),2===eE&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Features"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[$.map(e=>{let t=A.includes(e);return(0,r.jsxs)("button",{type:"button",onClick:()=>{t?ta(e,L):A.includes(e)||L(t=>[...t,e])},className:"px-3 py-1.5 rounded-full text-[12px] border transition-colors ".concat(t?"bg-green-900 text-white border-green-900":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:[e,t&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e)}),A.filter(e=>!$.includes(e)).map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>ta(e,L),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors",children:[e,(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e))]}),(0,r.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ts(S,L,A,C))},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type feature and press Enter to add"})]}),2===eE&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-900",children:"Location Benefits"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Z.map(e=>{let t=D.includes(e);return(0,r.jsxs)("button",{type:"button",onClick:()=>{t?ta(e,B):D.includes(e)||B(t=>[...t,e])},className:"px-3 py-1.5 rounded-full text-[12px] border transition-colors ".concat(t?"bg-green-900 text-white border-green-900":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"),children:[e,t&&(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e)}),D.filter(e=>!Z.includes(e)).map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>ta(e,B),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors",children:[e,(0,r.jsx)("span",{className:"ml-1",children:"✓"})]},e))]}),(0,r.jsx)("input",{type:"text",value:P,onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ts(P,B,D,E))},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type location benefit and press Enter to add"})]}),(0,r.jsx)("div",{className:"pt-8 border-t border-gray-100",children:eE<3?(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),eE<3&&e6()&&eD(eE+1)},disabled:!e6()||ek,className:"w-full py-3 rounded-xl font-semibold focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ".concat(e6()&&!ek?"bg-green-900 text-white hover:bg-green-700 focus:ring-green-100 hover:shadow-xl":"bg-gray-200 text-gray-500"),style:{cursor:!e6()||ek?"default":"pointer"},children:["Continue",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}):(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsx)("button",{type:"submit",disabled:ek||m||!e6(),className:"w-full py-3 rounded-xl font-semibold focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ".concat(!ek&&!m&&e6()?"bg-green-900 text-white hover:bg-green-700 focus:ring-green-100 hover:shadow-xl":"bg-gray-200 text-gray-500 opacity-50"),style:{cursor:ek||m||!e6()?"default":"pointer"},children:ek?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p?"Updating...":"Creating..."]}):m?"Loading...":p?"Update Property":"Create Property"})})})]})})]}),(0,r.jsxs)("div",{className:"col-span-12 lg:col-span-4 space-y-4 order-1 lg:sticky lg:top-4 self-start",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-4",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tips for Property Creation"}),(0,r.jsxs)("ul",{className:"text-[13px] text-gray-700 list-disc pl-5 space-y-2",children:[(0,r.jsx)("li",{children:"Fill basic info first, then add region details."}),(0,r.jsx)("li",{children:"Use address autocomplete to quickly pick exact locations."}),(0,r.jsx)("li",{children:"Add at least 3 clear images and one video link."}),(0,r.jsx)("li",{children:"Use nearest regions for faster setup."})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-[260px]",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Support & Documentation"}),(0,r.jsxs)("div",{className:"space-y-3 text-[13px]",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.09 9a3 3 0 015.82 0c0 1.657-1.5 2.34-1.5 3.5m.01 3h-.01"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"9"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Visit Support Center"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Answers to frequently asked questions."})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),(0,r.jsx)("path",{d:"M14 2v6h6"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Read Documentation"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Explore guides and platform tutorials."})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M4 4h16v16H4z"}),(0,r.jsx)("polyline",{points:"22,6 12,13 2,6"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Email Support"}),(0,r.jsx)("p",{className:"text-gray-600",children:"support@brokeradda.com"})]})]})]})]})]})]})]})})]})},p=e=>{var t;let{searchParams:s={}}=e,a=(e=>Array.isArray(e)?e[0]:e)(null!=(t=s.propertyId)?t:s.id)||null,n=!!((null==s?void 0:s.mode)==="edit"||a);return(0,r.jsx)(d,{propertyId:a,isEditMode:n})}}]);