(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75009,e=>{"use strict";e.s(["default",()=>m]);var t=e.i(43476),r=e.i(71645),i=e.i(22016),s=e.i(18566),a=e.i(9078),l=e.i(12124),o=e.i(88773),n=e.i(14588),d=e.i(68413),c=e.i(5766);let x=[{label:"Description"},{label:"Review"}];function h(){var e,h,m,p,g,u,f,y,v,j,b,w,N,k,C;let B=(0,s.useSearchParams)(),S=(0,s.useRouter)(),{user:A,isAuthenticated:F}=(0,d.useAuth)(),D=e=>{if(!e||0===e)return"0";let t="string"==typeof e?parseFloat(e.replace(/[â‚¹,]/g,"")):e;return isNaN(t)||0===t?"0":t>=1e7?"".concat((t/1e7).toFixed(2)," Cr"):t>=1e5?"".concat((t/1e5).toFixed(2)," Lakhs"):t>=1e3?"".concat((t/1e3).toFixed(2)," K"):Math.round(t).toLocaleString("en-IN")},[P,L]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{let e=(window.location.pathname||"").match(/\/property-details\/(.+)$/);e&&e[1]&&L(e[1])}catch(e){}},[]);let[_,I]=(0,r.useState)(null),[M,E]=(0,r.useState)(!0),[R,T]=(0,r.useState)(""),[z,W]=(0,r.useState)(0),[H,U]=(0,r.useState)(null),[V,q]=(0,r.useState)(!1),[O,K]=(0,r.useState)(""),[Y,G]=(0,r.useState)([]),[J,$]=(0,r.useState)(!1),[Q,X]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(!0),[et,er]=(0,r.useState)(!1),[ei,es]=(0,r.useState)(null),[ea,el]=(0,r.useState)(!1),[eo,en]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)(!1),[ex,eh]=(0,r.useState)(0),[em,ep]=(0,r.useState)(""),[eg,eu]=(0,r.useState)(!1),[ef,ey]=(0,r.useState)([]),[ev,ej]=(0,r.useState)(null),[eb,ew]=(0,r.useState)(!1),[eN,ek]=(0,r.useState)(!1),[eC,eB]=(0,r.useState)(0),[eS,eA]=(0,r.useState)("");(0,r.useEffect)(()=>{eA(window.location.pathname),(async()=>{var e,t,r,i,s;E(!0),T("");let a=(null==B?void 0:B.get("id"))||P;if(a)try{let s=localStorage.getItem("token")||localStorage.getItem("authToken"),l="https://broker-adda-be.algofolks.com/api",o={"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{}},n=await fetch("".concat(l,"/properties/").concat(encodeURIComponent(String(a))),{headers:o});if(!n.ok)throw Error("Failed to fetch property details");let d=await n.json(),c=(null==d||null==(e=d.data)?void 0:e.property)||(null==d?void 0:d.property)||(null==d?void 0:d.data)||d;if(c){let e={id:c._id||c.id||a,name:c.title||c.name||"Property",category:c.propertyType||c.type||c.category||"Property",price:c.price||0,originalPrice:c.originalPrice||c.oldPrice||0,discount:c.discount||"",rating:c.rating||4.7,reviewCount:c.reviewCount||245,image:(null==(t=c.images)?void 0:t[0])||c.image||"/images/pexels-binyaminmellish-106399.jpg",images:c.images||[c.image||"/images/pexels-binyaminmellish-106399.jpg"],propertyDescription:c.propertyDescription||c.description||"",description:c.description||c.propertyDescription||"Modern property with excellent connectivity and amenities.",bedrooms:c.bedrooms||3,bathrooms:c.bathrooms||2,areaSqft:c.propertySize||c.areaSqft||c.area||1450,city:c.city||"Delhi NCR",region:c.region||"Prime Location",amenities:c.amenities||[],nearbyAmenities:c.nearbyAmenities||[],features:c.features||[],locationBenefits:c.locationBenefits||[],status:c.status||"Available",address:c.address||"",propertyType:c.propertyType||c.type||"Apartment",subType:c.subType||"",facing:c.facing||"East",floor:c.floor||"5th of 12 floors",maintenance:c.maintenance||"â‚¹3,000/month",propertyTax:c.propertyTax||"â‚¹1,200/month",registrationCost:c.registrationCost||"â‚¹50,000 (approx)",loanAvailable:!1!==c.loanAvailable,pricePerSqft:c.pricePerSqft||(c.price&&c.areaSqft?Math.round(c.price/c.areaSqft):0),videos:Array.isArray(c.videos)?c.videos:[],_raw:c};if(I(e),ek(!1),eB(0),(null==c?void 0:c.broker)&&"object"==typeof c.broker){let e=c.broker,t={id:e._id||e.id||"",name:e.name||e.fullName||e.firmName||"Agent",phone:e.phone||e.mobile||"",email:e.email||"",firm:e.firmName||e.company||"",image:e.brokerImage||e.profileImage||e.avatar||"/images/user-1.webp",region:e.region||c.city||c.region||"",experience:e.experience||e.experienceYears||""};U(t),es(e)}let s=("object"==typeof(null==c?void 0:c.createdBy)&&(null==(r=c.createdBy)?void 0:r._id)?c.createdBy._id:"string"==typeof(null==c?void 0:c.createdBy)?c.createdBy:null)||(null==c?void 0:c.brokerId)||(null==c?void 0:c.agentId)||(null==c?void 0:c.ownerId)||(null==c?void 0:c.userId);if(s){q(!0),K("");try{let e=await fetch("".concat(l,"/brokers/").concat(encodeURIComponent(String(s))),{headers:o});if(e.ok){let t=await e.json().catch(()=>({})),r=(null==t||null==(i=t.data)?void 0:i.broker)||(null==t?void 0:t.broker)||(null==t?void 0:t.data)||t;if(r){let e={id:r._id||r.id||s,name:r.name||r.fullName||r.firmName||"Agent",phone:r.phone||r.mobile||r.contact||"",email:r.email||"",firm:r.firmName||r.company||"",image:r.brokerImage||r.profileImage||r.avatar||"/images/user-1.webp",region:(()=>{let e=r.region;if(Array.isArray(e)&&e.length>0){let t=e[0];return"string"==typeof t?t:(null==t?void 0:t.name)||(null==t?void 0:t.city)||(null==t?void 0:t.state)||""}return"string"==typeof e?e:e&&"object"==typeof e?e.name||e.city||e.state||"":r.city||r.state||""})(),experience:r.experience||r.experienceYears||""};U(e),es(r)}}else K("Failed to fetch agent details")}catch(e){K("Failed to fetch agent details")}finally{q(!1)}}}else T("Property not found")}catch(i){console.error("Error fetching property details:",i),T("Failed to load property details");let e=(null===l.default||void 0===l.default||null==(s=l.default.products)?void 0:s.items)||[],t=Number(a),r=e.find(e=>e.id===t);r&&(I(r),T(""))}finally{E(!1)}})()},[B,P]),(0,r.useEffect)(()=>{(async()=>{if((null==_?void 0:_.id)||(null==_?void 0:_._id)){ew(!0);try{let e=localStorage.getItem("token")||localStorage.getItem("authToken"),t={"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}},r=(null==_?void 0:_.id)||(null==_?void 0:_._id),i="/property-ratings/property/".concat(encodeURIComponent(String(r))),s=await fetch("".concat("https://broker-adda-be.algofolks.com/api").concat(i),{headers:t});if(!s.ok)throw Error("Failed to fetch ratings: ".concat(s.status));let a=await s.json();if(a.success&&a.data){let e=Array.isArray(a.data.ratings)?a.data.ratings:[];ey(e),a.data.stats&&(ej(a.data.stats),console.log("Property ratings stats:",a.data.stats),console.log("Total ratings/comments:",a.data.stats.totalRatings))}else ey([]),ej(null)}catch(e){console.error("Error fetching property ratings:",e),ey([]),ej(null)}finally{ew(!1)}}})()},[null==_?void 0:_.id,null==_?void 0:_._id]),(0,r.useEffect)(()=>{(async()=>{if(!(null==_?void 0:_.id)||!F()||!(null==A?void 0:A.token))return el(!1);try{let t=A.token,r=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/saved-properties"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(r.ok){var e;let t=await r.json(),i=(null==t||null==(e=t.data)?void 0:e.savedProperties)||(null==t?void 0:t.savedProperties)||[],s=_.id||_._id,a=i.some(e=>{var t,r,i,a;return((null==(t=e.propertyId)?void 0:t._id)||(null==(r=e.propertyId)?void 0:r.id)||e.propertyId)===s||((null==(i=e.property)?void 0:i._id)||(null==(a=e.property)?void 0:a.id)||e.property)===s||e._id===s});el(a)}}catch(e){console.error("Error checking saved status:",e)}})()},[null==_?void 0:_.id,F,null==A?void 0:A.token]);let eF=async()=>{if(!F()||!(null==A?void 0:A.token)){let e=window.location.href;localStorage.setItem("returnUrl",e),S.push("/login");return}if(!(null==_?void 0:_.id))return void c.default.error("Property information not available");en(!0);try{let e="https://broker-adda-be.algofolks.com/api",t=A.token,r=_.id||_._id;if(ea){let i=await fetch("".concat(e,"/saved-properties/").concat(r),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(i.ok)el(!1),c.default.success("Property removed from saved list");else{let e=await i.json().catch(()=>({}));c.default.error(e.message||"Failed to remove property")}}else{let i=await fetch("".concat(e,"/saved-properties"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({propertyId:r})});if(i.ok)el(!0),c.default.success("Property saved successfully");else{let e=await i.json().catch(()=>({}));c.default.error(e.message||"Failed to save property")}}}catch(e){console.error("Error toggling wishlist:",e),c.default.error("Network error. Please try again.")}finally{en(!1)}};(0,r.useEffect)(()=>{(async()=>{if(!_)return console.log("ðŸ“ SimilarProperties: No product, skipping API call");console.log("ðŸ“ SimilarProperties: Starting fetch, product:",(null==_?void 0:_.id)||(null==_?void 0:_._id)),$(!0);try{var e,t,r,i,s;let a=localStorage.getItem("token")||localStorage.getItem("authToken"),l="https://broker-adda-be.algofolks.com/api",o={"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},n="",d="";if(a)try{let t=JSON.parse(atob(a.split(".")[1]));if(d=t.brokerId||t.userId||t.id||t.sub||"")try{let t=await fetch("".concat(l,"/brokers/").concat(d),{headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}}});if(t.ok){let r=await t.json(),i=(null==r||null==(e=r.data)?void 0:e.broker)||(null==r?void 0:r.broker)||(null==r?void 0:r.data)||r;n=(null==i?void 0:i._id)||(null==i?void 0:i.id)||""}}catch(e){console.error("Error fetching broker details:",e)}}catch(e){console.error("Error parsing token:",e)}let c=null,x=null,h=_._raw||_;if(console.log("ðŸ“ SimilarProperties: Property data:",h),(null==h?void 0:h.latitude)!==void 0&&(null==h?void 0:h.longitude)!==void 0&&(c=Number(h.latitude),x=Number(h.longitude),Number.isFinite(c)&&Number.isFinite(x)?console.log("ðŸ“ SimilarProperties: Using direct latitude/longitude fields:",c,x):(c=null,x=null)),!c||!x)if((null==h||null==(t=h.location)?void 0:t.coordinates)&&Array.isArray(h.location.coordinates)&&h.location.coordinates.length>=2){let e=h.location.coordinates;90>=Math.abs(e[0])&&180>=Math.abs(e[1])?(c=e[0],x=e[1]):(x=e[0],c=e[1]),console.log("ðŸ“ SimilarProperties: Using property location coordinates:",c,x)}else if((null==h?void 0:h.region)&&Array.isArray(h.region)&&h.region.length>0){let e=h.region[0];(null==e?void 0:e.centerCoordinates)&&Array.isArray(e.centerCoordinates)&&e.centerCoordinates.length>=2&&(c=e.centerCoordinates[0],x=e.centerCoordinates[1],console.log("ðŸ“ SimilarProperties: Using region centerCoordinates:",c,x))}else(null==h?void 0:h.region)&&"object"==typeof h.region&&!Array.isArray(h.region)&&(null==(r=h.region)?void 0:r.centerCoordinates)&&Array.isArray(h.region.centerCoordinates)&&h.region.centerCoordinates.length>=2&&(c=h.region.centerCoordinates[0],x=h.region.centerCoordinates[1],console.log("ðŸ“ SimilarProperties: Using single region centerCoordinates:",c,x));c&&x||console.log("ðŸ“ SimilarProperties: No coordinates found in property data");let m=new URLSearchParams;c&&x?(m.append("latitude",c.toString()),m.append("longitude",x.toString()),console.log("ðŸ“ SimilarProperties: Fetching similar properties with distance filter:","".concat(l,"/properties?").concat(m.toString()))):(m.append("limit","20"),console.log("ðŸ“ SimilarProperties: No coordinates available, fetching all properties:","".concat(l,"/properties?").concat(m.toString()))),console.log("ðŸ“ SimilarProperties: Making API call...");let p=await fetch("".concat(l,"/properties?").concat(m.toString()),{headers:o});if(console.log("ðŸ“ SimilarProperties: API Response status:",p.status),p.ok){let e=await p.json();console.log("Full API Response:",e);let t=[];(null==e||null==(i=e.data)?void 0:i.properties)?t=e.data.properties:(null==e||null==(s=e.data)?void 0:s.items)?t=e.data.items:(null==e?void 0:e.properties)?t=e.properties:(null==e?void 0:e.data)&&Array.isArray(e.data)?t=e.data:Array.isArray(e)&&(t=e),console.log("Properties found:",t.length);let r=_.id||_._id;console.log("Current property ID:",r);let a=t.filter(e=>{let t=e._id||e.id;if(t===r)return!1;if(n||d){let r="";if(e.broker&&("string"==typeof e.broker?r=e.broker:"object"==typeof e.broker&&null!==e.broker&&(r=e.broker._id||e.broker.id||"")),!r){let t=e.createdBy||e.postedBy;if(t){if("string"==typeof t)r=t;else if("object"==typeof t&&null!==t){let e=t.userId;e&&"object"==typeof e&&null!==e?r=e._id||e.id||"":e&&"string"==typeof e&&(r=e),r||(r=t._id||t.id||t.brokerId||"")}}}let i=String(n||"").trim(),s=String(d||"").trim(),a=String(r).trim();if(""!==i&&a===i||""!==s&&a===s)return console.log("ðŸ” SimilarProperties: Filtering out own property:",t,"Broker ID:",a),!1}return!0}),l=e=>{var t;let r=null!=(t=e.distanceKm)?t:e.distance;return Number.isFinite(Number(r))?Number(r):1/0},o=a.sort((e,t)=>{let r=l(e),i=l(t);return r-i}).slice(0,5).map(e=>{var t;return{id:e._id||e.id,name:e.title||e.name||"Property",category:e.propertyType||e.type||e.category||"Property",price:e.price||0,originalPrice:e.originalPrice||e.oldPrice||0,image:(null==(t=e.images)?void 0:t[0])||e.image||"/images/pexels-binyaminmellish-106399.jpg",areaSqft:e.propertySize||e.areaSqft||e.area||0,bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,city:e.city||"",region:e.region||""}});console.log("ðŸ“ SimilarProperties: Showing",o.length,"similar properties sorted by distance (excluding own properties)"),G(o)}}catch(e){console.error("Error fetching similar properties:",e),G([])}finally{$(!1)}})()},[_]),(0,r.useEffect)(()=>{let e=document.getElementById("related-properties-carousel");if(e){let t=()=>{let{scrollLeft:t,scrollWidth:r,clientWidth:i}=e;X(t>10),ee(t<r-i-10)};return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[Y]);let eD=(0,r.useMemo)(()=>{if(!_)return["/images/pexels-binyaminmellish-106399.jpg"];let e=_.images||[_.image],t=e[0]||"/images/pexels-binyaminmellish-106399.jpg",r=e[1]||t,i=e[2]||t,s=e[3]||t,a=e[4]||t,l=e[5]||t;return[t,r,i,s,a,l]},[_]),eP=(null==_?void 0:_.price)||0;null==_||_.originalPrice,null==_||_.discount;let eL={title:"Property Details",description:"View property information, features, amenities, location details, and pricing."};return M?(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(o.default,{data:eL}),(0,t.jsx)("div",{className:"py-10",children:(0,t.jsxs)("div",{className:"w-full mx-auto",children:[(0,t.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,t.jsxs)("section",{className:"md:col-span-8 space-y-12",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-50 rounded-2xl overflow-hidden relative",style:{width:"100%",height:"420px"},children:(0,t.jsxs)(a.default,{speed:2,width:800,height:420,viewBox:"0 0 800 420",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"16",ry:"16",width:"800",height:"420"}),(0,t.jsx)("rect",{x:"16",y:"16",rx:"8",ry:"8",width:"80",height:"32"}),(0,t.jsx)("circle",{cx:"768",cy:"40",r:"20"}),(0,t.jsx)("circle",{cx:"728",cy:"40",r:"20"})]})}),(0,t.jsx)("div",{className:"flex gap-3",children:[1,2,3,4,5].map(e=>(0,t.jsx)("div",{className:"flex-1",style:{borderRadius:"8px",overflow:"hidden",height:"120px"},children:(0,t.jsx)(a.default,{speed:2,width:150,height:120,viewBox:"0 0 150 120",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:(0,t.jsx)("rect",{x:"0",y:"0",rx:"8",ry:"8",width:"150",height:"120"})})},e))})]}),(0,t.jsx)("div",{className:"w-full bg-white rounded-[16px] shadow-xs border border-gray-200 p-4 px-8",children:(0,t.jsxs)(a.default,{speed:2,width:600,height:200,viewBox:"0 0 600 200",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"150",height:"24"}),(0,t.jsx)("circle",{cx:"12",cy:"60",r:"10"}),(0,t.jsx)("rect",{x:"30",y:"52",rx:"4",ry:"4",width:"60",height:"12"}),(0,t.jsx)("rect",{x:"30",y:"68",rx:"4",ry:"4",width:"80",height:"16"}),(0,t.jsx)("circle",{cx:"312",cy:"60",r:"10"}),(0,t.jsx)("rect",{x:"330",y:"52",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"330",y:"68",rx:"4",ry:"4",width:"100",height:"16"}),(0,t.jsx)("circle",{cx:"12",cy:"120",r:"10"}),(0,t.jsx)("rect",{x:"30",y:"112",rx:"4",ry:"4",width:"50",height:"12"}),(0,t.jsx)("rect",{x:"30",y:"128",rx:"4",ry:"4",width:"90",height:"16"}),(0,t.jsx)("circle",{cx:"312",cy:"120",r:"10"}),(0,t.jsx)("rect",{x:"330",y:"112",rx:"4",ry:"4",width:"50",height:"12"}),(0,t.jsx)("rect",{x:"330",y:"128",rx:"4",ry:"4",width:"120",height:"16"})]})}),(0,t.jsx)("div",{className:"w-full bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:(0,t.jsxs)(a.default,{speed:2,width:600,height:200,viewBox:"0 0 600 200",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"150",height:"24"}),[0,1,2,3,4,5].map(e=>{let i=Math.floor(e/2),s=e%2*280,a=40+30*i;return(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("circle",{cx:s,cy:a+6,r:"3"}),(0,t.jsx)("rect",{x:s+10,y:a,rx:"4",ry:"4",width:120,height:"12"})]},e)})]})}),(0,t.jsxs)("div",{className:"mt-8 w-full",children:[(0,t.jsx)("div",{className:"inline-flex gap-2 mb-6 bg-gray-100 rounded-md border border-gray-200 p-1",children:(0,t.jsxs)(a.default,{speed:2,width:200,height:48,viewBox:"0 0 200 48",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,t.jsx)("rect",{x:"24",y:"12",rx:"6",ry:"6",width:"80",height:"24"}),(0,t.jsx)("rect",{x:"112",y:"12",rx:"6",ry:"6",width:"60",height:"24"})]})}),(0,t.jsx)("div",{className:"rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)(a.default,{speed:2,width:600,height:150,viewBox:"0 0 600 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"600",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"20",rx:"4",ry:"4",width:"570",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"4",ry:"4",width:"540",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"60",rx:"4",ry:"4",width:"510",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"80",rx:"4",ry:"4",width:"600",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"100",rx:"4",ry:"4",width:"552",height:"12"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 w-full",children:[(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)(a.default,{speed:2,width:300,height:180,viewBox:"0 0 300 180",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"120",height:"20"}),[0,1,2,3].map(e=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("circle",{cx:"12",cy:40+32*e,r:"10"}),(0,t.jsx)("rect",{x:"30",y:32+32*e,rx:"4",ry:"4",width:"150",height:"12"})]},e))]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)(a.default,{speed:2,width:300,height:180,viewBox:"0 0 300 180",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"140",height:"20"}),[0,1,2,3].map(e=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("circle",{cx:"12",cy:40+32*e,r:"10"}),(0,t.jsx)("rect",{x:"30",y:32+32*e,rx:"4",ry:"4",width:"150",height:"12"})]},e))]})})]})]}),(0,t.jsxs)("aside",{className:"md:col-span-4 space-y-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-[16px] border border-gray-200 shadow-xs p-6",children:(0,t.jsxs)(a.default,{speed:2,width:400,height:250,viewBox:"0 0 400 250",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"150",height:"24"}),(0,t.jsx)("rect",{x:"320",y:"4",rx:"12",ry:"12",width:"60",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"4",ry:"4",width:"200",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"70",rx:"4",ry:"4",width:"180",height:"14"}),(0,t.jsx)("rect",{x:"0",y:"90",rx:"4",ry:"4",width:"150",height:"14"}),(0,t.jsx)("rect",{x:"0",y:"115",rx:"4",ry:"4",width:"180",height:"28"}),(0,t.jsx)("rect",{x:"0",y:"160",rx:"6",ry:"6",width:"100%",height:"40"}),(0,t.jsx)("rect",{x:"0",y:"210",rx:"6",ry:"6",width:"100%",height:"40"})]})}),(0,t.jsx)("div",{className:"border border-gray-200 p-6 w-full bg-white rounded-[16px] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:(0,t.jsxs)(a.default,{speed:2,width:400,height:180,viewBox:"0 0 400 180",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"120",height:"24"}),(0,t.jsx)("circle",{cx:"24",cy:"50",r:"24"}),(0,t.jsx)("rect",{x:"60",y:"40",rx:"4",ry:"4",width:"140",height:"16"}),(0,t.jsx)("rect",{x:"60",y:"62",rx:"4",ry:"4",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"60",y:"80",rx:"4",ry:"4",width:"180",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"110",rx:"10",ry:"10",width:"100%",height:"40"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:(0,t.jsxs)(a.default,{speed:2,width:400,height:150,viewBox:"0 0 400 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"140",height:"24"}),(0,t.jsx)("rect",{x:"150",y:"40",rx:"4",ry:"4",width:"60",height:"36"}),[0,1,2,3,4].map(e=>(0,t.jsx)("circle",{cx:220+30*e,cy:"58",r:"12"},e)),(0,t.jsx)("rect",{x:"130",y:"90",rx:"4",ry:"4",width:"140",height:"14"})]})}),(0,t.jsx)("div",{className:"w-full h-[232px] bg-[#EDFDF4] rounded-[16px] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:(0,t.jsxs)(a.default,{speed:2,width:400,height:232,viewBox:"0 0 400 232",backgroundColor:"#e0f2e9",foregroundColor:"#c8e6d5",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("circle",{cx:"200",cy:"90",r:"24"}),(0,t.jsx)("rect",{x:"140",y:"130",rx:"4",ry:"4",width:"120",height:"20"}),(0,t.jsx)("rect",{x:"80",y:"158",rx:"4",ry:"4",width:"240",height:"14"}),(0,t.jsx)("rect",{x:"150",y:"185",rx:"6",ry:"6",width:"100",height:"40"})]})})]})]}),(0,t.jsxs)("div",{className:"mt-12 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)(a.default,{speed:2,width:180,height:32,viewBox:"0 0 180 32",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:(0,t.jsx)("rect",{x:"0",y:"4",rx:"4",ry:"4",width:"150",height:"24"})}),(0,t.jsx)(a.default,{speed:2,width:80,height:32,viewBox:"0 0 80 32",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:(0,t.jsx)("rect",{x:"0",y:"0",rx:"8",ry:"8",width:"80",height:"32"})})]}),(0,t.jsx)("div",{className:"flex gap-6 min-w-0 pb-2",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"flex-shrink-0 w-80 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)(a.default,{speed:2,width:320,height:280,viewBox:"0 0 320 280",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"8",ry:"8",width:"320",height:"200"}),(0,t.jsx)("rect",{x:"0",y:"220",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"240",rx:"4",ry:"4",width:"200",height:"16"}),(0,t.jsx)("rect",{x:"0",y:"262",rx:"4",ry:"4",width:"150",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"278",rx:"4",ry:"4",width:"120",height:"14"})]})},e))})]})]})})]}):R?(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(o.default,{data:eL}),(0,t.jsx)("div",{className:"py-10",children:(0,t.jsx)("div",{className:"w-full mx-auto",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Property"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:R}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Try Again"})]})})})})]}):_?(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(c.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,t.jsx)(o.default,{data:eL}),(0,t.jsx)("div",{className:"py-10",children:(0,t.jsx)("div",{className:"w-full mx-auto",children:(0,t.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-12 gap-6 items-start",children:[(0,t.jsxs)("section",{className:"md:col-span-8 space-y-12",children:[(0,t.jsxs)("div",{className:" space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-2xl overflow-hidden relative group",children:[(0,t.jsx)("img",{src:eD[eC],alt:"Property",className:"w-full h-[360px] md:h-[420px] object-cover group-hover:scale-105 transition-transform duration-500"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"absolute top-4 left-4 flex gap-2",children:(0,t.jsx)("span",{className:"px-3 py-1.5  backdrop-blur-sm text-white text-sm font-medium rounded-lg ",children:"Featured"})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{let e=window.location.href,t=(null==_?void 0:_.name)||"Property",r=(null==_?void 0:_.description)||(null==_?void 0:_.propertyDescription)||"Check out this property",i="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e),"&quote=").concat(encodeURIComponent("".concat(t," - ").concat(r)));window.open(i,"facebook-share-dialog","width=626,height=436")},className:"w-[40px] h-[40px] px-[10px] flex items-center justify-center text-[#171A1F] bg-white/80 backdrop-blur-sm opacity-100 border-none rounded-full hover:text-[#171A1F] hover:bg-white/80 active:text-[#171A1F] active:bg-white/80 disabled:opacity-40 transition-colors",title:"Share on Facebook",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),(0,t.jsx)("button",{onClick:eF,disabled:eo,className:"w-[40px] h-[40px] px-[10px] flex items-center justify-center bg-white/80 backdrop-blur-sm opacity-100 border-none rounded-full hover:text-[#171A1F] hover:bg-white/80 active:text-[#171A1F] active:bg-white/80 disabled:opacity-40 transition-colors ".concat(ea?"text-red-500":"text-[#171A1F]"),title:ea?"Remove from saved":"Save property",children:ea?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[eD.slice(1,6).map((e,r)=>{let i=r+1,s=eC===i;return(0,t.jsxs)("div",{onClick:()=>eB(i),className:"flex-1 bg-gray-50 overflow-hidden relative group cursor-pointer transition-all duration-300 ".concat(s?"ring-2 ring-[#0D542B] ring-offset-2":""),style:{borderRadius:"8px"},children:[(0,t.jsx)("img",{src:e,alt:"Thumbnail ".concat(r+1),className:"w-full h-[120px] object-cover group-hover:scale-105 transition-transform duration-300 ".concat(s?"opacity-100":"opacity-90"),style:{borderRadius:"8px"}}),s&&(0,t.jsx)("div",{className:"absolute inset-0 bg-[#0D542B]/10 pointer-events-none",style:{borderRadius:"8px"}})]},r)}),eD.length>6&&(0,t.jsx)("div",{className:"flex-1 bg-gray-50 overflow-hidden relative group cursor-pointer border-2 border-dashed border-gray-300 flex items-center justify-center",style:{borderRadius:"8px"},children:(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["+",eD.length-6," More"]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 w-full bg-white rounded-[16px] shadow-xs border border-gray-200 p-4 px-8",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 ",children:(0,t.jsx)("h3",{className:"text-[18px] leading-[28px] font-semibold text-[#171A1F]",children:"Property Details"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"mt-3 justify-center",children:(0,t.jsxs)("svg",{className:"w-[20px] h-[20px]  text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"3",y:"10",width:"18",height:"7",rx:"1"}),(0,t.jsx)("path",{d:"M7 10V7a2 2 0 012-2h6a2 2 0 012 2v3"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-inter text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Bedrooms"}),(0,t.jsxs)("div",{className:"font-inter text-[14px] leading-[24px] font-medium text-[#171A1F]",children:[_.bedrooms," BHK"]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:" justify-center mt-3",children:(0,t.jsx)("svg",{className:"w-[20px] h-[20px]  text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("rect",{x:"3",y:"6",width:"18",height:"12",rx:"2"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-inter text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Built-up Area"}),(0,t.jsxs)("div",{className:"font-inter text-[14px] leading-[24px] font-medium text-[#171A1F]",children:[null==(e=_.areaSqft)?void 0:e.toLocaleString("en-IN")," sq.ft"]})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"mt-3 justify-center",children:(0,t.jsxs)("svg",{className:"w-[20px] h-[20px]  text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,t.jsx)("path",{d:"M12 7v5l3 3"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-inter text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Listed"}),(0,t.jsx)("div",{className:"font-inter text-[14px] leading-[24px] font-medium text-[#171A1F]",children:(null==_?void 0:_.createdAt)?new Date(_.createdAt).toLocaleDateString():"3 days ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"mt-3 justify-center",children:(0,t.jsxs)("svg",{className:"w-[20px] h-[20px]  text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,t.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-inter text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Price"}),(0,t.jsxs)("div",{className:"font-inter text-[14px] leading-[24px] font-medium text-[#171A1F]",children:["â‚¹",D(eP)]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"font-inter text-[18px] leading-[28px] font-semibold text-[#171A1F] mb-4",children:"Nearby Amenities"}),(null==_||null==(h=_.nearbyAmenities)?void 0:h.length)?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:_.nearbyAmenities.map((e,r)=>(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-100 text-gray-700 font-inter text-[12px] leading-[20px] font-medium border border-gray-300",children:e},r))}):(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No nearby amenities listed."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:"font-inter text-[18px] leading-[28px] font-semibold text-[#171A1F] mb-4",children:"Amenities"}),(null==_||null==(m=_.amenities)?void 0:m.length)?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:_.amenities.map((e,r)=>(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-100 text-gray-700 font-inter text-[12px] leading-[20px] font-medium border border-gray-300",children:e},r))}):(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No amenities listed."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 w-full",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,t.jsx)("h4",{className:"font-bold text-gray-900 mb-6 text-[18px]",children:"Key Features"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:((null==_?void 0:_.features)&&_.features.length>0?_.features:["Corner Unit","Park Facing"]).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-100 text-gray-700 font-inter text-[12px] leading-[20px] font-medium border border-gray-300",children:e},e))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,t.jsx)("h4",{className:"font-bold text-gray-900 mb-6 text-[18px]",children:"Location Benefits"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:((null==_?void 0:_.locationBenefits)&&_.locationBenefits.length>0?_.locationBenefits:["Near IT Park","Easy Highway Access"]).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-100 text-gray-700 font-inter text-[12px] leading-[20px] font-medium border border-gray-300",children:e},e))})]})]}),(0,t.jsxs)("div",{className:"mt-8 w-full",children:[(0,t.jsx)("div",{className:"inline-flex gap-2 mb-6 bg-gray-100 rounded-md border border-gray-200 ",children:x.map((e,r)=>(0,t.jsx)("button",{onClick:()=>W(r),className:"px-6 py-3 text-base font-medium focus:outline-none transition-all rounded-md ".concat(z===r?"text-[#171A1F] bg-[#E6F7ED]":"text-[#565D6D] hover:text-[#171A1F]"),children:e.label},e.label))}),(0,t.jsx)("div",{className:" rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)("div",{className:"pt-2",children:[0===z&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-6"}),(0,t.jsx)("div",{className:"prose prose-gray max-w-none",children:((null==_?void 0:_.propertyDescription)||(null==_?void 0:_.description))&&(0,t.jsx)("p",{className:"w-full font-inter text-[12px] leading-[24px] font-normal text-[#565D6D] mb-4",children:_.propertyDescription||_.description})})]})}),1===z&&(0,t.jsx)(t.Fragment,{}),1===z&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)("span",{className:"inline-block h-0.5 w-8 rounded bg-yellow-400"}),(0,t.jsx)("h3",{className:"text-[18px] font-bold text-gray-900",children:"Reviews & Ratings"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-8 mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[(0,t.jsxs)("div",{className:"text-center md:text-left",children:[(0,t.jsx)("div",{className:"text-6xl font-bold text-gray-900 mb-2",children:(null==ev?void 0:ev.averageRating)?ev.averageRating.toFixed(1):((null==_?void 0:_.rating)||0).toFixed(1)}),(0,t.jsx)("div",{className:"flex items-center justify-center md:justify-start gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>{let i=(null==ev?void 0:ev.averageRating)||(null==_?void 0:_.rating)||0;return(0,t.jsx)("svg",{className:"w-6 h-6 ".concat(r<Math.round(i)?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r)})}),(0,t.jsx)("div",{className:"text-[14px] text-gray-600 mb-1",children:(()=>{let e=(null==ev?void 0:ev.averageRating)||(null==_?void 0:_.rating)||0;return e>=4.5?"Excellent":e>=3.5?"Very Good":e>=2.5?"Good":e>=1.5?"Fair":"Poor"})()}),(0,t.jsxs)("div",{className:"text-[12px] text-gray-500",children:["Based on"," ",(null==ev?void 0:ev.totalRatings)||(null==ef?void 0:ef.length)||0," ",(null==ev?void 0:ev.totalRatings)===1?"review":"reviews"]})]}),(0,t.jsx)("div",{className:"flex-1 w-full",children:[5,4,3,2,1].map(e=>{let r=((null==ev?void 0:ev.distribution)||{})[e]||0,i=(null==ev?void 0:ev.totalRatings)||(null==ef?void 0:ef.length)||1,s=i>0?Math.round(r/i*100):0;return(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("span",{className:"w-12 text-gray-700 text-[12px] font-medium",children:[e," Star"]}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-3 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full transition-all duration-500",style:{width:"".concat(s,"%")}})}),(0,t.jsxs)("span",{className:"text-[12px] text-gray-600 w-8 text-right",children:[s,"%"]})]},e)})})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h4",{className:"text-[18px] font-bold text-gray-900 mb-4",children:"Recent Reviews"}),eb?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading reviews..."})}):ef&&ef.length>0?(0,t.jsx)(t.Fragment,{children:ef.map(e=>{var r;let i=(null==(r=e.userId)?void 0:r.name)||"Anonymous",s=i.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),a=e.createdAt?new Date(e.createdAt):null;return(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-[14px]",children:s}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h5",{className:"font-semibold text-[14px] text-gray-900",children:i})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((r,i)=>(0,t.jsx)("svg",{className:"w-4 h-4 ".concat(i<e.rating?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},i))}),(0,t.jsx)("span",{className:"text-[12px] text-gray-500",children:(e=>{if(!e)return"Recently";let t=Math.floor(Math.abs(new Date-e)/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):t<30?"".concat(Math.floor(t/7)," weeks ago"):t<365?"".concat(Math.floor(t/30)," months ago"):e.toLocaleDateString()})(a)})]})]})]})}),e.review&&(0,t.jsx)("p",{className:"text-[12px] text-gray-700 leading-6",children:e.review})]},e._id)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-gray-400 mb-2",children:"No reviews yet"}),(0,t.jsx)("div",{className:"text-[12px] text-gray-500",children:"Be the first to review this property!"})]})]})]})})]})})]})]}),(0,t.jsxs)("aside",{className:"md:col-span-4 space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-[16px] border border-gray-200 shadow-xs p-6 mb-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h3",{className:" top-[19px] left-[16px] font-inter text-[18px] leading-[28px] font-semibold text-[#171A1F]",children:"Property Details"})})}),(0,t.jsx)("div",{className:"flex items-start gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,t.jsx)("h1",{className:"text-[16px] font-semibold text-gray-900",children:(null==_?void 0:_.name)||"Property"})}),(0,t.jsx)("p",{className:"top-[61px] left-[16px] font-inter text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"object"==typeof _.region?(null==(p=_.region)?void 0:p.name)||[null==(g=_.region)?void 0:g.city,null==(u=_.region)?void 0:u.state].filter(Boolean).join(", "):_.region}),(0,t.jsxs)("p",{className:"top-[61px] left-[16px] font-inter text-[12px] leading-[20px] font-normal text-[#565D6D] mt-2",children:["â€¢ Listed"," ",(null==_?void 0:_.createdAt)?new Date(_.createdAt).toLocaleDateString():"3 days ago"]}),(0,t.jsxs)("p",{className:"  text-[18px] leading-[32px] font-bold text-[#0D542B] mt-2",children:["â‚¹",D(eP)]})]})}),(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsxs)("button",{onClick:()=>er(!0),className:"w-full h-[40px] px-[12px] flex items-center justify-center gap-[16px] font-inter text-[14px] leading-[22px] font-medium text-white bg-[#0D542B] rounded-[6px] border-0 hover:bg-[#0B4624] active:bg-[#08321A] disabled:opacity-40",children:["Inquiry",(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})]})})]}),(0,t.jsxs)("div",{className:"border border-gray-200 p-6 w-full bg-white rounded-[16px] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h3",{className:"font-inter text-[18px] leading-[28px] font-semibold text-[#171A1F]",children:"Agent Details"})}),V?(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 animate-pulse"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-40 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-3 w-28 bg-gray-200 rounded animate-pulse"})]})]}):H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:H.image,alt:"Agent",className:"w-12 h-12 rounded-full object-cover"}),(0,t.jsxs)("div",{className:"leading-[20px]",children:[(0,t.jsx)("div",{className:"font-inter font-semibold text-gray-900",children:H.name}),H.firm&&(0,t.jsx)("div",{className:"text-[12px] text-gray-500",children:H.firm}),(0,t.jsx)("div",{className:"text-[12px] text-gray-400",children:"Expert Broker".concat((null==H?void 0:H.region)?" â€¢ "+("object"==typeof H.region?(null==(f=H.region)?void 0:f.name)||[null==(y=H.region)?void 0:y.city,null==(v=H.region)?void 0:v.state].filter(Boolean).join(", "):H.region):"")})]})]}),ei&&(0,t.jsx)("button",{onClick:()=>{if(!(localStorage.getItem("token")||localStorage.getItem("authToken")))return void S.push("/login?redirect=".concat(eS));window.openChatWithBroker&&window.openChatWithBroker({broker:ei})},type:"button",className:"mt-4 w-full h-10 flex items-center justify-center font-inter text-[14px] leading-[22px] font-medium text-[#323742] bg-[#F3F4F6] rounded-[10px] hover:bg-[#E9EBEF] active:bg-[#D9DEE6] disabled:opacity-40",children:"Chat Now"})]}):(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Agent details not available."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,t.jsx)("h3",{className:"font-inter text-[18px] leading-[28px] font-semibold text-[#171A1F]",children:"Property Rating"})}),(null==ev?void 0:ev.averageRating)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>{let i=Math.max(0,Math.min(100,(ev.averageRating-r)*100));return(0,t.jsxs)("div",{className:"relative w-[24px] h-[24px]",children:[(0,t.jsx)("svg",{className:"w-[24px] h-[24px] text-gray-300 absolute inset-0",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.4 8.164L12 18.896l-7.334 3.864 1.4-8.164L.132 9.21l8.2-1.192z"})}),i>0&&(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,t.jsx)("svg",{className:"w-[24px] h-[24px] text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor",style:{clipPath:"inset(0 ".concat(100-i,"% 0 0)")},children:(0,t.jsx)("path",{d:"M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.4 8.164L12 18.896l-7.334 3.864 1.4-8.164L.132 9.21l8.2-1.192z"})})})]},r)})})})}):null,(0,t.jsxs)("button",{onClick:()=>{if(!(localStorage.getItem("token")||localStorage.getItem("authToken")))return void S.push("/login");ec(!0)},className:"w-full h-[40px] px-3 flex items-center justify-center gap-2 font-inter text-[12px] leading-[22px] font-medium text-[#0D542B] bg-white border border-[#0D542B] hover:bg-[#EDFDF4] hover:active:bg-[#D9F5E8] disabled:opacity-40 rounded-md transition-colors ".concat((null==ev?void 0:ev.averageRating)?"mt-4":"mt-0"),children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Rate This Property"]})]}),(null==_?void 0:_.videos)&&_.videos.length>0?(0,t.jsx)("div",{className:"w-full bg-[#EDFDF4] rounded-[16px] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] overflow-hidden",children:eN?(0,t.jsxs)("div",{className:"relative w-full bg-black rounded-[16px] overflow-hidden",style:{minHeight:"232px"},children:[(()=>{let e=_.videos[0],r=(e=>{if(!e||"string"!=typeof e)return null;let t=e.trim();if(!t)return null;if(t.includes("youtube.com/embed")||t.includes("youtu.be/embed"))return t;let r=null,i=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);i&&(r=i[1]);let s=t.match(/youtube\.com\/embed\/([^&\n?#]+)/);return(s&&(r=s[1]),r)?"https://www.youtube.com/embed/".concat(r,"?rel=0"):t})(e);return r&&r.includes("youtube.com/embed")?(0,t.jsx)("iframe",{src:r,className:"w-full h-auto max-h-[400px]",style:{minHeight:"232px",aspectRatio:"16/9"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Property Video"}):(0,t.jsx)("video",{src:e,controls:!0,className:"w-full h-auto max-h-[400px]",style:{minHeight:"232px"},children:"Your browser does not support the video tag."})})(),(0,t.jsx)("button",{onClick:()=>ek(!1),className:"absolute top-2 right-2 bg-black/70 text-white rounded-full p-2 hover:bg-black/90 transition z-10","aria-label":"Close video",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,t.jsxs)("div",{className:"h-[232px] flex flex-col items-center justify-center text-center p-4",children:[(0,t.jsx)("svg",{className:"w-[48px] h-[48px] text-[#0D542B] mb-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"text-[18px] leading-[28px] font-semibold text-[#19191F]",children:"Property Video"}),(0,t.jsx)("p",{className:"mt-1 font-inter text-[12px] leading-[20px] font-normal text-[#19191F]",children:"Take a 360Â° tour of the property"}),(0,t.jsx)("button",{onClick:()=>ek(!0),className:"mt-4 w-[107.13px] h-[40px] px-[12px] flex items-center justify-center font-inter text-[14px] leading-[22px] font-medium text-[#0D542B] bg-white rounded-[6px] border border-[#0D542B] hover:bg-[#EDFDF4] active:bg-[#EDFDF4] disabled:opacity-40 transition-colors",children:"View Video"})]})}):(0,t.jsxs)("div",{className:"w-full h-[232px] bg-[#EDFDF4] rounded-[16px] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("svg",{className:"w-[48px] h-[48px] text-[#0D542B] mb-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"text-[18px] leading-[28px] font-semibold text-[#19191F]",children:"Property Video"}),(0,t.jsx)("p",{className:"mt-1 font-inter text-[12px] leading-[20px] font-normal text-[#19191F]",children:"No video available"})]})]})]})})}),(0,t.jsxs)("div",{className:"mt-12 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h3",{className:"text-[18px] leading-[32px] font-semibold text-[#171A1F]",children:"Related Properties"})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.default,{href:"/search?tab=properties",className:"px-4 py-2 text-gray-900 rounded-lg text-sm font-medium transition-colors",children:"View All"})})]}),(0,t.jsx)("div",{id:"related-properties-carousel",className:"overflow-x-auto scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:e=>{let{scrollLeft:t,scrollWidth:r,clientWidth:i}=e.currentTarget;X(t>10),ee(t<r-i-10)},children:(0,t.jsx)("div",{className:"flex gap-6 min-w-0 pb-2",children:J?Array.from({length:6}).map((e,r)=>(0,t.jsx)("div",{className:"flex-shrink-0 w-80 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:(0,t.jsxs)(a.default,{speed:2,width:320,height:280,viewBox:"0 0 320 280",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"8",ry:"8",width:"320",height:"200"}),(0,t.jsx)("rect",{x:"0",y:"220",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"240",rx:"4",ry:"4",width:"200",height:"16"}),(0,t.jsx)("rect",{x:"0",y:"262",rx:"4",ry:"4",width:"150",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"278",rx:"4",ry:"4",width:"120",height:"14"})]})},r)):Y.length>0?Y.map(e=>{var r,s,a,l;return(0,t.jsx)("div",{className:"flex-shrink-0 w-80 bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-lg transition-shadow",children:(0,t.jsxs)(i.default,{href:"/property-details/".concat(e.id),className:"block group",children:[(0,t.jsx)("div",{className:"aspect-[4/3] bg-gray-100 rounded-t-2xl overflow-hidden",children:(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,t.jsxs)("div",{className:"px-4 pt-4 pb-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 text-base line-clamp-1",children:e.name}),(0,t.jsx)("svg",{className:"w-5 h-5 text-green-900 mt-2 flex-shrink-0 rotate-60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10l7-7 7 7M12 3v18"})})]}),(0,t.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:e.category}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,t.jsxs)("span",{className:"line-clamp-1",children:[e.city||""," ","object"==typeof e.region?(null==(r=e.region)?void 0:r.name)||[null==(s=e.region)?void 0:s.city,null==(a=e.region)?void 0:a.state].filter(Boolean).join(", "):e.region?"â€¢ ".concat(e.region):""]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,t.jsxs)("span",{children:[e.bedrooms||0," BHK â€¢"," ",(null==(l=e.areaSqft)?void 0:l.toLocaleString("en-IN"))||"0"," sq.ft"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 pt-1",children:(0,t.jsxs)("span",{className:"text-gray-900 font-semibold text-base",children:["â‚¹",D(e.price)]})})]})]})},e.id)}):(0,t.jsx)("div",{className:"w-full flex items-center justify-center py-16",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-6 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,t.jsx)("p",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No related properties found"}),(0,t.jsx)("p",{className:"text-base text-gray-500",children:"We couldn't find any properties with similar features."})]})})})}),(0,t.jsxs)("div",{className:"flex gap-2 mt-7 justify-center",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("related-properties-carousel");e&&Q&&e.scrollBy({left:-320,behavior:"smooth"})},disabled:!Q,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors shadow-md ".concat(Q?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 text-gray-400 cursor-not-allowed"),title:"Previous",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("related-properties-carousel");e&&Z&&e.scrollBy({left:320,behavior:"smooth"})},disabled:!Z,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors shadow-md ".concat(Z?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 text-gray-400 cursor-not-allowed"),title:"Next",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,t.jsx)("div",{className:"w-full max-w-full bg-[#FFF9E6] rounded-2xl shadow-xs mt-4",children:(0,t.jsxs)("div",{className:"px-6 py-8 text-center relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 "}),(0,t.jsx)("div",{className:"absolute top-3 right-3 w-12 h-12 bg-yellow-100 rounded-full opacity-20"}),(0,t.jsx)("div",{className:"absolute bottom-3 left-3 w-10 h-10 bg-yellow-200 rounded-full opacity-30"}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto relative z-10",children:[(0,t.jsx)("div",{className:"inline-flex items-center mt-4",children:(0,t.jsx)("img",{src:"/images/lucide-Sparkles-Outlined.svg",className:"w-[32px] h-[32px]",style:{filter:"brightness(0) saturate(100%) invert(99%) sepia(89%) saturate(5066%) hue-rotate(315deg) brightness(99%) contrast(97%)"}})}),(0,t.jsx)("h2",{className:"text-[18px] leading-[36px] font-bold text-[#19191F] mt-4",children:"Ready to Find Your Perfect Home?"}),(0,t.jsx)("p",{className:"w-full max-w-2xl mx-auto font-inter text-[12px] leading-[28px] font-normal text-[#19191F] mt-4",children:"Join thousands of satisfied customers who found their dream homes through our platform. Get started today and let our expert brokers help you every step of the way."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-4",children:[(0,t.jsx)("a",{href:"/search?tab=properties",className:"w-[176px] h-[40px] px-3 flex items-center justify-center font-inter text-[14px] leading-[22px] font-medium text-white bg-[#0D542B] rounded-md border-0 transition-colors duration-200  hover:bg-[#0B4624] active:bg-[#08321A] disabled:opacity-40",children:"Browse All Properties"}),(0,t.jsx)("a",{href:"/search?tab=brokers",className:"w-[118.078125px] h-[40px] px-3 flex items-center justify-center font-inter text-[14px] leading-[22px] font-medium text-[#0D542B] bg-white rounded-md border border-[#0D542B] transition-colors duration-200 hover:bg-white active:bg-white disabled:opacity-40",children:"Find Brokers"})]})]})]})}),(0,t.jsx)(n.default,{isOpen:et,onClose:()=>er(!1),propertyId:(null==_?void 0:_.id)||(null==_?void 0:_._id)||null,propertyBrokerId:(null==ei?void 0:ei._id)||(null==ei?void 0:ei.id)||(null==_?void 0:_._raw)&&"object"==typeof _._raw.createdBy&&(null==(j=_._raw.createdBy)?void 0:j._id)||((null==_?void 0:_._raw)&&"string"==typeof _._raw.createdBy?_._raw.createdBy:null)||(null==_||null==(b=_._raw)?void 0:b.brokerId)||null}),ed&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>ec(!1),children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative border border-gray-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-[18px] font-bold text-gray-900",children:"Rate This Property"}),(0,t.jsx)("button",{onClick:()=>{ec(!1),eh(0),ep("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:(null==(w=_.images)?void 0:w[0])||_.image||"/images/pexels-binyaminmellish-106399.jpg",alt:_.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-[14px] font-semibold text-gray-900 truncate",children:_.name}),(0,t.jsx)("p",{className:"text-[12px] text-gray-500 truncate",children:"object"==typeof _.region?(null==(N=_.region)?void 0:N.name)||[null==(k=_.region)?void 0:k.city,null==(C=_.region)?void 0:C.state].filter(Boolean).join(", "):_.region}),(0,t.jsxs)("p",{className:"text-[12px] font-medium text-[#0D542B] mt-1",children:["â‚¹",D(_.price||0)]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-[14px] font-medium text-gray-700 mb-3",children:"Your Rating"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>eh(e),className:"focus:outline-none transition-transform hover:scale-110",children:(0,t.jsx)("svg",{className:"w-8 h-8 ".concat(e<=ex?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300"),viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},e))}),ex>0&&(0,t.jsxs)("p",{className:"text-[12px] text-gray-600 mt-2",children:[1===ex&&"Poor",2===ex&&"Fair",3===ex&&"Good",4===ex&&"Very Good",5===ex&&"Excellent"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),(0,t.jsx)("textarea",{value:em,onChange:e=>ep(e.target.value),placeholder:"Share your experience with this property...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[13px] focus:outline-none focus:ring-2 focus:ring-[#0D542B] focus:border-[#0D542B] resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ec(!1),eh(0),ep("")},className:"flex-1 h-[40px] px-4 flex items-center justify-center font-inter text-[13px] leading-[22px] font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{if(0===ex)return void c.default.error("Please select a rating");eu(!0);try{let e=localStorage.getItem("token")||localStorage.getItem("authToken");if(!e){c.default.error("Please login to submit a rating"),ec(!1),S.push("/login");return}let t="https://broker-adda-be.algofolks.com/api",r={propertyId:(null==_?void 0:_.id)||(null==_?void 0:_._id),rating:ex,review:em||""};console.log("Submitting rating to:","".concat(t,"/property-ratings")),console.log("Rating data:",r);let i=await fetch("".concat(t,"/property-ratings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)}),s=await i.json().catch(()=>({}));if(!i.ok)throw Error(s.message||"Failed to submit rating");s.success&&s.data?(c.default.success(s.message||"Thank you for your rating!"),console.log("Rating submitted successfully:",s.data)):c.default.success("Thank you for your rating!"),ec(!1),eh(0),ep(""),(async()=>{try{let e=localStorage.getItem("token")||localStorage.getItem("authToken"),t={"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}},r=(null==_?void 0:_.id)||(null==_?void 0:_._id),i="/property-ratings/property/".concat(encodeURIComponent(String(r))),s=await fetch("".concat("https://broker-adda-be.algofolks.com/api").concat(i),{headers:t});if(s.ok){let e=await s.json();if(e.success&&e.data){let t=Array.isArray(e.data.ratings)?e.data.ratings:[];ey(t),e.data.stats&&ej(e.data.stats)}}}catch(e){console.error("Error refreshing ratings:",e)}})()}catch(e){console.error("Error submitting rating:",e),c.default.error(e.message||"Failed to submit rating. Please try again.")}finally{eu(!1)}},disabled:0===ex||eg,className:"flex-1 h-[40px] px-4 flex items-center justify-center font-inter text-[13px] leading-[22px] font-medium text-white bg-[#0D542B] hover:bg-[#0B4624] disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:eg?"Submitting...":"Submit Rating"})]})]})})})]}):(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(o.default,{data:eL}),(0,t.jsx)("div",{className:"py-10",children:(0,t.jsx)("div",{className:"w-full mx-auto",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Property Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),(0,t.jsx)(i.default,{href:"/properties",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Browse Properties"})]})})})})]})}function m(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{}),children:(0,t.jsx)(h,{})})}}]);