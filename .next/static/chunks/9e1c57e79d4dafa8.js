(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1018,e=>{"use strict";e.s(["default",()=>d]);var t=e.i(76159),r=e.i(56709),l=e.i(81472),s=e.i(33476),i=e.i(39722),a=e.i(57382),n=e.i(58153);let o={title:"Broker Details",description:"View broker profile, ratings, experience, specializations, and contact information."};function d(){var e,d,c,x,h,m,u,g;let p=(0,s.useParams)(),f=(0,s.useRouter)(),v=null==p?void 0:p.id,[y,j]=(0,r.useState)(null),[b,w]=(0,r.useState)(!0),[N,k]=(0,r.useState)(""),[C,B]=(0,r.useState)([]),[F,I]=(0,r.useState)(!1),[A,S]=(0,r.useState)([]),[D,z]=(0,r.useState)(!1),[L,E]=(0,r.useState)(""),[T,R]=(0,r.useState)(!1),[M,P]=(0,r.useState)(0),[_,W]=(0,r.useState)(""),[O,U]=(0,r.useState)(!1),[V,q]=(0,r.useState)(null),[H,G]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(!1),[J,K]=(0,r.useState)(!0),[X,Z]=(0,r.useState)([]),[$,ee]=(0,r.useState)(!1),[et,er]=(0,r.useState)(null),[el,es]=(0,r.useState)(!1);(0,r.useEffect)(()=>{er(window.location.pathname),(async()=>{if(w(!0),k(""),!v)return w(!1);try{var e;let t=localStorage.getItem("token")||localStorage.getItem("authToken");es(!!t);let r={"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},l=await fetch("".concat("https://broker-adda-be.fly.dev/api","/brokers/").concat(encodeURIComponent(String(v))),{headers:r});if(!l.ok)throw Error("Failed details fetch");let s=await l.json(),i=(null==s||null==(e=s.data)?void 0:e.broker)||(null==s?void 0:s.broker)||(null==s?void 0:s.data);i&&j(i)}catch(e){k("Failed to load broker details")}finally{w(!1)}})()},[v]);let ei=e=>"string"==typeof e&&e.trim().length>0&&"null"!==e&&"undefined"!==e,ea=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.find(ei)||""},en=ei(null==y?void 0:y.name)?y.name:ei(null==y?void 0:y.fullName)?y.fullName:"Unknown Broker",eo=ea(null==y?void 0:y.brokerImage,null==y?void 0:y.profileImage,null==y?void 0:y.image),ed=ei(null==y?void 0:y.firmName)?y.firmName:"",ec=ei(ed)?ed:"-",ex=ei(null==y?void 0:y.website)?y.website:"";ei(ex);let eh=ei(null==y?void 0:y.licenseNumber)?y.licenseNumber:"",em=ei(eh)?eh:"-",eu=ei(null==y?void 0:y.city)?y.city:"",eg=Array.isArray(null==y?void 0:y.region)?y.region:[],ep=eg.length>0?eg.map(e=>"string"==typeof e?e:(null==e?void 0:e.name)||"").filter(ei).join(", "):"";ei(ep);let ef=Array.isArray(null==y?void 0:y.specializations)&&y.specializations.length>0?y.specializations:[],ev=("object"==typeof(null==y?void 0:y.experience)?null==y||null==(e=y.experience)?void 0:e.years:null==y?void 0:y.experience)||"";null!=(null==y||null==(d=y.leadsCreated)?void 0:d.count)||null==y||y.closedDeals;let ey=null!=(m=null!=(h=null==y||null==(c=y.propertiesListed)?void 0:c.count)?h:null==y?void 0:y.propertyCount)?m:0,ej=null!=(g=null!=(u=null==V?void 0:V.averageRating)?u:null==y?void 0:y.rating)?g:4.8;ei(null==y?void 0:y.status)&&y.status;let eb=ei(null==y?void 0:y.content)?y.content:ei(null==y?void 0:y.about)?y.about:ei(null==y?void 0:y.bio)?y.bio:(null==y||null==(x=y.experience)?void 0:x.description)||"";ei(null==y?void 0:y.phone)?y.phone:ei(null==y?void 0:y.whatsappNumber)&&y.whatsappNumber;let ew=e=>e?("string"==typeof e?e:(null==e?void 0:e.name)||(null==e?void 0:e.city)||(null==e?void 0:e.state)||"").replace(/[-_]+/g," ").replace(/\b\w/g,e=>e.toUpperCase()).replace(/Ncr\b/i,"NCR"):"";return((0,r.useEffect)(()=>{(async()=>{if(y)try{var e,t;I(!0);let r=localStorage.getItem("token")||localStorage.getItem("authToken"),l={"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{}},s=await fetch("".concat("https://broker-adda-be.fly.dev/api","/brokers"),{headers:l});if(!s.ok)return void B([]);let i=await s.json(),a=[];Array.isArray(null==i||null==(e=i.data)?void 0:e.brokers)?a=i.data.brokers:Array.isArray(null==i?void 0:i.data)?a=i.data:Array.isArray(null==i?void 0:i.brokers)?a=i.brokers:Array.isArray(i)&&(a=i);let n=(null==y||null==(t=y.userId)?void 0:t._id)||(null==y?void 0:y.userId)||(null==y?void 0:y._id)||(null==y?void 0:y.id),o=Array.isArray(null==y?void 0:y.region)?y.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[],d=Array.isArray(null==y?void 0:y.specializations)?y.specializations:[],c=a.filter(e=>{var t;let r=(null==e||null==(t=e.userId)?void 0:t._id)||(null==e?void 0:e.userId)||(null==e?void 0:e._id)||(null==e?void 0:e.id);return r&&r!==n}).map(e=>{let t=Array.isArray(null==e?void 0:e.region)?e.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[],r=Array.isArray(null==e?void 0:e.specializations)?e.specializations:[],l=+!!t.some(e=>o.includes(e)),s=+!!r.some(e=>d.includes(e));return{broker:e,score:l+s}}).sort((e,t)=>t.score-e.score).slice(0,3).map(e=>e.broker);B(c)}catch(e){B([])}finally{I(!1)}})()},[y]),(0,r.useEffect)(()=>{let e=document.getElementById("similar-brokers-carousel");if(e){let t=()=>{let{scrollLeft:t,scrollWidth:r,clientWidth:l}=e;Q(t>10),K(t<r-l-10)};return setTimeout(t,100),e.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}},[C,F]),(0,r.useEffect)(()=>{(async()=>{if(y&&y._id)try{var e,t;z(!0),E("");let r=localStorage.getItem("token")||localStorage.getItem("authToken"),l={"Content-Type":"application/json",...r?{Authorization:"Bearer ".concat(r)}:{}},s=y._id,i="/leads?createdBy=".concat(encodeURIComponent(String(s))),a=await fetch("".concat("https://broker-adda-be.fly.dev/api").concat(i),{headers:l});if(!a.ok)throw Error("Failed to fetch leads: ".concat(a.status));let n=await a.json(),o=[];Array.isArray(null==n||null==(e=n.data)?void 0:e.items)?o=n.data.items:Array.isArray(null==n||null==(t=n.data)?void 0:t.leads)?o=n.data.leads:Array.isArray(null==n?void 0:n.leads)?o=n.leads:Array.isArray(null==n?void 0:n.data)?o=n.data:Array.isArray(n)&&(o=n),S(o)}catch(e){E("Failed to load broker leads: ".concat(e.message)),S([])}finally{z(!1)}})()},[y]),(0,r.useEffect)(()=>{let e=async()=>{let e=(null==y?void 0:y._id)||v;if(e){G(!0);try{let t=localStorage.getItem("token")||localStorage.getItem("authToken"),r={"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},l="/broker-ratings/broker/".concat(encodeURIComponent(String(e))),s=await fetch("".concat("https://broker-adda-be.fly.dev/api").concat(l),{headers:r}),i=await s.json();if(!s.ok){if(i.message&&i.message.includes("not found"))return void q(null);throw Error(i.message||"Failed to fetch ratings: ".concat(s.status))}i.success&&i.data&&i.data.stats?q(i.data.stats):q(null)}catch(e){q(null)}finally{G(!1)}}};y&&e()},[y,v]),(0,r.useEffect)(()=>{if(y){var e;let t=[];Array.isArray(null==y||null==(e=y.propertiesListed)?void 0:e.items)?t=y.propertiesListed.items:Array.isArray(null==y?void 0:y.properties)&&(t=y.properties),Z(t.filter(e=>{let t=(null==e?void 0:e.status)||(null==e?void 0:e.availabilityStatus)||"",r=(null==t?void 0:t.toLowerCase())||"";return!t||!["closed","sold","inactive","deleted","cancelled"].includes(r)}))}else Z([])},[y]),b)?(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(a.default,{data:o}),(0,t.jsx)("div",{className:"py-8",children:(0,t.jsx)("div",{className:"w-full mx-auto px-4 md:px-0",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-8 space-y-12",children:[(0,t.jsx)("div",{className:"bg-white overflow-hidden border border-gray-200 rounded-[10px] mb-8",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)(i.default,{speed:2,width:800,height:180,viewBox:"0 0 800 180",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("circle",{cx:"48",cy:"48",r:"48"}),(0,t.jsx)("rect",{x:"120",y:"20",rx:"4",ry:"4",width:"200",height:"24"}),(0,t.jsx)("rect",{x:"120",y:"52",rx:"12",ry:"12",width:"140",height:"24"}),(0,t.jsx)("rect",{x:"120",y:"88",rx:"4",ry:"4",width:"300",height:"16"}),(0,t.jsx)("rect",{x:"0",y:"120",rx:"13",ry:"13",width:"150",height:"26"}),(0,t.jsx)("rect",{x:"160",y:"120",rx:"13",ry:"13",width:"150",height:"26"}),(0,t.jsx)("rect",{x:"320",y:"120",rx:"13",ry:"13",width:"80",height:"26"})]})})}),(0,t.jsx)("section",{className:"bg-white",children:(0,t.jsxs)(i.default,{speed:2,width:600,height:150,viewBox:"0 0 600 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"180",height:"24"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"4",ry:"4",width:"600",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"60",rx:"4",ry:"4",width:"580",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"80",rx:"4",ry:"4",width:"550",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"100",rx:"4",ry:"4",width:"520",height:"12"})]})}),(0,t.jsx)("section",{className:"",children:(0,t.jsxs)(i.default,{speed:2,width:600,height:120,viewBox:"0 0 600 120",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"200",height:"24"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"10",ry:"10",width:"372",height:"76"}),(0,t.jsx)("circle",{cx:"30",cy:"78",r:"20"}),(0,t.jsx)("rect",{x:"60",y:"65",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"60",y:"85",rx:"4",ry:"4",width:"150",height:"16"}),(0,t.jsx)("rect",{x:"400",y:"40",rx:"10",ry:"10",width:"372",height:"76"}),(0,t.jsx)("circle",{cx:"430",cy:"78",r:"20"}),(0,t.jsx)("rect",{x:"460",y:"65",rx:"4",ry:"4",width:"100",height:"12"}),(0,t.jsx)("rect",{x:"460",y:"85",rx:"4",ry:"4",width:"180",height:"16"}),(0,t.jsx)("rect",{x:"650",y:"85",rx:"12",ry:"12",width:"70",height:"20"})]})}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)(i.default,{speed:2,width:600,height:40,viewBox:"0 0 600 40",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%",marginBottom:"24px"},children:(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"250",height:"28"})}),(0,t.jsx)("div",{className:"space-y-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-2xl p-6",children:(0,t.jsxs)(i.default,{speed:2,width:350,height:280,viewBox:"0 0 350 280",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"250",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"32",rx:"11",ry:"11",width:"80",height:"22"}),(0,t.jsx)("rect",{x:"90",y:"32",rx:"11",ry:"11",width:"100",height:"22"}),(0,t.jsx)("rect",{x:"250",y:"36",rx:"4",ry:"4",width:"80",height:"14"}),(0,t.jsx)("rect",{x:"0",y:"70",rx:"1",ry:"1",width:"350",height:"1"}),(0,t.jsx)("circle",{cx:"8",cy:"95",r:"4"}),(0,t.jsx)("rect",{x:"20",y:"88",rx:"4",ry:"4",width:"150",height:"12"}),(0,t.jsx)("circle",{cx:"8",cy:"120",r:"4"}),(0,t.jsx)("rect",{x:"20",y:"113",rx:"4",ry:"4",width:"180",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"145",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"90",y:"145",rx:"4",ry:"4",width:"120",height:"12"}),(0,t.jsx)("circle",{cx:"24",cy:"200",r:"24"}),(0,t.jsx)("rect",{x:"60",y:"190",rx:"4",ry:"4",width:"100",height:"14"}),(0,t.jsx)("rect",{x:"60",y:"210",rx:"4",ry:"4",width:"150",height:"12"})]})},r))})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-4 space-y-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:(0,t.jsxs)(i.default,{speed:2,width:400,height:160,viewBox:"0 0 400 160",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"120",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"6",ry:"6",width:"100%",height:"40"}),(0,t.jsx)("rect",{x:"0",y:"95",rx:"6",ry:"6",width:"100%",height:"40"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"bg-gray-50 rounded-[10px] p-4 text-center",children:(0,t.jsxs)(i.default,{speed:2,width:200,height:100,viewBox:"0 0 200 100",backgroundColor:"#e5e5e5",foregroundColor:"#d4d4d4",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"70",y:"10",rx:"4",ry:"4",width:"60",height:"36"}),(0,t.jsx)("rect",{x:"20",y:"55",rx:"4",ry:"4",width:"160",height:"20"})]})},e))}),(0,t.jsx)("div",{className:"bg-[#EDFDF4] rounded-[10px] p-6 shadow-sm",children:(0,t.jsxs)(i.default,{speed:2,width:400,height:350,viewBox:"0 0 400 350",backgroundColor:"#e0f2e9",foregroundColor:"#c8e6d5",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"220",height:"28"}),(0,t.jsx)("rect",{x:"0",y:"40",rx:"4",ry:"4",width:"400",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"58",rx:"4",ry:"4",width:"380",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"76",rx:"4",ry:"4",width:"350",height:"12"}),[0,1,2].map(e=>(0,t.jsxs)(r.default.Fragment,{children:[(0,t.jsx)("circle",{cx:"18",cy:110+60*e,r:"18"}),(0,t.jsx)("rect",{x:"50",y:102+60*e,rx:"4",ry:"4",width:"120",height:"16"}),(0,t.jsx)("rect",{x:"50",y:122+60*e,rx:"4",ry:"4",width:"280",height:"12"})]},e)),(0,t.jsx)("rect",{x:"0",y:"300",rx:"6",ry:"6",width:"100%",height:"40"})]})})]})]})})})]}):y?(0,t.jsxs)("div",{className:"min-h-screen ",children:[(0,t.jsx)(n.Toaster,{position:"top-right",toastOptions:{duration:3e3}}),(0,t.jsx)(a.default,{data:o}),(0,t.jsxs)("div",{className:"py-8",children:[(0,t.jsx)("div",{className:"w-full mx-auto px-4 md:px-0",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-8 space-y-12",children:[(0,t.jsx)("div",{className:"bg-white overflow-hidden border border-gray-200 rounded-[10px] mb-8",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-[5rem_1fr] items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative  w-[96px] h-[96px] bg-[#E5F0FA] opacity-100 overflow-hidden rounded-[48px]",children:[(0,t.jsx)("img",{src:eo,alt:"Broker",className:"w-[96px] h-[96px] object-cover"}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1 flex-wrap ",children:[(0,t.jsx)("h1",{className:"text-[20px]  font-extrabold text-[#171A1F] px-4",children:en}),(0,t.jsx)("span",{className:" px-6 rounded-full bg-[#FDC700] flex items-center justify-center font-[Inter] text-[12px] leading-[22px] font-medium opacity-100",children:"Top Rated Broker"})]}),(0,t.jsxs)("p",{className:"font-[Inter] text-[14px]  font-normal text-[#565D6D] mb-2 px-4 ",children:[ec," - ",eu]})]}),(0,t.jsxs)("div",{className:"col-span-2  flex flex-wrap items-center gap-2 text-xs",children:[(0,t.jsxs)("span",{className:"inline-flex items-center  px-2.5 rounded-full  h-[26px] bg-[#F3F4F6] border border-transparent",children:[(0,t.jsx)("img",{src:"/images/lucide-Circle-Outlined (2).svg",alt:"status",className:"w-2 h-2 mr-1.5 inline-block fill-[#565D6D]"}),""!==ev?"".concat(ev,"+ Years Experience"):"0 Years Experience"]}),(0,t.jsxs)("span",{onClick:()=>{if(ey>0){let e=(null==y?void 0:y._id)||v;e&&f.push("/search?tab=properties&createdBy=".concat(encodeURIComponent(String(e))))}},className:"inline-flex items-center px-2.5 rounded-full h-[26px] border border-transparent transition-colors ".concat(ey>0?"bg-[#E5FCE4] text-[#0D542B] cursor-pointer hover:bg-[#D9F5E8]":"bg-[#F3F4F6] text-[#565D6D] cursor-default pointer-events-none"),children:[(0,t.jsx)("img",{src:"/images/lucide-Building2-Outlined (2).svg",alt:"status",className:"w-3 h-3 mr-1.5 inline-block ".concat(ey>0?"fill-[#0D542B]":"fill-[#565D6D]")}),ey," Active Listings"]}),(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 h-[26px] bg-[#0D542B] rounded-full border border-transparent font-[Inter] text-[12px] leading-[16px] font-medium text-white",children:[(0,t.jsx)("img",{src:"/images/lucide-Circle-Outlined (2).svg",alt:"status",className:"w-2 h-2 mr-1.5 inline-block",style:{filter:"brightness(0) invert(1)"}}),"active"]})]})]})})}),(0,t.jsxs)("section",{className:"bg-white",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,t.jsxs)("h2",{className:"text-[18px] leading-[36px] font-bold text-[#171A1F]",children:["About ",en]})}),ei(eb)?(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:eb}):(0,t.jsxs)("p",{className:"text-gray-700 leading-relaxed text-[12px]",children:["Welcome! I'm ",en," at ",ec,", a dedicated real estate professional specializing in Luxury Homes. With years of experience in the real estate market, I'm committed to helping you find the perfect property or sell your current one. My expertise covers residential and commercial properties, ensuring you get the best deals and guidance throughout your real estate journey. I believe in transparency, integrity, and providing personalized service to meet your unique needs."]})]}),(0,t.jsxs)("section",{className:"",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,t.jsx)("h3",{className:"text-[18px] leading-[36px] font-bold text-[#171A1F]",children:"Professional Details"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 w-[372px] h-[76px] bg-[#FAFAFB] rounded-[10px]",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:(0,t.jsx)("img",{src:"/images/lucide-Briefcase-Outlined (1).svg",alt:"Firm",className:"w-5 h-5",style:{filter:"brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[14px] text-gray-500",children:"Real Estate Firm"}),(0,t.jsx)("div",{className:"font-medium text-[12px] text-gray-900",children:ec})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 w-[372px] h-[76px] bg-[#FAFAFB] rounded-[10px]",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:(0,t.jsx)("img",{src:"/images/lucide-Award-Outlined.svg",alt:"License",className:"w-5 h-5",style:{filter:"brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[14px] text-gray-500",children:"RERA License Number"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium   text-[12px] text-gray-900",children:em}),ei(eh)&&(0,t.jsx)("span",{className:"px-2 py-1 rounded-full  text-[12px] bg-green-100 text-green-800 font-medium",children:"Verified"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-[18px] leading-[36px] font-bold text-[#171A1F]",children:"Queries posted by this broker"}),(null==y?void 0:y._id)&&A.length>3&&(0,t.jsx)("p",{onClick:()=>{f.push("/leads?createdBy=".concat(encodeURIComponent(String(y._id))))},className:" text-gray-600 rounded-lg text-sm font-medium  cursor-pointer hover:text-[#0D542B] transition-colors",children:"View All"})]}),D?(0,t.jsx)("div",{className:"space-y-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-2xl p-6",children:(0,t.jsxs)(i.default,{speed:2,width:350,height:280,viewBox:"0 0 350 280",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"250",height:"20"}),(0,t.jsx)("rect",{x:"0",y:"32",rx:"11",ry:"11",width:"80",height:"22"}),(0,t.jsx)("rect",{x:"90",y:"32",rx:"11",ry:"11",width:"100",height:"22"}),(0,t.jsx)("rect",{x:"250",y:"36",rx:"4",ry:"4",width:"80",height:"14"}),(0,t.jsx)("rect",{x:"0",y:"70",rx:"1",ry:"1",width:"350",height:"1"}),(0,t.jsx)("circle",{cx:"8",cy:"95",r:"4"}),(0,t.jsx)("rect",{x:"20",y:"88",rx:"4",ry:"4",width:"150",height:"12"}),(0,t.jsx)("circle",{cx:"8",cy:"120",r:"4"}),(0,t.jsx)("rect",{x:"20",y:"113",rx:"4",ry:"4",width:"180",height:"12"}),(0,t.jsx)("rect",{x:"0",y:"145",rx:"4",ry:"4",width:"80",height:"12"}),(0,t.jsx)("rect",{x:"90",y:"145",rx:"4",ry:"4",width:"120",height:"12"}),(0,t.jsx)("circle",{cx:"24",cy:"200",r:"24"}),(0,t.jsx)("rect",{x:"60",y:"190",rx:"4",ry:"4",width:"100",height:"14"}),(0,t.jsx)("rect",{x:"60",y:"210",rx:"4",ry:"4",width:"150",height:"12"})]})},r))}):L?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-red-500 mb-2",children:(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("p",{className:"text-gray-600",children:L})]}):A.length>0?(0,t.jsx)("div",{className:"space-y-4  grid  md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:A.slice(0,3).map((e,r)=>{var s,i,a,n,o,d,c,x,h;let m=(null==e?void 0:e._id)||(null==e?void 0:e.id)||r;"".concat((null==e?void 0:e.customerName)||"Customer"," - ").concat((null==e?void 0:e.requirement)||"Property"," Lead"),"".concat((null==e?void 0:e.propertyType)||"Property"," in ").concat((null==e||null==(s=e.primaryRegion)?void 0:s.name)||(null==e||null==(i=e.region)?void 0:i.name)||"Location");let u=(null==e?void 0:e.budget)||"";(null==e||null==(a=e.primaryRegion)?void 0:a.name)||(null==e||null==(n=e.region)?void 0:n.name)||(null==e||null==(o=e.primaryRegion)?void 0:o.city)||null==e||null==(d=e.region)||d.city,null==e||null==(c=e.createdBy)||c.brokerImage,null==e||e.propertyType,null==e||e.status,null==e||e.customerPhone,null==e||e.customerEmail;let g=null,p=null==e?void 0:e.createdBy;return p&&("string"==typeof p?g=p:"object"==typeof p&&null!==p&&(g=(g=(null==p||null==(x=p.userId)?void 0:x._id)||(null==p||null==(h=p.userId)?void 0:h.id)||(null==p?void 0:p.userId)||(null==p?void 0:p._id)||(null==p?void 0:p.id)||(null==p?void 0:p.brokerId)||(null==p?void 0:p.brokerDetailId)||(null==p?void 0:p.brokerDetailsId)||null)?String(g):null)),(0,t.jsx)(l.default,{href:"/lead-details/".concat(m),className:"block h-full",children:(0,t.jsx)("article",{className:"group h-full relative rounded-2xl border border-gray-200 bg-white shadow-sm transition-all duration-300 overflow-hidden hover:-translate-y-1 hover:shadow-lg cursor-pointer",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("h3",{className:"text-[18px] leading-[20px] font-semibold mb-2",style:{color:"#323743"},children:[(null==e?void 0:e.propertyType)||"Property"," for ",(null==e?void 0:e.requirement)||"inquiry"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-nowrap",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-nowrap",children:[(null==e?void 0:e.requirement)&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center rounded-full h-[22px] px-3 whitespace-nowrap",style:{fontFamily:"Inter",fontSize:"12px",lineHeight:"20px",fontWeight:"600",background:"#0D542B",color:"#FFFFFF"},children:e.requirement}),(null==e?void 0:e.propertyType)&&(0,t.jsx)("span",{className:"inline-flex items-center justify-center rounded-full h-[22px] px-3 whitespace-nowrap",style:{fontFamily:"Inter",fontSize:"12px",lineHeight:"20px",fontWeight:"600",background:"#FDC700",color:"#1b1d20ff"},children:e.propertyType})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[12px] leading-5 font-normal whitespace-nowrap flex-shrink-0",style:{color:"#565D6D"},children:[(0,t.jsxs)("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M12 6v6l4 2"})]}),(e=>{if(!e)return"";let t=new Date(e).getTime();if(!t)return"";let r=Math.floor((Date.now()-t)/1e3);for(let[e,t]of[[31536e3,"y"],[2592e3,"mo"],[604800,"w"],[86400,"d"],[3600,"h"],[60,"m"]])if(r>=e)return Math.floor(r/e)+t+" ago";return r+"s ago"})(null==e?void 0:e.createdAt)]})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-3"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 flex-shrink-0 text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-1",children:[(0,t.jsx)("span",{className:"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]",children:"Primary Location:"}),(0,t.jsx)("span",{className:"font-inter text-[12px] leading-5 font-normal capitalize text-[#565D6DFF]",children:ew((null==e?void 0:e.primaryRegion)||(null==e?void 0:e.region))})]})]}),(null==e?void 0:e.secondaryRegion)&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 flex-shrink-0 text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-1",children:[(0,t.jsx)("span",{className:"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]",children:"Secondary Location:"}),(0,t.jsx)("span",{className:"font-inter text-[12px] leading-5 font-normal capitalize text-[#565D6DFF]",children:ew(null==e?void 0:e.secondaryRegion)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 flex-shrink-0 text-[#565D6D]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("rect",{x:"3",y:"7",width:"18",height:"11",rx:"2"}),(0,t.jsx)("path",{d:"M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-1",children:[(0,t.jsx)("span",{className:"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]",children:"Budget:"}),(0,t.jsx)("span",{className:"text-[12px] leading-5 font-normal",style:{color:"#565D6D"},children:"number"==typeof u?"₹".concat(u.toLocaleString("en-IN")):u||"—"})]})]})]}),!1]})})},m)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-gray-400 mb-4",children:(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"No leads posted yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"This broker hasn't posted any property leads yet."})]})]}),(0,t.jsxs)("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-8 hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)("span",{className:"inline-block h-0.5 w-6 rounded bg-yellow-400"}),(0,t.jsx)("h3",{className:"text-[18px] font-semibold text-gray-900",children:"Similar Brokers"})]}),(0,t.jsx)("div",{className:"space-y-4",children:F?[void 0,void 0,void 0].map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-gray-200 animate-pulse",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-40"})]}),(0,t.jsx)("div",{className:"h-8 w-28 bg-gray-200 rounded"})]},r)):C.map((e,r)=>{var s,i;let a=(null==e?void 0:e.brokerImage)||(null==e?void 0:e.profileImage)||(null==e?void 0:e.image)||"/images/user-2.jpeg",n=ei(null==e?void 0:e.name)?e.name:ei(null==e?void 0:e.fullName)?e.fullName:"Unknown Broker",o=ei(null==e?void 0:e.firmName)?e.firmName:"",d="object"==typeof(null==e?void 0:e.experience)?null==e||null==(s=e.experience)?void 0:s.years:null==e?void 0:e.experience,c=(null==e?void 0:e.rating)||"4.7",x=Array.isArray(null==e?void 0:e.specializations)&&e.specializations.length>0?e.specializations:ef,h=(null==e||null==(i=e.userId)?void 0:i._id)||(null==e?void 0:e.userId)||(null==e?void 0:e._id)||(null==e?void 0:e.id);return(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-300",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:a,alt:n,className:"w-12 h-12 rounded-full object-cover"}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:n}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:c})]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[o,o&&d?" • ":"",d?"".concat(d,"+ Years"):""]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:x.slice(0,3).map((e,r)=>(0,t.jsx)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700 text-xs border border-gray-200",children:e},r))})]}),h&&(0,t.jsx)(l.default,{href:"/broker-details/".concat(h),className:"px-4 py-2 rounded-lg bg-green-100 text-green-700 text-sm font-medium border border-green-500 hover:bg-green-200 transition-colors",children:"View Profile"})]},h||r)})})]}),(0,t.jsxs)("section",{className:"mt-6 hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"inline-block h-0.5 w-6 rounded bg-yellow-400"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Brokers in this Region"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("region-carousel");e&&e.scrollBy({left:-500,behavior:"smooth"})},className:"h-8 w-8 rounded-full border border-gray-300 text-gray-700 hover:bg-gray-50",children:"<"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("region-carousel");e&&e.scrollBy({left:500,behavior:"smooth"})},className:"h-8 w-8 rounded-full border border-gray-300 text-gray-700 hover:bg-gray-50",children:">"})]})]}),(0,t.jsx)("div",{id:"region-carousel",className:"overflow-x-auto scroll-smooth",children:(0,t.jsx)("div",{className:"flex gap-5 min-w-0 pr-2",children:C.filter(e=>{let t=Array.isArray(null==y?void 0:y.region)?y.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[];return(Array.isArray(null==e?void 0:e.region)?e.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[]).some(e=>t.includes(e))}).slice(0,20).map((e,r)=>{var l;let s=(null==e?void 0:e.brokerImage)||(null==e?void 0:e.profileImage)||(null==e?void 0:e.image)||"/images/user-2.jpeg",i="string"==typeof(null==e?void 0:e.name)&&e.name||"string"==typeof(null==e?void 0:e.fullName)&&e.fullName||"Unknown Broker",a="string"==typeof(null==e?void 0:e.firmName)&&e.firmName||"",n=(null==e||null==(l=e.userId)?void 0:l._id)||(null==e?void 0:e.userId)||(null==e?void 0:e._id)||(null==e?void 0:e.id);return(0,t.jsxs)("div",{className:"flex-shrink-0 w-72 bg-white rounded-2xl border border-gray-200 shadow-sm p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("img",{src:s,alt:i,className:"w-12 h-12 rounded-full object-cover"}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 truncate",children:i}),(0,t.jsx)("div",{className:"text-xs text-gray-600 truncate",children:a||"-"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3 mb-4",children:"Trusted regional broker with strong local expertise."}),(0,t.jsx)("div",{className:"flex gap-2",children:n&&(0,t.jsx)("a",{href:"/broker-details/".concat(n),className:"inline-flex items-center justify-center px-3 py-1.5 text-sm rounded-lg border border-green-500 text-green-700 bg-green-50 hover:bg-green-100",children:"View Profile"})})]},n||r)})})})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-4 space-y-8",children:[X.length>0?(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-[18px] leading-[30px] font-semibold text-[#565D6D]",children:"Properties"}),(0,t.jsx)(l.default,{href:"/search?tab=properties&createdBy=".concat(encodeURIComponent(String(null==y?void 0:y._id))),className:"text-[12px] font-medium text-[#0D542B] hover:underline",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-4",children:X.slice(0,2).map((e,r)=>{var s,i;let a=(null==e?void 0:e._id)||(null==e?void 0:e.id)||r,n=(null==e||null==(s=e.images)?void 0:s[0])||(null==e?void 0:e.image)||"/images/realestate.png",o=(null==e?void 0:e.title)||(null==e?void 0:e.name)||"Property",d=(null==e?void 0:e.price)||0,c=(null==e?void 0:e.city)||(null==e||null==(i=e.region)?void 0:i.name)||(null==e?void 0:e.location)||"",x=(null==e?void 0:e.propertyType)||(null==e?void 0:e.type)||"Property",h=(null==e?void 0:e.status)||(null==e?void 0:e.availabilityStatus)||"available",m=(null==h?void 0:h.toLowerCase())==="open"||(null==h?void 0:h.toLowerCase())==="available"||(null==h?void 0:h.toLowerCase())==="active"||!h||""===h,u=null==y?void 0:y._id;return(0,t.jsx)(l.default,{href:"/property-details?id=".concat(encodeURIComponent(String(a))).concat(u?"&brokerId=".concat(encodeURIComponent(String(u))):""),className:"block border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:n,alt:o,className:"w-24 h-24 object-cover flex-shrink-0",onError:e=>{e.currentTarget.src="/images/realestate.png"}}),m&&(0,t.jsx)("span",{className:"absolute top-1 right-1 bg-green-500 text-white text-[10px] font-semibold px-1.5 py-0.5 rounded",children:"Open"})]}),(0,t.jsxs)("div",{className:"flex-1 p-2 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"text-[14px] font-semibold text-gray-900 truncate flex-1",children:o}),m&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-green-600 font-medium flex-shrink-0",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Open"]})]}),(0,t.jsx)("p",{className:"text-[12px] text-gray-600 truncate mb-1",children:c}),(0,t.jsx)("p",{className:"text-[12px] text-gray-500 mb-1",children:x}),(0,t.jsx)("p",{className:"text-[14px] font-bold text-[#0D542B]",children:d&&0!==d?"₹".concat((d/1e5).toFixed(2)," Lakhs"):"—"})]})]})},a)})})]}):(0,t.jsxs)("div",{onClick:()=>{let e=(null==y?void 0:y._id)||v;e&&f.push("/search?tab=properties&createdBy=".concat(encodeURIComponent(String(e))))},className:"bg-[#EDFDF4] rounded-[10px] p-4 text-center cursor-pointer hover:bg-[#D9F5E8] transition-colors",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:" text-[20px] leading-[36px] font-bold text-[#19191F]",children:ey}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[24px] font-normal text-[#19191F] mt-1",children:"Properties"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#FFF9E6] rounded-[10px] p-4 text-center",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:" text-[20px] leading-[36px] font-bold text-[#19191F]",children:"number"==typeof ej?ej.toFixed(1):ej}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[24px] font-normal text-[#19191F] mt-1",children:"Client Rating"})]}),(0,t.jsxs)("div",{className:"bg-[#FAFAFB] rounded-[10px] p-4 text-center",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:" text-[20px] leading-[36px] font-bold text-[#19191F]",children:""===ev?"0":"number"==typeof ev?"".concat(ev,"+"):ev}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[24px] font-normal text-[#19191F] mt-1",children:"Years Experience"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,t.jsx)("h3",{className:" text-[18px] leading-[30px] font-semibold text-[#565D6D] mb-4",children:"Quick Contact"}),(0,t.jsx)("button",{type:"button",onClick:()=>{if(!(localStorage.getItem("token")||localStorage.getItem("authToken")))return void f.push("/login?redirect=".concat(et));window.openChatWithBroker&&window.openChatWithBroker({broker:y})},className:"w-full px-6 py-3 bg-green-700 hover:bg-green-800 text-white rounded-full text-sm font-medium",children:"Send Message"}),!el&&(0,t.jsx)("a",{href:"/signup",className:"mt-3 w-full h-[40px] px-3 flex items-center justify-center    font-[Inter] text-[12px] leading-[22px] font-medium text-[#0D542B]   bg-transparent border border-[#D0D5DD] rounded-lg   transition-all duration-200 ease-out   hover:bg-[#F6FBF8] hover:border-[#0D542B] hover:text-[#083E20]   hover:-translate-y-[1px]   active:bg-gray-100 active:translate-y-0",children:"Become a Partner Broker"})]}),(0,t.jsxs)("div",{className:"bg-[#EDFDF4] rounded-[10px] p-6 shadow-sm",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("h3",{className:" text-[18px] leading-[36px] font-bold text-[#19191F] mb-3",children:"Query Generation Support"}),(0,t.jsx)("p",{className:"font-[Inter] text-[12px] leading-[26px] font-normal text-[#19191F] mb-4",children:"Join our exclusive broker network and get access to premium lead generation tools and support."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("img",{src:"/images/lucide-CircleCheckBig-Outlined.svg",alt:"Verified",className:"w-5 h-5",style:{filter:"brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#19191F]",children:"Verified Queries"}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[19px] font-normal text-[#19191FCC]",children:"Pre-qualified properties ready to buy"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("img",{src:"/images/lucide-GraduationCap-Outlined.svg",alt:"Training",className:"w-5 h-5",style:{filter:"brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#19191F]",children:"Exclusive Training"}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[19px] font-normal text-[#19191FCC]",children:"Advanced sales techniques & higher commissions"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("img",{src:"/images/lucide-DollarSign-Outlined.svg",alt:"Commissions",className:"w-5 h-5",style:{filter:"brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#19191F]",children:"Higher Commissions"}),(0,t.jsx)("div",{className:"font-[Inter] text-[12px] leading-[19px] font-normal text-[#19191FCC]",children:"Up to 10% more than standard rates"})]})]})]}),!el&&(0,t.jsx)(l.default,{href:"/signup",className:"w-full h-[40px] px-3 mt-4 flex items-center justify-center font-[Inter] text-[12px] leading-[22px] font-medium text-white bg-[#0D542B] hover:bg-[#0B4624] hover:active:bg-[#08321A] disabled:opacity-40 border-none opacity-100 rounded-md transition-colors",children:"Become a Partner Broker"}),(0,t.jsxs)("button",{onClick:()=>{if(!(localStorage.getItem("token")||localStorage.getItem("authToken")))return void f.push("/login");R(!0)},className:"w-full h-[40px] px-3 mt-3 flex items-center justify-center gap-2 font-[Inter] text-[12px] leading-[22px] font-medium text-[#0D542B] bg-white border border-[#0D542B] hover:bg-[#EDFDF4] hover:active:bg-[#D9F5E8] disabled:opacity-40 rounded-md transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Rate This Broker"]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-12",children:(0,t.jsxs)("section",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h3",{className:"text-[18px] leading-[36px] font-bold text-[#171A1F]",children:"Similar Brokers"})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:C.length>4&&(0,t.jsx)(l.default,{href:"/search?type=brokers",className:"px-4 py-2 text-gray-600 rounded-lg text-sm font-medium transition-colors hover:bg-gray-50",children:"View All"})})]}),(0,t.jsxs)("div",{id:"similar-brokers-carousel",className:"overflow-x-auto scroll-smooth p-4 -m-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},onScroll:e=>{let{scrollLeft:t,scrollWidth:r,clientWidth:l}=e.currentTarget;Q(t>10),K(t<r-l-10)},children:[(0,t.jsx)("div",{className:"flex gap-6 min-w-0",children:F?Array.from({length:4}).map((e,r)=>(0,t.jsx)("div",{className:"flex-shrink-0 w-80 rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden",children:(0,t.jsxs)(i.default,{speed:2,width:320,height:400,viewBox:"0 0 320 400",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"320",height:"240"}),(0,t.jsx)("rect",{x:"24",y:"260",rx:"4",ry:"4",width:"180",height:"20"}),(0,t.jsx)("rect",{x:"24",y:"290",rx:"4",ry:"4",width:"150",height:"14"}),(0,t.jsx)("circle",{cx:"28",cy:"320",r:"6"}),(0,t.jsx)("rect",{x:"40",y:"315",rx:"4",ry:"4",width:"120",height:"12"}),(0,t.jsx)("circle",{cx:"28",cy:"345",r:"6"}),(0,t.jsx)("rect",{x:"40",y:"340",rx:"4",ry:"4",width:"140",height:"12"})]})},r)):C.length>0?(()=>{let e=Array.isArray(null==y?void 0:y.region)?y.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[];return C.map(t=>{let r=(Array.isArray(null==t?void 0:t.region)?t.region.map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean):[]).some(t=>e.includes(t)),l=Array.isArray(null==t?void 0:t.specializations)?t.specializations:[],s=Array.isArray(null==y?void 0:y.specializations)?y.specializations:[];return{broker:t,score:2*!!r+ +!!l.some(e=>s.includes(e))+.5*Math.random()}}).sort((e,t)=>t.score-e.score).slice(0,4).map(e=>e.broker).map((e,r)=>{var s,i,a,n;let o=["/images/broker2.webp","/images/broker7.webp","/images/broker8.jpg","/images/broker5.webp"],d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.find(e=>"string"==typeof e&&e.trim()&&"null"!==e&&"undefined"!==e)||""}(null==e?void 0:e.brokerImage,null==e?void 0:e.image,null==e?void 0:e.profileImage,null==e?void 0:e.avatar,null==e?void 0:e.photo,null==e?void 0:e.picture,null==e?void 0:e.profilePicture,null==e?void 0:e.defaultImage,o[r%o.length]),c=(null==e||null==(s=e.userId)?void 0:s._id)||(null==e?void 0:e.userId)||(null==e?void 0:e._id)||(null==e?void 0:e.id),x="string"==typeof(null==e?void 0:e.name)&&e.name||"string"==typeof(null==e?void 0:e.fullName)&&e.fullName||(null==e||null==(i=e.name)?void 0:i.name)||(null==e||null==(a=e.fullName)?void 0:a.name)||"Unknown Broker",h=Array.isArray(null==e?void 0:e.specializations)&&e.specializations.length>0?e.specializations[0]:"string"==typeof(null==e?void 0:e.specialization)?e.specialization:"string"==typeof(null==e?void 0:e.expertise)?e.expertise:"string"==typeof(null==e?void 0:e.role)?e.role:(null==e?void 0:e.firmName)||"Real Estate Specialist",m=(()=>{let t=null==e?void 0:e.region;if(Array.isArray(t)&&t.length>0){let e=t[0];return"string"==typeof e?e:(null==e?void 0:e.name)||(null==e?void 0:e.city)||(null==e?void 0:e.state)||"Location"}return"string"==typeof t?t:t&&"object"==typeof t?(null==t?void 0:t.name)||(null==t?void 0:t.city)||(null==t?void 0:t.state)||"Location":(null==e?void 0:e.state)||(null==e?void 0:e.city)||"Location"})(),u=(null==e||null==(n=e.leadsCreated)?void 0:n.count)||(null==e?void 0:e.leadCount)||(null==e?void 0:e.totalLeads)||(null==e?void 0:e.leads)||0;return(0,t.jsxs)(l.default,{href:c?"/broker-details/".concat(c):"#",className:"group relative flex-shrink-0 w-[280px] md:w-[calc(50%-12px)] lg:w-[calc(33.33%-16px)] xl:w-[calc(25%-18px)] rounded-2xl border border-gray-100 bg-white shadow-sm hover:shadow-xl transition duration-300 overflow-hidden hover:bg-yellow-400 hover:ring-1 hover:ring-yellow-500/60 hover:-translate-y-0.5 flex flex-col ".concat(c?"":"pointer-events-none"),children:[(0,t.jsxs)("div",{className:"aspect-[4/3] w-full bg-gray-100 overflow-hidden relative",children:[(0,t.jsx)("img",{src:d,alt:"Broker portrait - ".concat(x),className:"h-full w-full object-cover group-hover:scale-[1.02] transition-transform duration-300",onError:e=>{e.currentTarget.src=o[r%o.length]}}),(0,t.jsx)("div",{className:"absolute inset-0 bg-transparent"})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 group/name",children:[(0,t.jsx)("h3",{className:"text-[18px] leading-7 font-semibold text-gray-900 line-clamp-1",children:x}),(0,t.jsxs)("svg",{className:"h-5 w-5 text-emerald-600 flex-shrink-0 transition-transform group-hover/name:translate-x-1 group-hover/name:-translate-y-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M7 17L17 7"}),(0,t.jsx)("path",{d:"M7 7h10v10"})]})]})}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("p",{className:"text-[12px] leading-5 font-normal text-gray-600 line-clamp-1",children:h})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 mt-auto",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 text-gray-600 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,t.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,t.jsx)("p",{className:"text-[12px] leading-5 font-normal text-gray-600 line-clamp-1",children:m})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"h-3 w-3 text-gray-600 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),(0,t.jsxs)("p",{className:"text-[12px] leading-5 font-normal text-gray-600 line-clamp-1",children:[u," Client Requests Closed"]})]})]})]},c||r)})})():(0,t.jsx)("div",{className:"col-span-full text-center py-12",children:(0,t.jsxs)("div",{className:"text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No similar brokers found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"We couldn't find any brokers with similar specializations or regions."})]})})}),C.length>4&&(0,t.jsxs)("div",{className:"flex gap-2 mt-7 justify-center",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("similar-brokers-carousel");e&&Y&&e.scrollBy({left:-300,behavior:"smooth"})},disabled:!Y,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors shadow-md ".concat(Y?"bg-yellow-500 text-white hover:bg-yellow-600 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"),title:"Previous",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("similar-brokers-carousel");e&&J&&e.scrollBy({left:300,behavior:"smooth"})},disabled:!J,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors shadow-md ".concat(J?"bg-yellow-500 text-white hover:bg-yellow-600 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"),title:"Next",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})})]})}),(0,t.jsx)("div",{className:"bg-[#EDFDF4] rounded-[16px]  shadow-xl mt-12",children:(0,t.jsxs)("div",{className:"px-6 py-8 text-center relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 "}),(0,t.jsx)("div",{className:"absolute top-3 right-3 w-12 h-12 bg-yellow-100 rounded-full opacity-20"}),(0,t.jsx)("div",{className:"absolute bottom-3 left-3 w-10 h-10 bg-yellow-200 rounded-full opacity-30"}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto relative z-10",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 h-[26px] px-3 bg-[#FDC700] border border-transparent rounded-full mb-4",children:[(0,t.jsx)("img",{src:"/images/lucide-CircleCheckBig-Outlined.svg",alt:"Verified",className:"w-3 h-3",style:{filter:"brightness(0)"}}),(0,t.jsx)("span",{className:"font-[Inter] text-[12px] leading-[16px] font-medium text-[#19191F]",children:"Trusted Real Estate Expert"})]}),(0,t.jsx)("h2",{className:" text-[18px] leading-[30px] font-bold text-[#19191F] mb-1",children:"Ready to Find Your Perfect Property?"}),(0,t.jsxs)("p",{className:" text-[12px] leading-[30px] font-normal text-[#19191F] mb-3 max-w-xl mx-auto",children:["Connect with ",(0,t.jsx)("span",{className:"font-semibold text-[#19191F]",children:en})," and discover the best real estate opportunities in your area. Get personalized assistance and expert guidance throughout your property journey."]}),(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:(0,t.jsx)("button",{onClick:()=>{if(!(localStorage.getItem("token")||localStorage.getItem("authToken")))return void f.push("/login?redirect=".concat(et));window.openChatWithBroker&&window.openChatWithBroker({broker:y})},className:"h-[40px] px-3 flex items-center justify-center font-[Inter] text-[12px] leading-[22px] font-medium text-[#584500] bg-[#FDC700] hover:bg-[#E3B200] hover:active:bg-[#C79C00] disabled:opacity-40 border-none opacity-100 rounded-md",children:"Send Message"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 p-6 h-[172px] bg-white rounded-[10px]",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:(0,t.jsx)("img",{src:"/images/lucide-UserCheck-Outlined.svg",alt:"Verified",className:"w-6 h-6",style:{filter:"brightness(0)"}})}),(0,t.jsx)("span",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#171A1F]",children:"Verified Broker"}),(0,t.jsx)("span",{className:"font-[Inter] text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Licensed & Certified"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 p-6 h-[172px] bg-white rounded-[10px]",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:(0,t.jsx)("img",{src:"/images/lucide-MessageCircle-Outlined.svg",alt:"Consultation",className:"w-6 h-6",style:{filter:"brightness(0)"}})}),(0,t.jsx)("span",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#171A1F]",children:"Free Consultation"}),(0,t.jsx)("span",{className:"font-[Inter] text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"No Obligation"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 p-6 h-[172px] bg-white rounded-[10px]",style:{boxShadow:"0px 0px 1px rgba(23, 26, 31, 0.07), 0px 0px 2px rgba(23, 26, 31, 0.12)"},children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:(0,t.jsx)("img",{src:"/images/lucide-MapPin-Outlined.svg",alt:"Guidance",className:"w-6 h-6",style:{filter:"brightness(0)"}})}),(0,t.jsx)("span",{className:"font-[Inter] text-[14px] leading-[24px] font-medium text-[#171A1F]",children:"Expert Guidance"}),(0,t.jsx)("span",{className:"font-[Inter] text-[12px] leading-[20px] font-normal text-[#565D6D]",children:"Personalized Service"})]})]})]})]})})]}),T&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>R(!1),children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative border border-gray-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-[18px] font-bold text-gray-900",children:"Rate This Broker"}),(0,t.jsx)("button",{onClick:()=>{R(!1),P(0),W("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#E5F0FA] overflow-hidden",children:(0,t.jsx)("img",{src:ea(null==y?void 0:y.brokerImage,null==y?void 0:y.profileImage,null==y?void 0:y.image)||"/images/user-2.jpeg",alt:en,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-[14px] font-semibold text-gray-900",children:en}),(0,t.jsx)("p",{className:"text-[12px] text-gray-500",children:ec})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-[14px] font-medium text-gray-700 mb-3",children:"Your Rating"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>P(e),className:"focus:outline-none transition-transform hover:scale-110",children:(0,t.jsx)("svg",{className:"w-8 h-8 ".concat(e<=M?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-300"),viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},e))}),M>0&&(0,t.jsxs)("p",{className:"text-[12px] text-gray-600 mt-2",children:[1===M&&"Poor",2===M&&"Fair",3===M&&"Good",4===M&&"Very Good",5===M&&"Excellent"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),(0,t.jsx)("textarea",{value:_,onChange:e=>W(e.target.value),placeholder:"Share your experience with this broker...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-[13px] focus:outline-none focus:ring-2 focus:ring-[#0D542B] focus:border-[#0D542B] resize-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{R(!1),P(0),W("")},className:"flex-1 h-[40px] px-4 flex items-center justify-center font-[Inter] text-[13px] leading-[22px] font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{if(0===M)return void n.default.error("Please select a rating");U(!0);try{let e=localStorage.getItem("token")||localStorage.getItem("authToken");if(!e){n.default.error("Please login to submit a rating"),R(!1),f.push("/login");return}let t=(null==y?void 0:y._id)||v,r=await fetch("".concat("https://broker-adda-be.fly.dev/api","/broker-ratings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({brokerId:t,rating:M,review:_||""})}),l=await r.json().catch(()=>({}));if(!r.ok)throw Error(l.message||"Failed to submit rating");l.success&&l.data?n.default.success(l.message||"Thank you for your rating!"):n.default.success("Thank you for your rating!"),R(!1),P(0),W(""),(async()=>{try{let e=localStorage.getItem("token")||localStorage.getItem("authToken"),t={"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}},r=(null==y?void 0:y._id)||v,l="/broker-ratings/broker/".concat(encodeURIComponent(String(r))),s=await fetch("".concat("https://broker-adda-be.fly.dev/api").concat(l),{headers:t});if(s.ok){let e=await s.json();e.success&&e.data&&e.data.stats&&q(e.data.stats)}}catch(e){}})()}catch(e){n.default.error(e.message||"Failed to submit rating. Please try again.")}finally{U(!1)}},disabled:0===M||O,className:"flex-1 h-[40px] px-4 flex items-center justify-center font-[Inter] text-[13px] leading-[22px] font-medium text-white bg-[#0D542B] hover:bg-[#0B4624] disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:O?"Submitting...":"Submit Rating"})]})]})})})]}):(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(a.default,{data:o}),(0,t.jsx)("div",{className:"py-10",children:(0,t.jsx)("div",{className:"w-full mx-auto px-4 md:px-0",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm mb-8 p-6",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:N||"No broker details found."})})})})]})}}]);