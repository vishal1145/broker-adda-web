(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90914,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),r=e.i(71645),o=e.i(18566),i=e.i(68413);let n=e=>{let{children:n,requiredRole:s=null}=e,{user:l,loading:u,isAuthenticated:c,isBroker:a,isCustomer:d}=(0,i.useAuth)(),g=(0,o.useRouter)();return((0,r.useEffect)(()=>{if(!u){if(!c()){console.log("ProtectedRoute: User not authenticated, redirecting to login"),g.push("/login");return}if("broker"===s&&!a()){console.log("ProtectedRoute: User is not a broker, redirecting to login"),g.push("/login");return}if("customer"===s&&!d()){console.log("ProtectedRoute: User is not a customer, redirecting to login"),g.push("/login");return}}},[l,u,c,a,d,s,g]),u)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):c()&&("broker"!==s||a())&&("customer"!==s||d())?n:null}},99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])}]);