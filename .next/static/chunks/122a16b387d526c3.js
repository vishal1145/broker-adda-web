(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11400,e=>{"use strict";e.s(["default",()=>u],11400);var a=e.i(76159),t=e.i(33915),r=e.i(56709),s=e.i(81472),l=e.i(33476),n=e.i(58153),o=e.i(57382),i=e.i(93349),d=e.i(92327),d=d,f=e.i(66314),c=e.i(48920);function x(){var e,x,u,m;let b=(0,l.useSearchParams)(),[g,p]=(0,r.useState)(!1),[h,j]=(0,r.useState)("my-leads"),[y,v]=(0,r.useState)({query:"",status:{value:"all",label:"All Status"},broker:{value:"all",label:"All Brokers"},region:{value:"all",label:"All Regions"},propertyType:{value:"all",label:"All Property Types"},requirement:{value:"all",label:"All Requirements"},startDate:"",endDate:"",budgetMin:0,budgetMax:5e5}),[N,w]=(0,r.useState)([]),[k,S]=(0,r.useState)(!1),[C,A]=(0,r.useState)(""),[B,L]=(0,r.useState)([]),[T,R]=(0,r.useState)(!1),[_,M]=(0,r.useState)(""),[D,P]=(0,r.useState)(!1),q=(0,r.useMemo)(()=>{var e,a,t,r,s;return(null==(e=y.status)?void 0:e.value)&&"all"!==y.status.value||(null==(a=y.broker)?void 0:a.value)&&"all"!==y.broker.value||(null==(t=y.region)?void 0:t.value)&&"all"!==y.region.value||(null==(r=y.propertyType)?void 0:r.value)&&"all"!==y.propertyType.value||(null==(s=y.requirement)?void 0:s.value)&&"all"!==y.requirement.value||!!y.startDate||!!y.endDate||"number"==typeof y.budgetMax&&5e5!==y.budgetMax},[y]),E=()=>{},F=localStorage.getItem("token")||localStorage.getItem("authToken"),z="https://broker-adda-be.fly.dev/api",I=(0,r.useMemo)(()=>(e=>{try{if(!e)return"";let a=e.split(".")[1];if(!a)return"";let t=a.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),s=JSON.parse(r);return s.brokerId||s.userId||s.id||s.sub||""}catch(e){return""}})(F),[F]),[W,U]=(0,r.useState)(""),[H,O]=(0,r.useState)(!1),V=(0,r.useCallback)(async()=>{if(I&&F)try{O(!0);let a=await fetch("".concat(z,"/brokers/").concat(I),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(F)}});if(a.ok){var e;let t=await a.json(),r=(null==t||null==(e=t.data)?void 0:e.broker)||(null==t?void 0:t.broker)||(null==t?void 0:t.data)||t;r&&r._id&&U(r._id)}else await a.text()}catch(e){}finally{O(!1)}},[I,F,z]);(0,r.useEffect)(()=>{I&&V()},[I,V]);let[Y,J]=(0,r.useState)({totalLeads:0,newLeadsToday:0,convertedLeads:0,avgDealSize:0,transferredToMe:0,transferredByMe:0}),[X,$]=(0,r.useState)(!1),[K,G]=(0,r.useState)(""),Q=(0,r.useCallback)(async()=>{if(W)try{$(!0),G("");let e="".concat(z,"/leads/metrics?createdBy=").concat(W),a=await fetch(e,{headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}}});if(!a.ok){try{let e=await a.json();G((null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to load metrics")}catch(e){G("Failed to load metrics")}return}let t=await a.json(),r=(null==t?void 0:t.data)||t||{};J({totalLeads:Number(r.totalLeads||r.total||0),newLeadsToday:Number(r.newLeadsToday||r.today||0),convertedLeads:Number(r.convertedLeads||r.converted||0),avgDealSize:Number(r.avgDealSize||r.averageDealSize||0),transferredToMe:Number(r.transferredToMe||r.transfersToMe||0),transferredByMe:Number(r.transferredByMe||r.transfersByMe||0)})}catch(e){G("Error loading metrics")}finally{$(!1)}},[z,F,W]);(0,r.useEffect)(()=>{W&&Q()},[W,Q]);let[Z,ee]=(0,r.useState)([]),[ea,et]=(0,r.useState)(!1),[er,es]=(0,r.useState)(""),el=(0,r.useCallback)(async()=>{if(F)try{var e,a;et(!0),es("");let t="".concat(z,"/notifications/recent?days=7&type=lead"),r=await fetch(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(F)}});if(!r.ok){try{let e=await r.json();es((null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to load notifications")}catch(e){es("Failed to load notifications")}return}let s=await r.json(),l=[];Array.isArray(null==s||null==(e=s.data)?void 0:e.items)?l=s.data.items:Array.isArray(null==s||null==(a=s.data)?void 0:a.notifications)?l=s.data.notifications:Array.isArray(null==s?void 0:s.data)?l=s.data:Array.isArray(null==s?void 0:s.notifications)?l=s.notifications:Array.isArray(s)&&(l=s);let n=l.sort((e,a)=>{let t=e.createdAt?new Date(e.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-t}).slice(0,3);ee(n)}catch(e){es("Error loading notifications")}finally{et(!1)}},[z,F]);(0,r.useEffect)(()=>{F&&el()},[F,el]);let[en,eo]=(0,r.useState)([]),[ei,ed]=(0,r.useState)(!0),[ef,ec]=(0,r.useState)(""),[ex,eu]=(0,r.useState)(1),[em,eb]=(0,r.useState)(10),[eg,ep]=(0,r.useState)(0),eh=Math.max(1,Math.ceil(eg/(em||10))),[ej,ey]=(0,r.useState)(""),[ev,eN]=(0,r.useState)(!1),[ew,ek]=(0,r.useState)("overview"),[eS,eC]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=setTimeout(()=>{y.query!==ej&&eN(!0)},100),a=setTimeout(()=>{ey(y.query||""),eN(!1)},500);return()=>{clearTimeout(e),clearTimeout(a)}},[y.query,ej]);let eA=(0,r.useCallback)(function(e){var a,t,r,s,l,n,o,i,d;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ex,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:em,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ej,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h,m=new URLSearchParams;return(m.set("page",String(f)),m.set("limit",String(c)),"transferred"===u)?(W&&m.set("toBroker",W),x&&m.set("search",x),(null==(n=e.status)?void 0:n.value)&&"all"!==e.status.value&&m.set("status",e.status.value),(null==(o=e.region)?void 0:o.value)&&"all"!==e.region.value&&m.set("region",e.region.value),(null==(i=e.propertyType)?void 0:i.value)&&"all"!==e.propertyType.value&&m.set("propertyType",e.propertyType.value),(null==(d=e.requirement)?void 0:d.value)&&"all"!==e.requirement.value&&m.set("requirement",e.requirement.value),e.startDate&&m.set("startDate",e.startDate),e.endDate&&m.set("endDate",e.endDate),"number"==typeof e.budgetMax&&5e5!==e.budgetMax&&m.set("budgetMax",String(e.budgetMax)),"".concat(z,"/leads/transferred?").concat(m.toString())):(W&&m.set("createdBy",W),x&&m.set("search",x),(null==(a=e.status)?void 0:a.value)&&"all"!==e.status.value&&m.set("status",e.status.value),(null==(t=e.broker)?void 0:t.value)&&"all"!==e.broker.value&&m.set("broker",e.broker.value),(null==(r=e.region)?void 0:r.value)&&"all"!==e.region.value&&m.set("regionId",e.region.value),(null==(s=e.propertyType)?void 0:s.value)&&"all"!==e.propertyType.value&&m.set("propertyType",e.propertyType.value),(null==(l=e.requirement)?void 0:l.value)&&"all"!==e.requirement.value&&m.set("requirement",e.requirement.value),e.startDate&&m.set("startDate",e.startDate),e.endDate&&m.set("endDate",e.endDate),"number"==typeof e.budgetMax&&5e5!==e.budgetMax&&m.set("budgetMax",String(e.budgetMax)),"".concat(z,"/leads?").concat(m.toString()))},[z,ex,em,ej,W,h]),eB=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(W||H)try{ed(!0),ec("");let u=null!=e?e:y,m=null!=a?a:ex,b=null!=t?t:em,g=null!=r?r:ej,p=null!=s?s:h,j=await fetch(eA(u,m,b,g,p),{headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}}});if(j.ok){var l,n,o,i,d,f,c,x;let e=await j.json(),a=[],t=0;Array.isArray(null==e||null==(l=e.data)?void 0:l.items)?(a=e.data.items,t=null!=(i=null!=(o=e.data.total)?o:e.total)?i:a.length):Array.isArray(null==e||null==(n=e.data)?void 0:n.leads)?(a=e.data.leads,t=null!=(f=null!=(d=e.data.total)?d:e.total)?f:a.length):Array.isArray(null==e?void 0:e.data)?(a=e.data,t=null!=(c=e.total)?c:a.length):Array.isArray(null==e?void 0:e.leads)?(a=e.leads,t=null!=(x=e.total)?x:a.length):Array.isArray(e)&&(t=(a=e).length),"transferred"===p&&(t=(a=a.filter(e=>{var a,t,r;let s=null==(a=(null==e||null==(t=e.createdBy)?void 0:t._id)||(null==e||null==(r=e.createdBy)?void 0:r.id)||(null==e?void 0:e.createdBy))?void 0:a.toString();return(!W||s!==W.toString())&&(Array.isArray(null==e?void 0:e.transfers)?e.transfers:[]).length>0})).length),eo(a),ep(t)}else ec("Failed to load leads"),eo([]),ep(0)}catch(e){ec("Error loading leads"),eo([]),ep(0)}finally{ed(!1)}},[y,ex,em,ej,F,eA,W,H,h]);E=()=>{let e={...y,status:{value:"all",label:"All Status"},broker:{value:"all",label:"All Brokers"},region:{value:"all",label:"All Regions"},propertyType:{value:"all",label:"All Property Types"},requirement:{value:"all",label:"All Requirements"},startDate:"",endDate:"",budgetMax:5e5};v(e),eu(1),eB(e,1,em,ej)},(0,r.useEffect)(()=>{let e=null==b?void 0:b.get("status");if(e&&e_.length>0){var a;let t=e_.find(a=>a.value===e);if(t&&(null==(a=y.status)?void 0:a.value)!==t.value){let e={...y,status:t};v(e),eu(1),setTimeout(()=>{eB(e,1,em,ej)},100)}}},[b]),(0,r.useEffect)(()=>{eB()},[ex,em]),(0,r.useEffect)(()=>{1!==ex?eu(1):eB()},[ej]),(0,r.useEffect)(()=>{W&&eB()},[W]),(0,r.useEffect)(()=>{eB()},[h]);let eL=e=>{let a=(e||"").toString().toLowerCase();return"new"===a?"bg-green-50 text-green-900":"contacted"===a||"in progress"===a?"bg-amber-100 text-amber-700":"qualified"===a||"closed"===a?"bg-emerald-100 text-emerald-700":"rejected"===a?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"},eT=async()=>{try{var e;S(!0),A("");let a=await fetch("".concat(z,"/regions"),{headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("bad");let t=await a.json(),r=[];(null==t?void 0:t.success)&&Array.isArray(null==t||null==(e=t.data)?void 0:e.regions)?r=t.data.regions:Array.isArray(t)?r=t:Array.isArray(null==t?void 0:t.data)?r=t.data:Array.isArray(null==t?void 0:t.regions)?r=t.regions:(null==t?void 0:t._id)&&(null==t?void 0:t.name)&&(r=[t]),w(r)}catch(e){A("Error loading regions"),w([])}finally{S(!1)}};(0,r.useEffect)(()=>{eT()},[]);let eR=(0,r.useCallback)(async()=>{if(W)try{var e;R(!0),M("");let a="".concat(z,"/regions/nearest?brokerId=").concat(encodeURIComponent(W),"&limit=5"),t=await fetch(a,{headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}}});if(!t.ok)throw Error("bad");let r=await t.json(),s=[];(null==r?void 0:r.success)&&Array.isArray(null==r||null==(e=r.data)?void 0:e.regions)?s=r.data.regions:Array.isArray(r)?s=r:Array.isArray(null==r?void 0:r.data)?s=r.data:Array.isArray(null==r?void 0:r.regions)?s=r.regions:(null==r?void 0:r._id)&&(null==r?void 0:r.name)&&(s=[r]),L(s)}catch(e){M("Error loading nearest regions"),L([])}finally{R(!1)}},[z,F,W]),e_=[{value:"all",label:"All Status",isAll:!0},{value:"New",label:"New"},{value:"Assigned",label:"Assigned"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Rejected",label:"Rejected"}],eM=[{value:"all",label:"All Property Types"},{value:"Residential",label:"Residential"},{value:"Commercial",label:"Commercial"},{value:"Plot",label:"Plot"},{value:"Other",label:"Other"}],eD=[{value:"all",label:"All Requirements"},{value:"buy",label:"Buy"},{value:"rent",label:"Rent"},{value:"sell",label:"Sell"}],eP=(0,r.useMemo)(()=>[{value:"all",label:"All Regions"},...Array.isArray(N)?N.map(e=>({value:e._id||e.id||e,label:e.name||e.region||e})):[]],[N]);(0,r.useMemo)(()=>Array.isArray(B)?B.map(e=>({value:e._id||e.id||e,label:e.name||e.region||e})):[],[B]);let eq={control:(e,a)=>({...e,minHeight:"40px",borderRadius:10,border:"1px solid #e5e7eb",fontFamily:"var(--font-body, inherit)",fontSize:12,boxShadow:a.isFocused?"0 0 0 4px rgba(13,84,43,0.12)":"0 0 1px #171a1f12, 0 0 2px #171a1f1F",borderColor:a.isFocused?"#0D542B":"#e5e7eb",background:"white",":hover":{borderColor:(a.isFocused,"#0D542B")}}),valueContainer:e=>({...e,padding:"2px 10px",fontFamily:"var(--font-body, inherit)",fontSize:12}),indicatorSeparator:()=>({display:"none"}),menuPortal:e=>({...e,zIndex:99999}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"#0D542B":a.isFocused?"#E8F8F0":"transparent",color:a.isSelected?"#ffffff":a.isFocused?"#0D542B":"#4b5563",fontSize:12,fontFamily:"var(--font-body, inherit)",borderRadius:6,margin:"2px 6px",padding:"8px 12px",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",maxWidth:"100%",":active":{backgroundColor:a.isSelected?"#0D542B":"#C8F1DC",color:a.isSelected?"#ffffff":"#0D542B"}}),singleValue:e=>({...e,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),input:e=>({...e,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),placeholder:e=>({...e,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),multiValueLabel:e=>({...e,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),menu:e=>({...e,zIndex:9999,overflowX:"hidden",overflowY:"visible",border:"1px solid #e5e7eb",borderRadius:10,fontFamily:"var(--font-body, inherit)",fontSize:12,minWidth:"100%",maxWidth:"100%"}),menuList:e=>({...e,maxHeight:180,overflowY:"auto",overflowX:"hidden",paddingRight:8,fontFamily:"var(--font-body, inherit)",fontSize:12})},eE=(0,r.useMemo)(()=>{let e=new Map;return(Array.isArray(N)?N:[]).forEach(a=>{let t=(null==a?void 0:a._id)||(null==a?void 0:a.id),r=(null==a?void 0:a.name)||(null==a?void 0:a.region)||(null==a?void 0:a.city)||"";t&&r&&e.set(String(t),String(r))}),e},[N]),eF=e=>e?"string"==typeof e?eE.get(e)||e:"object"==typeof e&&(e.name||e.region||e.city)||"":"",ez=e=>{if(!e&&0!==e)return"—";let a="number"==typeof e?e:Number(String(e).replace(/[^0-9.]/g,""));if(isNaN(a)||0===a)return"—";if(a>=1e7){let e=a/1e7;return"₹".concat(e%1==0?e.toFixed(0):e.toFixed(2)," Cr")}if(a>=1e5){let e=a/1e5;return"₹".concat(e%1==0?e.toFixed(0):e.toFixed(2)," Lakh")}if(!(a>=1e3))return"₹".concat(a.toLocaleString("en-IN"));{let e=a/1e3;return"₹".concat(e%1==0?e.toFixed(0):e.toFixed(2),"K")}},[eI,eW]=(0,r.useState)(!1),[eU,eH]=(0,r.useState)(!1),[eO,eV]=(0,r.useState)({customerName:"",customerPhone:"",customerEmail:"",requirement:{value:"all",label:"All Requirements"},propertyType:{value:"all",label:"All propertyType"},budget:"",primaryRegion:null,secondaryRegion:null,notes:"",files:null}),[eY,eJ]=(0,r.useState)({});(0,r.useEffect)(()=>{eI&&W&&eR()},[eI,W,eR]);let eX=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),e$=e=>{let{name:a,value:t,files:r}=e.target;if("customerPhone"===a){let e=t.replace(/\D/g,"").slice(0,10);eV(t=>({...t,[a]:e}));let r={...eY};e.length>0&&e.length<10?r.customerPhone="Phone number must be 10 digits":delete r.customerPhone,eJ(r);return}if("customerEmail"===a){eV(e=>({...e,[a]:t}));let e={...eY};t.length>0&&!eX(t)?e.customerEmail="Please enter a valid email address":delete e.customerEmail,eJ(e);return}eV(e=>({...e,[a]:r||t})),eY[a]&&eJ(e=>({...e,[a]:""}))},eK={...eq,menuPortal:e=>({...e,zIndex:999999}),menuList:e=>({...e,maxHeight:150,overflowY:"auto",overflowX:"hidden",paddingRight:8,fontFamily:"var(--font-body, inherit)",fontSize:12})},eG={...eq,menu:e=>({...e,zIndex:99999,overflowX:"hidden",overflowY:"visible",border:"1px solid #e5e7eb",borderRadius:10,fontFamily:"var(--font-body, inherit)",fontSize:12,minWidth:"100%",maxWidth:"100%"}),menuList:e=>({...e,overflowX:"hidden",overflowY:"auto",maxHeight:120,paddingRight:8,fontFamily:"var(--font-body, inherit)",fontSize:12}),menuPortal:e=>({...e,zIndex:99999})},eQ=async()=>{if(!(()=>{let e={};if(eO.customerName.trim()||(e.customerName="Customer name is required"),eO.customerPhone.trim()){var a;a=eO.customerPhone,/^\d{10}$/.test(a.replace(/\D/g,""))||(e.customerPhone="Phone number must be exactly 10 digits")}else e.customerPhone="Phone number is required";return eO.customerEmail.trim()?eX(eO.customerEmail)||(e.customerEmail="Please enter a valid email address"):e.customerEmail="Email is required",eJ(e),0===Object.keys(e).length})())return void n.default.error("Please fix the validation errors before submitting");try{eH(!0);let e="object"==typeof eO.requirement?eO.requirement.label||eO.requirement.value:eO.requirement,a="object"==typeof eO.propertyType?eO.propertyType.label||eO.propertyType.value:eO.propertyType,t=eO.primaryRegion&&"object"==typeof eO.primaryRegion?eO.primaryRegion.value||eO.primaryRegion._id:eO.primaryRegion,r=eO.secondaryRegion&&"object"==typeof eO.secondaryRegion?eO.secondaryRegion.value||eO.secondaryRegion._id:eO.secondaryRegion,s={customerName:eO.customerName||"",customerPhone:eO.customerPhone||"",customerEmail:eO.customerEmail||"",requirement:e||"",propertyType:a||"",budget:""!==eO.budget&&null!==eO.budget?parseFloat(eO.budget):0,primaryRegionId:t&&"select region"!==t?t:"",createdBy:W};r&&"select region"!==r&&(s.secondaryRegionId=r);let l=await fetch("".concat(z,"/leads"),{method:"POST",headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}},body:JSON.stringify(s)});if(!l.ok){try{let e=await l.json(),a=(null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to create lead";n.default.error(a)}catch(e){n.default.error("Failed to create lead")}return}let o=null;try{o=await l.json()}catch(e){}let i=o&&(o.lead||o.data||o.newLead)||o||null;n.default.success("Lead created successfully"),await eB();let d=i&&(i._id||i.id)?i:await ao();d&&ab(d),e0(!0),e4({brokerIds:[],notes:"",selectAllFiltered:!1}),aa&&0!==aa.length||ai(),eW(!1),eV({customerName:"",customerPhone:"",customerEmail:"",requirement:"select requirement",propertyType:"select propertyType",budget:"",region:"select region",notes:"",files:null}),eJ({})}catch(e){n.default.error("Error creating lead")}finally{eH(!1)}},[eZ,e0]=(0,r.useState)(!1),[e1,e4]=(0,r.useState)({brokerIds:[],notes:"",selectAllFiltered:!1}),[e3,e9]=(0,r.useState)("");(0,r.useRef)(null);let[e5,e2]=(0,r.useState)("all"),[e6,e7]=(0,r.useState)(null),[e8,ae]=(0,r.useState)(!1),[aa,at]=(0,r.useState)([]),[ar,as]=(0,r.useState)(!1),[al,an]=(0,r.useState)(""),ao=(0,r.useCallback)(async()=>{try{var e,a,t;let r=new URLSearchParams;W&&r.set("createdBy",W),r.set("limit","5");let s="".concat(z,"/leads?").concat(r.toString()),l=await fetch(s,{headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}}});if(!l.ok)return null;let n=await l.json(),o=Array.isArray(null==n||null==(e=n.data)?void 0:e.items)?n.data.items:Array.isArray(null==n||null==(a=n.data)?void 0:a.leads)?n.data.leads:Array.isArray(null==n?void 0:n.data)?n.data:Array.isArray(null==n?void 0:n.leads)?n.leads:Array.isArray(n)?n:[];if(!o||0===o.length)return null;return(null==(t=o.map(e=>{var a;return{item:e,ts:(null==e?void 0:e.createdAt)?Date.parse(e.createdAt):(null==e?void 0:e._id)?Date.parse(null==(a=e._id)?void 0:a.toString().substring(0,8)):0}}).sort((e,a)=>(a.ts||0)-(e.ts||0))[0])?void 0:t.item)||o[0]||null}catch(e){return null}},[z,F,W]),ai=async()=>{try{var e;as(!0),an("");let a=await fetch("".concat(z,"/brokers"),{headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}}});if(!a.ok)throw Error("bad");let t=await a.json(),r=[];Array.isArray(null==t||null==(e=t.data)?void 0:e.brokers)?r=t.data.brokers:Array.isArray(null==t?void 0:t.data)?r=t.data:Array.isArray(null==t?void 0:t.brokers)?r=t.brokers:Array.isArray(t)&&(r=t),at(r)}catch(e){an("Failed to load brokers"),at([])}finally{as(!1)}},ad=async e=>{let a=(null==e?void 0:e.transferredTo)||(null==e?void 0:e.transferredBrokers)||(null==e?void 0:e.transfers)||[];if(Array.isArray(a)&&a.length>0)return void n.default.error("Cannot delete lead that has been transferred to other brokers");try{let a=(null==e?void 0:e._id)||(null==e?void 0:e.id);if(!a)return void n.default.error("Invalid lead id");let t=await fetch("".concat(z,"/leads/").concat(a),{method:"DELETE",headers:{...F?{Authorization:"Bearer ".concat(F)}:{}}});if(!t.ok){try{let e=await t.json(),a=(null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to delete lead";n.default.error(a)}catch(e){n.default.error("Failed to delete lead")}return}n.default.success("Lead deleted"),await eB()}catch(e){n.default.error("Error deleting lead")}},af=e=>{ab(e),e4({brokerIds:[],notes:""}),e2("all"),e7(null),e0(!0),aa&&0!==aa.length||ai()},ac=async()=>{if(!am)return void n.default.error("No lead selected");let e=am._id||am.id;if(!e){let a=await ao();a&&(a._id||a.id)&&(e=a._id||a.id,ab(e=>({...a||e})))}if(!e)return void n.default.error("Invalid lead id");if(!W)return void n.default.error("Broker ID not found");let a=[];if("all"===e5)a.push({shareType:"all"});else if("region"===e5){if(!(e6&&e6.value))return void n.default.error("Select a region to share with");let e=String(e6.value);a.push({shareType:"region",region:e})}else{if("select"!==e5)return void n.default.error("Invalid share mode");let e=(e1.brokerIds||[]).filter(e=>"all"!==e);if(!e.length)return void n.default.error("Select at least one broker");e.forEach(e=>{a.push({shareType:"individual",toBroker:String(e)})})}let t={transfers:a,fromBroker:String(W)};e1.notes&&e1.notes.trim()&&(t.notes=e1.notes.trim());try{ae(!0);let a=await fetch("".concat(z,"/leads/").concat(e,"/transfer-and-notes"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}},body:JSON.stringify(t)});if(!a.ok){let e="Failed to share lead";try{let t=await a.json();console.error("Transfer API error response:",t),e=t.message||t.error||e}catch(r){let t=await a.text().catch(()=>"");console.error("Transfer API error (text):",t),e=t||e}n.default.error(e);return}n.default.success("Share request sent"),e0(!1),e4({brokerIds:[],notes:""}),e7(null),e2("all")}catch(e){n.default.error("Error sending transfer request")}finally{ae(!1)}},[ax,au]=(0,r.useState)(!1),[am,ab]=(0,r.useState)(null),[ag,ap]=(0,r.useState)(!1),[ah,aj]=(0,r.useState)(!1),[ay,av]=(0,r.useState)(!1),[aN,aw]=(0,r.useState)(!1),[ak,aS]=(0,r.useState)({name:"",contact:"",email:"",budget:"",requirement:"",propertyType:"",primaryRegion:null,secondaryRegion:null,status:""}),[aC,aA]=(0,r.useState)(!1),[aB,aL]=(0,r.useState)(null),[aT,aR]=(0,r.useState)(null);(0,r.useEffect)(()=>{ax&&W&&eR()},[ax,W,eR]);let a_=async e=>{try{if(!am||!e)return;let a=am._id||am.id,t=await fetch("".concat(z,"/leads/").concat(encodeURIComponent(a),"/transfers/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{...F?{Authorization:"Bearer ".concat(F)}:{},Accept:"application/json"}});if(!t.ok){try{let e=await t.json();n.default.error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to delete transfer")}catch(e){n.default.error("Failed to delete transfer")}return}n.default.success("Transfer removed"),await eB(),ab(a=>{if(!a)return a;let t=Array.isArray(a.transfers)?a.transfers.filter(a=>{var t,r;let s=a&&"object"==typeof a.toBroker?(null==(t=a.toBroker)?void 0:t._id)||(null==(r=a.toBroker)?void 0:r.id):null==a?void 0:a.toBroker;return String(s)!==String(e)}):[];return{...a,transfers:t}}),aL(null)}catch(e){n.default.error("Error deleting transfer")}},aM=async e=>{try{if(!am||!e)return;let a=am._id||am.id;aR(e);let t=await fetch("".concat(z,"/leads/").concat(encodeURIComponent(a),"/region-transfers/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{},Accept:"application/json"}});if(!t.ok){try{let e=await t.json();n.default.error((null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to delete region transfer")}catch(e){n.default.error("Failed to delete region transfer")}aR(null);return}n.default.success("Region transfer removed"),await eB(),ab(a=>{if(!a)return a;let t=Array.isArray(a.transfers)?a.transfers.filter(a=>{let t=null==a?void 0:a.region;return String(t)!==String(e)}):[];return{...a,transfers:t}}),aR(null)}catch(e){n.default.error("Error deleting region transfer"),aR(null)}},aD=async()=>{if(am)try{aA(!0);let e=am._id||am.id,a={customerName:void 0!==ak.name?ak.name:am.customerName||am.name||"",customerPhone:void 0!==ak.contact?ak.contact:am.customerPhone||"",customerEmail:void 0!==ak.email?ak.email:am.customerEmail||"",requirement:void 0!==ak.requirement?ak.requirement:am.requirement||"",propertyType:void 0!==ak.propertyType?ak.propertyType:am.propertyType||"",budget:""!==ak.budget&&null!==ak.budget?Number(ak.budget):"number"==typeof am.budget?am.budget:0,status:ak.status?ak.status:am.status||"New"};ak.primaryRegion&&ak.primaryRegion.value&&"all"!==ak.primaryRegion.value&&(a.primaryRegionId=ak.primaryRegion.value),ak.secondaryRegion&&ak.secondaryRegion.value&&"all"!==ak.secondaryRegion.value&&(a.secondaryRegionId=ak.secondaryRegion.value);let t=await fetch("".concat(z,"/leads/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...F?{Authorization:"Bearer ".concat(F)}:{}},body:JSON.stringify(a)});if(!t.ok){try{let e=await t.json(),a=(null==e?void 0:e.message)||(null==e?void 0:e.error)||"Failed to update lead";n.default.error(a)}catch(e){n.default.error("Failed to update lead")}return}let r=await t.json(),s=(null==r?void 0:r.data)||r;ab(e=>({...e,...s,name:s.name||s.customerName||ak.name||(null==e?void 0:e.name),customerName:s.customerName||ak.name||(null==e?void 0:e.customerName),contact:s.contact||s.customerPhone||ak.contact||(null==e?void 0:e.contact),customerPhone:s.customerPhone||ak.contact||(null==e?void 0:e.customerPhone),customerEmail:s.customerEmail||ak.email||(null==e?void 0:e.customerEmail),requirement:s.requirement||ak.requirement||(null==e?void 0:e.requirement),propertyType:s.propertyType||ak.propertyType||(null==e?void 0:e.propertyType),budget:"number"==typeof s.budget?s.budget:""!==ak.budget?Number(ak.budget):null==e?void 0:e.budget,primaryRegion:s.primaryRegion||(ak.primaryRegion?{name:ak.primaryRegion.label,_id:ak.primaryRegion.value}:(null==e?void 0:e.primaryRegion)||(null==e?void 0:e.region)),secondaryRegion:s.secondaryRegion||(ak.secondaryRegion?{name:ak.secondaryRegion.label,_id:ak.secondaryRegion.value}:null==e?void 0:e.secondaryRegion)})),n.default.success("Lead updated"),ap(!1),await eB()}catch(e){n.default.error("Error updating lead")}finally{aA(!1)}},aP=e=>aS(a=>({...a,[e.target.name]:e.target.value}));return(0,a.jsxs)(f.default,{requiredRole:"broker",children:[(0,a.jsx)(o.default,{data:{title:"My Enquiries",description:"Manage your property requirements, track status, and collaborate with brokers — all in one place."}}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 min-h-screen bg-white py-16",children:[(0,a.jsx)(n.Toaster,{position:"top-right",toastOptions:{duration:3e3}}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full mx-auto px-4 md:px-0",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 md:col-span-9",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mb-6",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("h1",{className:"jsx-5f133ba9f9a414f4  font-archivo text-[18px] leading-[36px] font-bold text-[#171A1FFF]",children:"Enquiry Management"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-[20px] font-normal text-[#565D6DFF]",children:"Capture enquiries, share with brokers, and track progress — all in one place."})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,a.jsx)("button",{type:"button",role:"switch","aria-checked":"transferred"===h,onClick:()=>{let e="my-leads"===h?"transferred":"my-leads";j(e),eu(1),eB(y,1,em,ej,e)},className:"jsx-5f133ba9f9a414f4 "+"relative inline-flex h-5 w-10 items-center rounded-full transition-colors duration-200 border ".concat("transferred"===h?"bg-green-900 border-green-900":"bg-gray-200 border-gray-300"),children:(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform duration-200 ".concat("transferred"===h?"translate-x-5":"translate-x-0")})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#565D6D]",children:"transferred"===h?"Transferred to Me":" My Enquiries"})]})]})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white rounded-lg p-4",children:[(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Total Enquiries"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:X?"—":Y.totalLeads.toLocaleString()})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white rounded-lg p-4",children:[(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Shared With Me"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:X?"—":Number(Y.transferredToMe||Y.transfersToMe||0).toLocaleString()})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] border-gray-200 bg-white rounded-lg p-4",children:[(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Shared By Me"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:X?"—":Number(Y.transferredByMe||Y.transfersByMe||0).toLocaleString()})})]})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 pt-4",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-px bg-gray-100"})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-6 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-80 relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by name, budget, region, or property type…",value:y.query,onChange:e=>v({...y,query:e.target.value}),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full pl-11 pr-4 py-2 border border-gray-200 rounded-xl shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white text-[12px] font-body placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-600"}),(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z",className:"jsx-5f133ba9f9a414f4"})}),ev&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"})})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-52",children:(0,a.jsx)(i.default,{value:y.status,onChange:e=>{let a={...y,status:e};v(a),eu(1),eB(a,1,em,ej)},options:e_,styles:eq,isSearchable:!0,menuPlacement:"bottom"})}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,a.jsxs)("button",{type:"button",onClick:()=>p(!0),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] font-body border border-gray-200 bg-white text-gray-500 hover:text-gray-600 hover:bg-white hover:border-gray-300 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z",className:"jsx-5f133ba9f9a414f4"})}),"Advanced Filters"]})}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,a.jsxs)("button",{type:"button",onClick:()=>eW(!0),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] border border-green-600 text-white bg-[#0D542B]  hover:bg-[#0B4624]  hover:border-green-700 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6",className:"jsx-5f133ba9f9a414f4"})}),"Add New Enquiry"]})}),q&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,a.jsx)("button",{type:"button",onClick:E,title:"Clear advanced filters",className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] font-semibold border border-gray-200 text-gray-700 hover:bg-gray-50 shadow-sm cursor-pointer whitespace-nowrap",children:"Clear Filters"})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-6",children:[ei&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,t)=>(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-2xl border border-gray-200 bg-white shadow-sm p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-5 w-2/3 bg-gray-200 rounded mb-3"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-4 w-1/2 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-28 w-full bg-gray-100 rounded mb-4"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-28 bg-gray-200 rounded"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex gap-2",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"})]})]})]},t))}),!ei&&Array.isArray(en)&&0===en.length&&(0,a.jsx)(()=>{var e,t,r,s,l,n,o,i;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No enquiries found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:y.query||(null==(e=y.status)?void 0:e.value)!=="all"||(null==(t=y.region)?void 0:t.value)!=="all"||(null==(r=y.propertyType)?void 0:r.value)!=="all"||(null==(s=y.requirement)?void 0:s.value)!=="all"||5e5!==y.budgetMax?"No enquiries match your current filters. Try adjusting your search criteria.":"You don't have any leads yet. Click 'Add New Enquiry' to get started."}),!y.query&&(null==(l=y.status)?void 0:l.value)==="all"&&(null==(n=y.region)?void 0:n.value)==="all"&&(null==(o=y.propertyType)?void 0:o.value)==="all"&&(null==(i=y.requirement)?void 0:i.value)==="all"&&5e5===y.budgetMax&&(0,a.jsx)("button",{onClick:()=>eW(!0),className:"mt-4 px-4 py-2 bg-green-900 text-white text-sm font-semibold rounded-lg hover:bg-green-950 transition-colors",children:"Add Your First Enquiry"})]})},{className:"jsx-5f133ba9f9a414f4"}),!ei&&Array.isArray(en)&&en.length>0&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2 gap-6",children:en.map((e,t)=>{var r,s,l,n,o,i,d,f,c;let x=Array.from(new Map((Array.isArray(null==e?void 0:e.transfers)?e.transfers:[]).map(e=>"object"==typeof(null==e?void 0:e.toBroker)?e.toBroker:{_id:null==e?void 0:e.toBroker}).filter(e=>e&&(e._id||e.name||e.email)).map(e=>[e._id||e.email||e.name,e])).values()),u=new Map((aa||[]).map(e=>[e._id||e.id,e]));x.map(e=>{let a=e._id?{...u.get(e._id)||{},...e}:e;return{id:a._id||a.id||a.email||a.name,name:a.name||a.fullName||a.email||"Broker",image:a.brokerImage||a.avatarUrl||a.imageUrl||""}});let m=(()=>{let a=(null==e?void 0:e.transferredTo)||(null==e?void 0:e.transferredBrokers)||(null==e?void 0:e.transfers)||[];return Array.isArray(a)&&a.length>0})();return(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 group relative border shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] border-gray-200 bg-white rounded-lg",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 absolute top-0 right-0 z-10",children:(0,a.jsx)("div",{style:{background:(null==(r=e.status)?void 0:r.toLowerCase())==="new"?"#FDC700":(null==(s=e.status)?void 0:s.toLowerCase())==="assigned"?"linear-gradient(90deg, #3b82f6 0%, #1e40af 100%)":(null==(l=e.status)?void 0:l.toLowerCase())==="in progress"?"linear-gradient(90deg, #f59e0b 0%, #dc2626 100%)":(null==(n=e.status)?void 0:n.toLowerCase())==="completed"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":(null==(o=e.status)?void 0:o.toLowerCase())==="shared"?"linear-gradient(90deg, #8b5cf6 0%, #6d28d9 100%)":(null==(i=e.status)?void 0:i.toLowerCase())==="closed"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":(null==(d=e.status)?void 0:d.toLowerCase())==="rejected"?"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)":(null==(f=e.status)?void 0:f.toLowerCase())==="transferred"?"linear-gradient(90deg, #f97316 0%, #ea580c 100%)":(null==(c=e.status)?void 0:c.toLowerCase())==="active"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":"#FDC700",minWidth:"50px"},className:"jsx-5f133ba9f9a414f4 text-black text-[10px] leading-[20px] font-semibold px-[10px] py-[2px] text-center rounded-bl-lg rounded-tr-lg",children:e.status?e.status.toUpperCase():"NEW"})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 p-6 pt-8",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-4",children:[(()=>{let t=(e=>{let a=[{bg:"bg-sky-100",text:"text-sky-800"},{bg:"bg-emerald-100",text:"text-emerald-800"},{bg:"bg-violet-100",text:"text-violet-800"}],t=String(e||""),r=0;for(let e=0;e<t.length;e++)r=31*r+t.charCodeAt(e)>>>0;return a[r%a.length]})(e.customerName||e.name);return(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 "+"w-12 h-12 rounded-full flex items-center justify-center text-[12px] font-semibold ".concat(t.bg," ").concat(t.text),children:(e.customerName||e.name||"-").split(" ").map(e=>e[0]).filter(Boolean).join("").slice(0,2).toUpperCase()})})(),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pr-4",children:[(0,a.jsx)("h3",{className:"jsx-5f133ba9f9a414f4 break-words text-[14px] leading-[24px] font-semibold text-[#171A1F]",children:e.customerName||e.name||"-"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words leading-tight",children:e.customerEmail||e.customerPhone||e.contact||"-"})]})]})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex justify-between items-center gap-2",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Requirement"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:e.requirement||e.req?(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold ".concat("sell"===(e.requirement||e.req||"").toLowerCase()?"bg-green-100 text-green-800":"buy"===(e.requirement||e.req||"").toLowerCase()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.requirement||e.req}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-400",children:"—"})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pl-4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Property Type"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:e.propertyType?(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold ".concat("commercial"===(e.propertyType||"").toLowerCase()?"bg-yellow-100 text-yellow-800":"residential"===(e.propertyType||"").toLowerCase()?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.propertyType}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-400",children:"—"})})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex justify-between items-top gap-2",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Budget"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[18px] font-bold text-green-700  py-1 rounded",children:ez(e.budget)})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pl-4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Location"}),(()=>{var t;let{primary:r,secondary:s}={primary:eF((null==(t=e)?void 0:t.primaryRegion)||(null==t?void 0:t.region)),secondary:eF(null==t?void 0:t.secondaryRegion)};return(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[16px] flex flex-col gap-1 font-medium text-[#171A1F]",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:r||"—"}),s&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[16px]  font-medium text-[#171A1F]",children:s})]})})()]})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-end justify-between  pt-4 ",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 uppercase tracking-wide mb-2 text-[12px] leading-[12px] font-normal text-[#565D6D]",children:"SHARED WITH"}),(()=>{let t=Array.isArray(null==e?void 0:e.transfers)?e.transfers:[];if(0===t.length)return(0,a.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[11px] font-normal text-[#565D6D] italic",children:["Not yet shared — ",(0,a.jsx)("span",{onClick:a=>{a.stopPropagation(),af(e)},className:"jsx-5f133ba9f9a414f4 text-green-700 font-semibold cursor-pointer hover:underline",children:"Share now"})]});let r=t.filter(e=>"all"===e.shareType||!e.shareType&&!e.toBroker&&!e.region),s=t.filter(e=>"region"===e.shareType||!e.shareType&&e.region&&!e.toBroker),l=t.filter(e=>"individual"===e.shareType||!e.shareType&&e.toBroker&&!e.region);if(r.length>0)return(0,a.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] flex items-center gap-1",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-blue-100 text-blue-800",children:"All"}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4",children:"All brokers"})]});if(s.length>0&&0===l.length){let e=s.map(e=>{let a=null==e?void 0:e.region;return eF(a)||a||"Unknown Region"}).filter((e,a,t)=>t.indexOf(e)===a);return(0,a.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] flex items-center gap-1 flex-wrap",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-green-100 text-green-800",children:"Region"}),(0,a.jsxs)("span",{className:"jsx-5f133ba9f9a414f4",children:[e.slice(0,2).join(", "),e.length>2?" +".concat(e.length-2):""]})]})}let n=Array.from(new Map(l.map(e=>"object"==typeof(null==e?void 0:e.toBroker)?e.toBroker:{_id:null==e?void 0:e.toBroker}).filter(e=>e&&(e._id||e.name||e.email)).map(e=>[e._id||e.email||e.name,e])).values()),o=new Map((aa||[]).map(e=>[e._id||e.id,e])),i=n.map(e=>{let a=e._id?{...o.get(e._id)||{},...e}:e;return{id:a._id||a.id||a.email||a.name,name:a.name||a.fullName||a.email||"Broker",image:a.brokerImage||a.avatarUrl||a.imageUrl||""}});if(s.length>0&&l.length>0){let e=s.map(e=>{let a=null==e?void 0:e.region;return eF(a)||a||"Unknown"}).filter((e,a,t)=>t.indexOf(e)===a),t=i.slice(0,2),r=Math.max(0,i.length-t.length);return(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-green-100 text-green-800",children:"Region"}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] text-[#565D6D]",children:e.slice(0,1).join(", ")})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex -space-x-2",children:[t.map((e,t)=>(0,a.jsx)("div",{title:e.name,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-gray-200 overflow-hidden flex items-center justify-center text-[10px] text-gray-600",children:(0,a.jsx)("img",{src:e.image||"https://www.w3schools.com/howto/img_avatar.png",alt:e.name,className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})},"".concat(e.id||"broker","-").concat(t))),r>0&&(0,a.jsxs)("div",{title:"+".concat(r," more"),className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-yellow-400 text-black flex items-center justify-center text-[11px] font-semibold",children:["+",r]})]})})]})}if(0===i.length)return(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D]",children:"Not shared"});let d=i.slice(0,2),f=Math.max(0,i.length-d.length);return(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex -space-x-2",children:[d.map((e,t)=>(0,a.jsx)("div",{title:e.name,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-gray-200 overflow-hidden flex items-center justify-center text-[10px] text-gray-600",children:(0,a.jsx)("img",{src:e.image||"https://www.w3schools.com/howto/img_avatar.png",alt:e.name,className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})},"".concat(e.id||"broker","-").concat(t))),f>0&&(0,a.jsxs)("div",{title:"+".concat(f," more"),className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-yellow-400 text-black flex items-center justify-center text-[11px] font-semibold",children:["+",f]})]})})})()]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-4",children:[(0,a.jsxs)("button",{title:"View Details",onClick:()=>{var a;ab(e),ap(!1),aj(!1),aS({name:e.customerName||e.name||"",contact:e.customerPhone||e.contact||"",email:e.customerEmail||"",budget:String(null!=(a=e.budget)?a:""),requirement:e.requirement||e.req||"",propertyType:e.propertyType||"",primaryRegion:e.primaryRegion?{value:e.primaryRegion._id||e.primaryRegion.id||e.primaryRegion,label:e.primaryRegion.name||e.primaryRegion}:e.region?"object"==typeof e.region?{value:e.region._id||e.region.id||e.region,label:e.region.name||e.region}:{value:e.region,label:eF(e.region)||e.region}:null,secondaryRegion:e.secondaryRegion?{value:e.secondaryRegion._id||e.secondaryRegion.id||e.secondaryRegion,label:e.secondaryRegion.name||e.secondaryRegion}:null,status:e.status||"active"}),au(!0)},className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 text-[12px] font-medium text-[#565D6D] hover:text-green-900 transition-colors cursor-pointer",children:[(0,a.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",className:"jsx-5f133ba9f9a414f4"})]}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-medium text-[#565D6D]",children:"View"})]}),(0,a.jsxs)("button",{title:"Transfer Lead",onClick:()=>af(e),className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 text-[12px] font-medium text-[#565D6D] hover:text-blue-800 transition-colors cursor-pointer",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:[(0,a.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2",className:"jsx-5f133ba9f9a414f4"})]}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-medium text-[#565D6D]",children:"Share"})]}),(0,a.jsxs)("button",{title:"Delete Lead",onClick:()=>!m&&ad(e),disabled:m,className:"jsx-5f133ba9f9a414f4 "+"flex items-center gap-1 text-[12px] font-medium transition-colors ".concat(m?"text-gray-300 cursor-not-allowed pointer-events-none":"text-[#565D6D] hover:text-[#565D6D] cursor-pointer"),children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 "+"w-4 h-4 ".concat(m?"text-gray-300":""),children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-5f133ba9f9a414f4"})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"text-[12px] font-medium ".concat(m?"text-gray-300":"text-[#565D6D]"),children:"Delete"})]})]})]})]})]},e._id||e.id||t)})})]}),!ei&&Array.isArray(en)&&en.length>0&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-600",children:["Page ",ex," of ",eh]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>eu(e=>Math.max(1,e-1)),disabled:ex<=1||eh<=1,style:ex<=1||eh<=1?{cursor:"not-allowed"}:{cursor:"pointer"},className:"jsx-5f133ba9f9a414f4 "+"px-3 py-1.5 rounded-lg border border-gray-200 text-sm bg-white ".concat(ex<=1||eh<=1?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer hover:bg-gray-50"),children:"Prev"}),(0,a.jsx)("button",{onClick:()=>eu(e=>Math.min(eh,e+1)),disabled:ex>=eh||eh<=1,style:ex>=eh||eh<=1?{cursor:"not-allowed"}:{cursor:"pointer"},className:"jsx-5f133ba9f9a414f4 "+"px-3 py-1.5 rounded-lg border border-gray-200 text-sm bg-white ".concat(ex>=eh||eh<=1?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer hover:bg-gray-50"),children:"Next"})]})]})]}),(0,a.jsxs)("aside",{className:"jsx-5f133ba9f9a414f4 md:col-span-3 space-y-6 md:sticky md:top-6 self-start",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white  p-4 rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,a.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4  mb-3 flex items-center gap-2 text-[14px] leading-6 font-semibold text-[#171A1F]",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-gray-600 shrink-0 overflow-visible",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{d:"M12 7v5l4 2",className:"jsx-5f133ba9f9a414f4"})]}),"Recent Activity"]}),(0,a.jsx)("ul",{className:"jsx-5f133ba9f9a414f4 text-sm text-slate-900 space-y-3",children:ea?(0,a.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-[12px] text-gray-500",children:[(0,a.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),"Loading..."]})}):er?(0,a.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-red-600",children:er})}):0===Z.length?(0,a.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-500",children:"No recent activity"})}):Z.map((e,t)=>{let r=(null==e?void 0:e.title)||(null==e?void 0:e.message)||(null==e?void 0:e.text)||"Notification",s=(null==e?void 0:e.createdAt)||(null==e?void 0:e.date)||(null==e?void 0:e.timestamp);return(0,a.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7 rounded-full bg-gray-100 text-gray-600 ring-1 ring-gray-200",children:(e=>{let t=((null==e?void 0:e.type)||(null==e?void 0:e.notificationType)||"").toLowerCase(),r=((null==e?void 0:e.title)||(null==e?void 0:e.message)||"").toLowerCase();return t.includes("lead")||r.includes("lead created")||r.includes("new lead")?(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,a.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,a.jsx)("circle",{cx:"10",cy:"7",r:"4"}),(0,a.jsx)("path",{d:"M19 8v6M22 11h-6"})]}):t.includes("email")||r.includes("email")||r.includes("follow-up")?(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,a.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,a.jsx)("path",{d:"M22 7 12 13 2 7"})]}):t.includes("status")||r.includes("status changed")||r.includes("qualified")||r.includes("closed")?(0,a.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M20 6 9 17l-5-5"})}):(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("path",{d:"M12 7v5l4 2"})]})})(e)}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:r}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-5 font-normal text-[#565D6D]",children:(e=>{if(!e)return"";try{let a=new Date(e),t=new Date,r=t-a,s=Math.floor(r/6e4),l=Math.floor(r/36e5),n=Math.floor(r/864e5);if(s<1)return"Just now";if(s<60)return"".concat(s," minute").concat(s>1?"s":""," ago");if(l<24)return"".concat(l," hour").concat(l>1?"s":""," ago");if(1===n)return"Yesterday";if(n<7)return"".concat(n," days ago");return a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:a.getFullYear()!==t.getFullYear()?"numeric":void 0})}catch(e){return""}})(s)})]})]},(null==e?void 0:e._id)||(null==e?void 0:e.id)||t)})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white  p-4 rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-2",children:[(0,a.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-[14px] leading-6 font-semibold text-[#171A1F]",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-gray-600 shrink-0 overflow-visible",children:[(0,a.jsx)("rect",{x:"3",y:"4",width:"18",height:"14",rx:"3",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{d:"M8 18v3l3-3",className:"jsx-5f133ba9f9a414f4"})]}),"FAQ"]}),(0,a.jsx)("a",{href:"/faq",target:"_blank",rel:"noopener noreferrer",className:"jsx-5f133ba9f9a414f4  text-green-950 hover:underline hover:text-green-950 transition-colors text-[12px] leading-5 font-medium ",children:"View all"})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-2 text-[12px",children:[(0,a.jsxs)("details",{open:!0,className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,a.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"What's the fastest way to add a new enquiry?"}),(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-gray-600 border-l-2 border-gray-300",children:"Use the Add Enquiry button, fill name, phone, requirement and region. You can edit details later in Enquiry Details."})]}),(0,a.jsxs)("details",{className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,a.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"How do I update my enquiry status?"}),(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-slate-600 border-l-2 border-gray-300",children:"Open an enquiry, click Edit Status in the drawer header, pick the status and save."})]}),(0,a.jsxs)("details",{className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,a.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"How do I share my enquiry securely?"}),(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,a.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-slate-600 border-l-2 border-gray-300",children:"Use Share/Transfer, choose brokers, add notes and confirm. The transfer history appears in Enquiry Details."})]})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] p-4",children:[(0,a.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 mb-3 text-[12px] leading-6 font-semibold text-[#171A1F]",children:"Help & Support"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] mb-6 leading-relaxed",children:"Need help or looking for more details? Our comprehensive resources and support team are here for you."}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,a.jsxs)(s.default,{href:"/contact",className:"flex items-start gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F] hover:text-[#0D542B] transition-colors",children:"Visit Support Center"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-[#0D542B] transition-colors",children:"Get answers to frequently asked questions."})]})]}),(0,a.jsxs)(s.default,{href:"/help/documentation",className:"flex items-start gap-3 hover:opacity-80 transition-opacity cursor-pointer",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7 text-[#0D542B] shrink-0",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Read Documentation"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D]",children:"Explore our guides and platform tutorials."})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Email Support"}),(0,a.jsx)("a",{href:"mailto:".concat(c.SUPPORT_EMAIL),className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-green-900 transition-colors",children:c.SUPPORT_EMAIL})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,a.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Phone Support"}),(0,a.jsx)("a",{href:"tel:".concat(c.SUPPORT_PHONE.replace(/\s+/g,"")),className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-green-900 transition-colors",children:c.SUPPORT_PHONE})]})]})]})]})]})]})}),g&&(0,a.jsxs)("div",{role:"dialog","aria-modal":"true",className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-[100] flex items-center justify-center",children:[(0,a.jsx)("div",{onClick:()=>p(!1),className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-xl mx-4 bg-white rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Advanced Filters"}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-600 mt-1",children:"Refine your enquiry list using region, requirement, property type, and budget filters."})]}),(0,a.jsx)("button",{onClick:()=>p(!1),"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-6 max-h-[70vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Preferred Regions"}),k?(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-3 border border-gray-200 rounded-lg bg-gray-50",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:[(0,a.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin text-gray-500",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-500",children:"Loading regions..."})]})}):C?(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 bg-rose-50 border border-rose-200 rounded-lg p-3 text-sm text-rose-700",children:C}):(0,a.jsx)(i.default,{value:y.region,onChange:e=>v({...y,region:e}),options:eP,placeholder:"Select Region (optional)",styles:{...eq,menuPortal:e=>({...e,zIndex:99999}),menu:e=>({...e,zIndex:99999})},menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",isSearchable:!0})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Requirement Type"}),(0,a.jsx)(i.default,{value:y.requirement,onChange:e=>v({...y,requirement:e}),options:eD,placeholder:"Buy / Sell / Rent",styles:{...eq,menuPortal:e=>({...e,zIndex:99999}),menu:e=>({...e,zIndex:99999})},menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",isSearchable:!0})," "]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Property Category"}),(0,a.jsx)(i.default,{value:y.propertyType,onChange:e=>v({...y,propertyType:e}),options:eM,placeholder:"Commercial / Residential / Plot",styles:{...eq,menuPortal:e=>({...e,zIndex:99999}),menu:e=>({...e,zIndex:99999})},menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto",isSearchable:!0})," "]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-4",children:["Max Budget:"," ",(0,a.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-green-900 font-semibold",children:["$",y.budgetMax.toLocaleString()]})]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1000000",step:"10000",value:y.budgetMax,onChange:e=>v({...y,budgetMax:Number(e.target.value)}),className:"jsx-5f133ba9f9a414f4 w-full accent-green-900"})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[q&&(0,a.jsx)("button",{onClick:E,disabled:D,className:"jsx-5f133ba9f9a414f4 px-4 py-2.5 rounded-xl border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear Filters"}),(0,a.jsxs)("button",{onClick:async()=>{P(!0),eu(1),await eB(y,1,em,ej),P(!1),p(!1)},disabled:D,className:"jsx-5f133ba9f9a414f4 px-3 py-2.5 rounded-xl text-sm font-semibold text-white bg-green-900 hover:bg-green-950 shadow-sm cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2",children:[D&&(0,a.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),D?"Applying...":"Apply Filters"]})]})]})]}),eI&&(0,a.jsxs)("div",{role:"dialog","aria-modal":"true",className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-[100] flex items-center justify-center",children:[(0,a.jsx)("div",{onClick:()=>{eW(!1),eJ({})},className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-xl mx-4 bg-white rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,a.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Add New Enquiry"}),(0,a.jsx)("button",{onClick:()=>{eW(!1),eJ({})},"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-5 max-h-[70vh] overflow-auto",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Customer Name"}),(0,a.jsx)("input",{name:"customerName",value:eO.customerName,onChange:e$,type:"text",placeholder:"Enter customer's full name",className:"jsx-5f133ba9f9a414f4 "+"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ".concat(eY.customerName?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600")}),eY.customerName&&(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-1 text-xs text-red-600",children:eY.customerName})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Contact Phone"}),(0,a.jsx)("input",{name:"customerPhone",value:eO.customerPhone,onChange:e$,type:"tel",placeholder:"Enter 10-digit phone number",maxLength:"10",className:"jsx-5f133ba9f9a414f4 "+"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ".concat(eY.customerPhone?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600")}),eY.customerPhone&&(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-1 text-xs text-red-600",children:eY.customerPhone})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Contact Email"}),(0,a.jsx)("input",{name:"customerEmail",value:eO.customerEmail,onChange:e$,type:"email",placeholder:"e.g., john.doe@example.com",className:"jsx-5f133ba9f9a414f4 "+"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ".concat(eY.customerEmail?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600")}),eY.customerEmail&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-1",children:[(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-xs text-red-600",children:eY.customerEmail}),(0,a.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-xs text-gray-500",children:"eg. john@example.com"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Requirement"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-wrap gap-2",children:eD.filter(e=>"all"!==e.value).map(e=>{let t=(eO.requirement&&(eO.requirement.value||eO.requirement))===e.value;return(0,a.jsx)("button",{type:"button","aria-pressed":t,onClick:()=>eV({...eO,requirement:e}),className:"jsx-5f133ba9f9a414f4 "+"px-3.5 py-1.5 rounded-full text-[12px] font-semibold border transition-colors transition-shadow duration-150 ".concat(t?"bg-green-50 text-green-900 border-green-200 ring-1 ring-green-100 shadow-sm":"bg-white text-slate-700 border-gray-200 hover:border-gray-300 hover:bg-slate-50"),children:e.label},e.value)})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Property Type"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-wrap gap-2",children:eM.filter(e=>"all"!==e.value).map(e=>{let t=(eO.propertyType&&(eO.propertyType.value||eO.propertyType))===e.value;return(0,a.jsx)("button",{type:"button","aria-pressed":t,onClick:()=>eV({...eO,propertyType:e}),className:"jsx-5f133ba9f9a414f4 "+"px-3.5 py-1.5 rounded-full text-[12px] font-semibold border transition-colors transition-shadow duration-150 ".concat(t?"bg-green-50 text-green-900 border-green-200 ring-1 ring-green-100 shadow-sm":"bg-white text-slate-700 border-gray-200 hover:border-gray-300 hover:bg-slate-50"),children:e.label},e.value)})})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Budget"}),(()=>{let e={residential:{min:5e3,max:1e8,step:5e3},commercial:{min:1e4,max:5e8,step:1e4},plot:{min:5e4,max:25e7,step:5e4},other:{min:1e3,max:5e7,step:1e3}}[String("object"==typeof eO.propertyType?eO.propertyType.value||eO.propertyType.label||"":eO.propertyType||"").toLowerCase()]||{min:0,max:1e7,step:5e3},t=e.min,r=e.max,s=e.step,l=Number(eO.budget||0),n=isNaN(l)?t:Math.min(r,Math.max(t,l)),o=(n-t)/(r-t)*100,i=n>t?Math.max(2,o):0;return(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 space-y-2",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative",children:[(0,a.jsx)("input",{type:"range",min:t,max:r,step:s,value:n,onChange:e=>eV({...eO,budget:Number(e.target.value)}),style:{background:"linear-gradient(to right, #14532d 0%, #14532d ".concat(i,"%, #e5e7eb ").concat(i,"%, #e5e7eb 100%)")},className:"jsx-5f133ba9f9a414f4 w-full h-2 rounded-full appearance-none focus:outline-none accent-green-900"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 absolute -top-6 right-0 flex items-center border border-green-200 rounded-full bg-green-50 px-2 py-0.5",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[11px] font-semibold text-green-900 mr-1",children:"₹"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:String(n),onChange:e=>{let a=Number((e.target.value||"").replace(/[^0-9]/g,"")),s=isNaN(a)?0:Math.min(r,Math.max(t,a));eV({...eO,budget:s})},style:{width:"calc(".concat(Math.max(3,String(n).length),"ch + 0.15rem)")},className:"jsx-5f133ba9f9a414f4 w-[2ch] text-[11px] font-semibold text-green-900 bg-transparent text-right focus:outline-none font-mono tabular-nums"})]})]})})})()]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Primary Region *"}),(0,a.jsx)(i.default,{value:eO.primaryRegion,onChange:e=>eV({...eO,primaryRegion:e}),options:eP,styles:eK,isSearchable:!0,isLoading:T,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})," "]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Optional Region"}),(0,a.jsx)(i.default,{value:eO.secondaryRegion,onChange:e=>eV({...eO,secondaryRegion:e}),options:eP,styles:eK,isSearchable:!0,isLoading:T,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})," "]})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>{eW(!1),eJ({})},disabled:eU,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,a.jsxs)("button",{onClick:eQ,disabled:eU,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-green-900 hover:bg-green-950 cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2",children:[eU&&(0,a.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),eU?"Adding Lead...":"Add Lead"]})]})]})]}),eZ&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{onClick:()=>e0(!1),className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-md mx-4 bg-white rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,a.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Share Lead"}),(0,a.jsx)("button",{onClick:()=>e0(!1),className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500 cursor-pointer",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-5",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,a.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,a.jsx)("input",{type:"radio",name:"transferMode",checked:"all"===e5,onChange:()=>e2("all"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with all brokers"})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:(0,a.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,a.jsx)("input",{type:"radio",name:"transferMode",checked:"region"===e5,onChange:()=>e2("region"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with brokers of a region"})]})}),(0,a.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,a.jsx)("input",{type:"radio",name:"transferMode",checked:"select"===e5,onChange:()=>e2("select"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with selected brokers"})]})]}),"region"===e5&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Select Region"}),(0,a.jsx)(i.default,{value:e6,onChange:e=>e7(e),options:eP.filter(e=>"all"!==e.value),styles:eq,isSearchable:!0,placeholder:"Select region",menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})]}),"select"===e5&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Select Broker(s)"}),(0,a.jsx)(i.default,{value:e1.brokerIds.filter(e=>(aa||[]).some(a=>(a._id||a.id)===e&&(a._id||a.id)!==I)).map(e=>{let a=(aa||[]).find(a=>(a._id||a.id)===e),t="";return(null==a?void 0:a.region)&&Array.isArray(a.region)&&a.region.length>0?t=a.region[0].name||"Unknown":(null==a?void 0:a.region)&&"object"==typeof a.region&&!Array.isArray(a.region)?t=a.region.name||a.region.region||"Unknown":"string"==typeof(null==a?void 0:a.region)&&(t=a.region),{value:e,label:"".concat((null==a?void 0:a.name)||(null==a?void 0:a.fullName)||(null==a?void 0:a.email)||e).concat(t?" (".concat(t,")"):"")}}),onChange:(e,a)=>{let t=(e||[]).map(e=>e.value);e4(e=>({...e,brokerIds:t}))},options:(aa||[]).filter(e=>(e._id||e.id)&&(e._id||e.id)!==I).map(e=>{let a="";return e.region&&Array.isArray(e.region)&&e.region.length>0?a=e.region[0].name||"Unknown":e.region&&"object"==typeof e.region&&!Array.isArray(e.region)?a=e.region.name||e.region.region||"Unknown":"string"==typeof e.region&&(a=e.region),{value:e._id||e.id,label:"".concat(e.name||e.fullName||e.email||"Unnamed").concat(a?" (".concat(a,")"):"")}}),styles:{...eq,menuList:e=>({...eq.menuList(e),maxHeight:150})},components:{MenuList:e=>{let{children:t}=e,r=!!e1.selectAllFiltered,s=null==e?void 0:e.children,l=e=>Array.isArray(e)?e:e?[e]:[],n=l(s).flatMap(e=>{var a,t,r;let s=null==e||null==(t=e.props)||null==(a=t.data)?void 0:a.value;return s?[s]:l(null==e||null==(r=e.props)?void 0:r.children).map(e=>{var a,t;return null==e||null==(t=e.props)||null==(a=t.data)?void 0:a.value}).filter(Boolean)}).filter(Boolean);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-gray-50",children:[(0,a.jsx)("span",{className:"text-xs text-slate-600",children:"Filtered brokers"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-600 cursor-pointer select-none",children:[(0,a.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 cursor-pointer",checked:r,onChange:e=>{let a=e.target.checked;e4(e=>({...e,selectAllFiltered:a,brokerIds:a?Array.from(new Set([...e.brokerIds||[],...n])):(e.brokerIds||[]).filter(e=>!n.includes(e))}));try{let e=document.querySelector('[id^="react-select"][id$="-input"]');null==e||e.focus()}catch(e){}a&&setTimeout(()=>e4(e=>({...e,selectAllFiltered:!1})),0)}}),"Select all"]})]}),(0,a.jsx)(d.c.MenuList,{...e,children:t})]})}},onInputChange:(e,a)=>{let{action:t}=a;return"input-change"===t&&e1.selectAllFiltered,e9(e||""),e},isMulti:!0,isSearchable:!0,closeMenuOnSelect:!1,hideSelectedOptions:!0,placeholder:ar?"Loading brokers...":al||"Choose brokers...",isLoading:ar,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Share Notes (Optional)"}),(0,a.jsx)("textarea",{rows:3,value:e1.notes,onChange:e=>e4({...e1,notes:e.target.value}),placeholder:"Add any specific instructions or context...",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-600 text-sm bg-white"})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>e0(!1),disabled:e8,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer",children:"Cancel"}),(0,a.jsxs)("button",{onClick:ac,disabled:e8,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-green-900 hover:bg-green-950 cursor-pointer disabled:opacity-60 flex items-center gap-2",children:[e8&&(0,a.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,a.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),e8?"Sending...":"Share with broker"]})]})]})]}),ax&&am&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 "+"fixed inset-0 z-[110] ".concat(ah?"pointer-events-none":""),children:[(0,a.jsx)("div",{onClick:()=>{aj(!0),setTimeout(()=>au(!1),200)},className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/50"}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 "+"absolute right-0 top-0 h-full w-full max-w-md bg-slate-50 shadow-2xl ".concat(ah?"animate-slide-out":"animate-slide-in"),children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-5 py-4 border-b border-gray-200 bg-white",children:[(0,a.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-green-900",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",className:"jsx-5f133ba9f9a414f4"})}),"Enquiry Details"]}),(0,a.jsx)("button",{onClick:()=>{aj(!0),setTimeout(()=>au(!1),200)},"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded hover:bg-gray-100",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 h-[calc(100%-56px)] overflow-y-auto no-scrollbar p-5",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 bg-white rounded-2xl border border-gray-200 shadow-sm p-4",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-12 h-12 rounded-full overflow-hidden ring-2 ring-white bg-green-50 text-green-900 flex items-center justify-center text-sm font-semibold",children:(e=>{if(!e||"string"!=typeof e)return"?";let[a="",t=""]=e.trim().split(/\s+/);return(a[0]||""+t[0]||"").toUpperCase()})(am.name||am.customerName||"?")}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 min-w-0",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[16px] font-semibold text-slate-900 truncate",children:am.name||am.customerName||"—"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-slate-500 mt-0.5",children:am.contact||am.customerPhone||"—"})]}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ".concat(eL(am.status||"Closed")),children:am.status||"Closed"})]})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-4 bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 px-3 pt-3",children:(()=>{let e=e=>{let{active:t,children:r,onClick:s}=e;return(0,a.jsx)("button",{onClick:s,className:"jsx-5f133ba9f9a414f4 "+"px-3 py-1.5 rounded-lg text-sm font-semibold ".concat(t?"bg-slate-900 text-white":"text-slate-600 hover:bg-slate-100"),children:r})};return(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex gap-2",children:[(0,a.jsx)(e,{active:"overview"===ew,onClick:()=>ek("overview"),className:"jsx-5f133ba9f9a414f4",children:"Overview"}),(0,a.jsx)(e,{active:"share"===ew,onClick:()=>ek("share"),className:"jsx-5f133ba9f9a414f4",children:"Share"})]})})()}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 p-4",children:[(!ew||"overview"===ew)&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-4",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-3",children:(0,a.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[14px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-5f133ba9f9a414f4"})}),"Contact Details"]})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[12px]",children:[((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===I||(null==am?void 0:am.brokerId)&&(String(am.brokerId),String(I)),null),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-sky-50",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"jsx-5f133ba9f9a414f4 w-3.5 h-3.5 text-gray-500",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h6l2 5-2 1a10 10 0 005 5l1-2 5 2v6a2 2 0 01-2 2A16 16 0 013 7z",className:"jsx-5f133ba9f9a414f4"})})}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)("input",{type:"tel",name:"contact",value:null!=(e=ak.contact)?e:am.contact||am.customerPhone||"",onChange:aP,placeholder:"Phone number",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):am.contact||am.customerPhone||"—"]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"jsx-5f133ba9f9a414f4 w-3.5 h-3.5 text-gray-500",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-5f133ba9f9a414f4"})})}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)("input",{type:"email",name:"email",value:null!=(x=ak.email)?x:am.customerEmail||"",onChange:aP,placeholder:"Email address",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):am.customerEmail||"—"]})]})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-3",children:(0,a.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[14px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 8h10M7 12h7M5 20l2.5-2.5M19 20l-2.5-2.5",className:"jsx-5f133ba9f9a414f4"})}),"Property Preferences"]})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[12px]",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Property Type:"}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)(i.default,{name:"propertyType",options:(()=>{var e,a;let t=eM.filter(e=>"all"!==e.value),r=null!=(a=null!=(e=ak.propertyType)?e:am.propertyType)?a:"";return t.some(e=>e.value===r)?t:[...t,{value:r,label:r}]})(),value:(()=>{var e,a;let t=null!=(a=null!=(e=ak.propertyType)?e:am.propertyType)?a:"";return(()=>{let e=eM.filter(e=>"all"!==e.value);return e.some(e=>e.value===t)?e:[...e,{value:t,label:t}]})().find(e=>e.value===t)||null})(),onChange:e=>aS(a=>({...a,propertyType:(null==e?void 0:e.value)||""})),classNamePrefix:"react-select",styles:eG,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:am.propertyType||"—"})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Budget:"}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)("input",{type:"number",name:"budget",value:null!=(m=null!=(u=ak.budget)?u:am.budget)?m:"",onChange:aP,placeholder:"Budget",className:"jsx-5f133ba9f9a414f4 flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:ez(am.budget)})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",className:"jsx-5f133ba9f9a414f4"})})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Requirement:"}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)(i.default,{name:"requirement",options:(()=>{var e,a,t;let r=eD.filter(e=>"all"!==e.value),s=null!=(t=null!=(a=null!=(e=ak.requirement)?e:am.requirement)?a:am.req)?t:"";return r.some(e=>e.value===s)?r:[...r,{value:s,label:s}]})(),value:(()=>{var e,a,t;let r=null!=(t=null!=(a=null!=(e=ak.requirement)?e:am.requirement)?a:am.req)?t:"";return(()=>{let e=eD.filter(e=>"all"!==e.value);return e.some(e=>e.value===r)?e:[...e,{value:r,label:r}]})().find(e=>e.value===r)||null})(),onChange:e=>aS(a=>({...a,requirement:(null==e?void 0:e.value)||""})),classNamePrefix:"react-select",styles:eG,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"auto"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:am.requirement||am.req||"—"})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Primary Region:"}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)(i.default,{name:"primaryRegion",options:eP,value:ak.primaryRegion||null,onChange:e=>aS(a=>({...a,primaryRegion:e})),classNamePrefix:"react-select",styles:eG,menuPlacement:"auto",menuPortalTarget:document.body,menuPosition:"fixed"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:eF((null==am?void 0:am.primaryRegion)||(null==am?void 0:am.region))||"—"})]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,a.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-5f133ba9f9a414f4"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Secondary Region:"}),ag&&((null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W))?(0,a.jsx)(i.default,{name:"secondaryRegion",options:eP,value:ak.secondaryRegion||null,onChange:e=>aS(a=>({...a,secondaryRegion:e})),classNamePrefix:"react-select",styles:eG,menuPlacement:"auto",menuPortalTarget:document.body,menuPosition:"fixed"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:eF(null==am?void 0:am.secondaryRegion)||"—"})]})]})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[13px] text-slate-500",children:"Status"}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5",children:ag?(0,a.jsx)(i.default,{name:"status",options:e_.filter(e=>"all"!==e.value),value:(()=>{var e,a;let t=null!=(a=null!=(e=ak.status)?e:am.status)?a:"New";return e_.find(e=>e.value===t)||null})(),onChange:e=>aS(a=>({...a,status:(null==e?void 0:e.value)||"New"})),classNamePrefix:"react-select",styles:eG,menuPlacement:"auto",menuPortalTarget:document.body,menuPosition:"fixed"}):(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 "+"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ".concat(eL(am.status||"Closed")),children:am.status||"Closed"})})]}),(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:ag?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:aD,className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-white bg-green-900 hover:bg-green-950",children:"Save"}),(0,a.jsx)("button",{onClick:()=>ap(!1),className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-slate-700 bg-gray-100 hover:bg-gray-200 border border-gray-200",children:"Cancel"})]}):(0,a.jsx)("button",{onClick:()=>{let e=(null==am?void 0:am.primaryRegion)&&(am.primaryRegion._id||am.primaryRegion.id||am.primaryRegion.value)||(null==am?void 0:am.region)||null,a=(null==am?void 0:am.primaryRegion)&&(am.primaryRegion.name||am.primaryRegion.label)||eF((null==am?void 0:am.primaryRegion)||(null==am?void 0:am.region))||"",t=(null==am?void 0:am.secondaryRegion)&&(am.secondaryRegion._id||am.secondaryRegion.id||am.secondaryRegion.value),r=(null==am?void 0:am.secondaryRegion)&&(am.secondaryRegion.name||am.secondaryRegion.label);aS({name:am.name||am.customerName||"",contact:am.contact||am.customerPhone||"",email:am.customerEmail||"",requirement:am.requirement||am.req||"",propertyType:am.propertyType||"",budget:"number"==typeof am.budget?am.budget:am.budget||"",status:am.status||"Closed",primaryRegion:e?{value:e,label:a}:null,secondaryRegion:t?{value:t,label:r||""}:null}),ap(!0)},className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-white bg-green-900 hover:bg-green-950",children:(null==am?void 0:am.createdBy)&&(am.createdBy._id||am.createdBy.id)===W||(null==am?void 0:am.brokerId)&&String(am.brokerId)===String(W)?"Edit":"Edit Status"})})]})})]}),"share"===ew&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[14px]",children:(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 rounded-xl p-4 shadow-sm bg-white",children:[(0,a.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[16px] font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 8h10M7 12h7M5 20l2.5-2.5M19 20l-2.5-2.5",className:"jsx-5f133ba9f9a414f4"})}),"Share History"]}),(()=>{let e=Array.isArray(null==am?void 0:am.transfers)?am.transfers:[];if(!e.length)return(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[14px] text-slate-500",children:"Not shared yet."});let t=new Map((aa||[]).map(e=>[e._id||e.id,e])),r=e.filter(e=>"all"===e.shareType||!e.shareType&&!e.toBroker&&!e.region),s=e.filter(e=>"region"===e.shareType||!e.shareType&&e.region&&!e.toBroker),l=e.filter(e=>"individual"===e.shareType||!e.shareType&&e.toBroker&&!e.region);return(0,a.jsxs)("ul",{className:"jsx-5f133ba9f9a414f4 text-[14px] text-slate-700 space-y-3",children:[r.map((e,r)=>{var s;let l=e&&"object"==typeof e.fromBroker&&null!==e.fromBroker?e.fromBroker:t.get(null==e?void 0:e.fromBroker)||{},n=l&&l.name||l&&l.fullName||l&&l.email||l&&l._id||(null==e?void 0:e.fromBroker)||"Unknown broker";l&&l.brokerImage||l&&l.avatarUrl||l&&l.imageUrl;let o=(null==e?void 0:e.createdAt)?new Date(e.createdAt).toLocaleString():"",i=("object"==typeof(null==e?void 0:e.fromBroker)?null==e||null==(s=e.fromBroker)?void 0:s._id:null==e?void 0:e.fromBroker)||"all-from-".concat(r);return(0,a.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-blue-100 overflow-hidden ring-2 ring-white flex items-center justify-center text-[10px] text-blue-800 font-semibold",children:"All"})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:[n," → All Brokers"]}),o&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",o]})]})]},"all-".concat(i,"-").concat((null==e?void 0:e._id)||r))}),s.map((e,r)=>{var s,l,n;let o=e&&"object"==typeof e.fromBroker&&null!==e.fromBroker?e.fromBroker:t.get(null==e?void 0:e.fromBroker)||{},i=o&&o.name||o&&o.fullName||o&&o.email||o&&o._id||(null==e?void 0:e.fromBroker)||"Unknown broker";o&&o.brokerImage||o&&o.avatarUrl||o&&o.imageUrl;let d=null==e?void 0:e.region,f=eF(d)||d||"Unknown Region",c=(null==e?void 0:e.createdAt)?new Date(e.createdAt).toLocaleString():"",x=("object"==typeof(null==e?void 0:e.fromBroker)?null==e||null==(s=e.fromBroker)?void 0:s._id:null==e?void 0:e.fromBroker)||"region-from-".concat(r),u=e&&"object"==typeof e.fromBroker?(null==(l=e.fromBroker)?void 0:l._id)||(null==(n=e.fromBroker)?void 0:n.id):null==e?void 0:e.fromBroker,m=aT===d,b=W&&u&&String(u)===String(W);return(0,a.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 pt-0.5",children:(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-green-100 overflow-hidden ring-2 ring-white flex items-center justify-center text-[10px] text-green-800 font-semibold",children:"R"})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:[i," → ",f]}),c&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",c]}),b&&(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 mt-2",children:(0,a.jsx)("button",{type:"button",disabled:m,onClick:async()=>{d&&await aM(d)},title:"Delete transfer",className:"jsx-5f133ba9f9a414f4 "+"inline-flex items-center px-2 py-1 text-[12px] rounded border ".concat(m?"border-gray-200 text-gray-400":"border-rose-200 text-rose-700 hover:bg-rose-50"," disabled:opacity-50 disabled:cursor-not-allowed"),children:m?"Removing…":"Delete"})})]})]},"region-".concat(x,"-").concat(d||r))}),l.map((e,r)=>{var s,l,n,o,i,d;let f=e&&"object"==typeof e.toBroker&&null!==e.toBroker?e.toBroker:t.get(null==e?void 0:e.toBroker)||{},c=e&&"object"==typeof e.fromBroker&&null!==e.fromBroker?e.fromBroker:t.get(null==e?void 0:e.fromBroker)||{},x=f&&f.name||f&&f.fullName||f&&f.email||f&&f._id||(null==e?void 0:e.toBroker)||"Unknown broker",u=c&&c.name||c&&c.fullName||c&&c.email||c&&c._id||(null==e?void 0:e.fromBroker)||"Unknown broker",m=f&&f.brokerImage||f&&f.avatarUrl||f&&f.imageUrl||"";c&&c.brokerImage||c&&c.avatarUrl||c&&c.imageUrl;let b=(null==e?void 0:e.createdAt)?new Date(e.createdAt).toLocaleString():"",g=("object"==typeof(null==e?void 0:e.fromBroker)?null==e||null==(s=e.fromBroker)?void 0:s._id:null==e?void 0:e.fromBroker)||"from",p=("object"==typeof(null==e?void 0:e.toBroker)?null==e||null==(l=e.toBroker)?void 0:l._id:null==e?void 0:e.toBroker)||"to",h=eF(null==c?void 0:c.region)||eF(null==c?void 0:c.primaryRegion)||"",j=eF(null==f?void 0:f.region)||eF(null==f?void 0:f.primaryRegion)||"",y=e&&"object"==typeof e.toBroker?(null==(n=e.toBroker)?void 0:n._id)||(null==(o=e.toBroker)?void 0:o.id):null==e?void 0:e.toBroker,v=e&&"object"==typeof e.fromBroker?(null==(i=e.fromBroker)?void 0:i._id)||(null==(d=e.fromBroker)?void 0:d.id):null==e?void 0:e.fromBroker,N=aB===String(y),w=W&&v&&String(v)===String(W);return(0,a.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,a.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,a.jsx)("div",{title:"string"==typeof x?x:String(x),className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-gray-200 overflow-hidden ring-2 ring-white flex items-center justify-center text-[12px] text-gray-700",children:(0,a.jsx)("img",{src:m||"https://www.w3schools.com/howto/img_avatar.png",alt:"string"==typeof x?x:"Broker",className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})})}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:["string"==typeof u?u:String(u),(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mx-1 text-slate-400",children:"→"}),"string"==typeof x?x:String(x)]}),(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-slate-500 truncate",children:[h||"—"," ",(0,a.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mx-1 text-slate-400",children:"→"})," ",j||"—"]}),b&&(0,a.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",b]})]}),w&&(0,a.jsx)("button",{type:"button",disabled:N,onClick:async()=>{y&&(aL(String(y)),await a_(y))},title:"Delete transfer",className:"jsx-5f133ba9f9a414f4 "+"ml-2 inline-flex items-center px-2 py-1 text-[12px] rounded border ".concat(N?"border-gray-200 text-gray-400":"border-rose-200 text-rose-700 hover:bg-rose-50"),children:N?"Removing…":"Delete"})]},"".concat(g,"-").concat(p,"-").concat((null==e?void 0:e._id)||r))})]})})()]})})]})]})]})]})]})]}),(0,a.jsx)(t.default,{id:"5f133ba9f9a414f4",children:".no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}@keyframes slideInFromRight{0%{opacity:.6;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.animate-slide-in{animation:.25s ease-out both slideInFromRight}@keyframes slideOutToRight{0%{opacity:1;transform:translate(0)}to{opacity:.4;transform:translate(100%)}}.animate-slide-out{animation:.2s ease-in both slideOutToRight}"})]})}function u(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(f.default,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}),children:(0,a.jsx)(x,{})})}}]);