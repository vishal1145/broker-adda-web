(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6696,e=>{"use strict";e.s(["default",()=>o]);var s=e.i(43476),r=e.i(71645),a=e.i(58360);e.i(12124);var t=e.i(88773);e.i(50151);var l=e.i(5766);let o=()=>{let[e,o]=(0,r.useState)({name:"",email:"",phone:"",regions:[],address:"",city:"",state:"",pincode:"",budgetMin:"",budgetMax:"",propertyType:[],savedSearches:[],inquiryCount:0}),[n,i]=(0,r.useState)("Profile"),[d,c]=(0,r.useState)({type:"",budgetMax:""}),[u,g]=(0,r.useState)([]),[m,p]=(0,r.useState)(!0),[x,h]=(0,r.useState)(!1),[f,b]=(0,r.useState)({}),[y,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[I,M]=(0,r.useState)(new Set),[P,T]=(0,r.useState)(!1),D=["apartment","commercial","plot","villa","house"];(0,r.useEffect)(()=>{console.log("Customer - FormData updated:",e)},[e]),(0,r.useEffect)(()=>{(()=>{try{let s=localStorage.getItem("token")||localStorage.getItem("authToken");if(s){let r=JSON.parse(atob(s.split(".")[1]));r.phone&&!e.phone&&(console.log("Customer - Setting phone from token:",r.phone),o(e=>({...e,phone:r.phone})))}}catch(e){console.error("Customer - Error loading phone from token:",e)}})()},[]),(0,r.useEffect)(()=>{let e=async()=>{try{T(!0);let j=localStorage.getItem("token")||localStorage.getItem("authToken");if(console.log("Customer - Token from localStorage:",j),!j){console.log("Customer - No token found in localStorage"),T(!1);return}let v=JSON.parse(atob(j.split(".")[1]));console.log("Customer - Decoded token payload:",v);let N=Math.floor(Date.now()/1e3);if(v.exp<N){console.log("Customer - Token expired, clearing localStorage"),localStorage.removeItem("token"),localStorage.removeItem("authToken"),T(!1);return}let w=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/auth/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(j),"Content-Type":"application/json"}});if(w.ok){var e,s,r,a,t,l,n,i,d,c,u,g,m,p,x,h,b,y;let j=await w.json();if(console.log("Loaded customer data:",j),console.log("Full API response structure:",JSON.stringify(j,null,2)),console.log("Inquiry count from API:",null==(s=j.data)||null==(e=s.customerDetails)?void 0:e.inquiryCount),console.log("Customer details:",null==(r=j.data)?void 0:r.customerDetails),j.data){console.log("API Response structure:",j.data),console.log("User data:",j.data.user),console.log("Additional details:",j.data.additionalDetails);let e=((null==(t=j.data.additionalDetails)||null==(a=t.preferences)?void 0:a.region)||[]).map(e=>Object.keys(f).find(s=>f[s]===e)||("string"==typeof e?e:"")).filter(e=>""!==e),s=((null==(n=j.data.additionalDetails)||null==(l=n.preferences)?void 0:l.propertyType)||[]).map(e=>"residential"===e?"house":e).filter(e=>D.includes(e)),r=(null==(i=j.data.additionalDetails)?void 0:i.inquiryCount)||j.data.inquiryCount||j.inquiryCount||0;console.log("Full API response for debugging:",JSON.stringify(j,null,2));let v=(null==(d=j.data.images)?void 0:d.customerImage)||(null==(c=j.data.user)?void 0:c.profileImage)||(null==(u=j.data.customerDetails)?void 0:u.profileImage)||j.data.profileImage||(null==(g=j.data.additionalDetails)?void 0:g.profileImage);if(console.log("Found customerImageUrl:",v),console.log("Checking specific locations:"),console.log("user.profileImage:",null==(m=j.data.user)?void 0:m.profileImage),console.log("customerDetails.profileImage:",null==(p=j.data.customerDetails)?void 0:p.profileImage),console.log("data.profileImage:",j.data.profileImage),console.log("images.customerImage:",null==(x=j.data.images)?void 0:x.customerImage),console.log("additionalDetails.profileImage:",null==(h=j.data.additionalDetails)?void 0:h.profileImage),v&&v.startsWith("/opt/lampp/htdocs/")){let e=v.split("/").pop();v="https://broker-adda-be.algofolks.com/uploads/".concat(e),console.log("Converted from local path to:",v)}else v&&v.startsWith("/uploads/")?(v="https://broker-adda-be.algofolks.com".concat(v),console.log("Converted from relative path to:",v)):v?console.log("Using original URL:",v):console.log("No customer image found in API response");console.log("Setting inquiry count to:",r),console.log("Tried locations:",{"additionalDetails.inquiryCount":null==(b=j.data.additionalDetails)?void 0:b.inquiryCount,"data.inquiryCount":j.data.inquiryCount,"root.inquiryCount":j.inquiryCount}),o(a=>{var t,l,o,n,i,d,c,u,g,m,p,x;console.log("Customer - Before API update - Current phone:",a.phone),console.log("Customer - API user data:",j.data.user);let h=a.phone||(null==(t=j.data.user)?void 0:t.phone)||"";return console.log("Customer - Setting phone to:",h),{...a,name:(null==(l=j.data.user)?void 0:l.name)||"",email:(null==(o=j.data.user)?void 0:o.email)||"",phone:h,address:(null==(n=j.data.user)?void 0:n.address)||"",city:(null==(i=j.data.user)?void 0:i.city)||"",state:(null==(d=j.data.user)?void 0:d.state)||"",pincode:(null==(c=j.data.user)?void 0:c.pincode)||"",budgetMin:(null==(g=j.data.additionalDetails)||null==(u=g.preferences)?void 0:u.budgetMin)||"",budgetMax:(null==(p=j.data.additionalDetails)||null==(m=p.preferences)?void 0:m.budgetMax)||"",propertyType:s,savedSearches:(null==(x=j.data.additionalDetails)?void 0:x.savedSearches)||[],inquiryCount:r,regions:e}}),v?(console.log("Original image path:",null==(y=j.data.images)?void 0:y.customerImage),console.log("Converted customer image URL:",v),S(v)):(console.log("No customer image found in any location"),console.log("All available fields in data:",Object.keys(j.data||{})),j.data.images&&console.log("All fields in images:",Object.keys(j.data.images)))}}}catch(e){console.error("Error loading customer data:",e)}finally{T(!1)}};Object.keys(f).length>0&&e()},[f]),(0,r.useEffect)(()=>{(async()=>{try{p(!0);let s=await fetch("".concat("https://broker-adda-be.algofolks.com/api","/regions"),{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){var e;let r=await s.json(),a=(null==r||null==(e=r.data)?void 0:e.regions)||[],t=a.map(e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&(e.name||e.region)||"").filter(e=>""!==e),l={};a.forEach(e=>{"object"==typeof e&&null!==e&&e._id&&e.name&&(l[e.name]=e._id)}),b(l),g(t)}else console.error("Failed to fetch regions:",s.statusText)}catch(e){console.error("Error fetching regions:",e)}finally{p(!1)}})()},[]),(0,r.useEffect)(()=>{let e=e=>{y&&!e.target.closest(".region-dropdown")&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[y]);let L=e=>{let{name:s,value:r}=e.target;o(e=>({...e,[s]:r}))},E=e=>{let{name:s,files:r}=e.target;"customerImage"===s&&S(r[0])},q=e=>{let{value:s,checked:r}=e.target;o(e=>({...e,preferences:r?[...e.preferences,s]:e.preferences.filter(e=>e!==s)}))},B=e=>{o(s=>{let r=s.propertyType.includes(e);return{...s,propertyType:r?s.propertyType.filter(s=>s!==e):[...s.propertyType,e]}})},A=e=>{let{name:s,value:r}=e.target;c(e=>({...e,[s]:r}))},R=e=>{e.preventDefault(),d.type&&d.budgetMax&&(o(e=>({...e,savedSearches:[...e.savedSearches,{type:d.type,budgetMax:Number(d.budgetMax)}]})),c({type:"",budgetMax:""}))},O=e=>{M(s=>{let r=new Set(s);return r.has(e)?r.delete(e):r.add(e),r})},F=async s=>{s.preventDefault(),h(!0);try{let s=localStorage.getItem("token")||localStorage.getItem("authToken");if(!s){l.default.error("No authentication token found. Please login again."),h(!1);return}try{let e=JSON.parse(atob(s.split(".")[1])),r=Math.floor(Date.now()/1e3);if(e.exp<r){l.default.error("Your session has expired. Please login again."),h(!1);return}}catch(e){l.default.error("Invalid authentication token. Please login again."),h(!1);return}let r=e.regions.map(e=>"string"==typeof e&&24===e.length&&/^[0-9a-fA-F]{24}$/.test(e)?e:f[e]).filter(Boolean);console.log("Form data regions:",e.regions),console.log("Region ID map:",f),console.log("Converted region IDs:",r);let a=e.propertyType.filter(e=>D.includes(e)),t=new FormData;t.append("phone",e.phone),t.append("name",e.name),t.append("email",e.email),t.append("customerDetails[preferences][budgetMin]",e.budgetMin?Number(e.budgetMin):""),t.append("customerDetails[preferences][budgetMax]",e.budgetMax?Number(e.budgetMax):""),a.forEach((e,s)=>{t.append("customerDetails[preferences][propertyType][".concat(s,"]"),e)}),r.forEach((e,s)=>{t.append("customerDetails[preferences][region][".concat(s,"]"),e)}),e.savedSearches.forEach((e,s)=>{t.append("customerDetails[savedSearches][".concat(s,"][type]"),e.type),t.append("customerDetails[savedSearches][".concat(s,"][budgetMax]"),e.budgetMax)}),t.append("customerDetails[inquiryCount]",e.inquiryCount||0),C&&"string"!=typeof C&&t.append("customerImage",C),console.log("Form data saved searches:",e.savedSearches),console.log("Complete submit data:",t),console.log("API URL:","https://broker-adda-be.algofolks.com/api");let o="".concat("https://broker-adda-be.algofolks.com/api","/auth/complete-profile");console.log("Full URL:",o);let n=await fetch(o,{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:t});if(n.ok){let e=await n.json();l.default.success("Profile updated successfully!"),console.log("Profile updated:",e)}else{let e=await n.json().catch(()=>({message:"Unknown error"}));l.default.error(e.message||"Failed to update profile"),console.error("Profile update failed:",e),console.error("Response status:",n.status),console.error("Response headers:",n.headers)}}catch(e){console.error("Network error details:",e),"TypeError"===e.name&&e.message.includes("fetch")?l.default.error("Network connection failed. Please check your internet connection and try again."):l.default.error(e.message)}finally{h(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),(0,s.jsx)(t.default,{data:a.default}),(0,s.jsx)("div",{className:"px-6 sm:px-12 lg:px-32 py-12",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsxs)("div",{className:"w-full lg:w-1/4 space-y-3",children:[["Dashboard","Profile","Saved Properties"].map((e,r)=>(0,s.jsx)("button",{onClick:()=>i(e),className:"w-full text-left px-5 py-3 rounded-lg border ".concat(n===e?"bg-yellow-400 text-black font-medium":"bg-white hover:bg-gray-50 text-black"),children:e},e)),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),window.location.href="/"},className:"w-full text-left px-5 py-3 rounded-lg border bg-white",children:"Logout"})]}),(()=>{switch(n){case"Dashboard":return(0,s.jsxs)("div",{className:"w-full lg:w-3/4 bg-white  rounded-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard"}),P&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading dashboard data..."})]})}),!P&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Inquiries"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.inquiryCount||0}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Active inquiries"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Saved Properties"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:"3"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Properties saved"})]}),(0,s.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Saved Searches"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:e.savedSearches.length}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Search criteria saved"})]})]})]});case"Profile":return(0,s.jsxs)("div",{className:"w-full lg:w-3/4 bg-white rounded-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile"}),P&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading profile data..."})]})}),!P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"flex items-center gap-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:C?(0,s.jsx)("img",{src:"string"==typeof C?C:URL.createObjectURL(C),alt:"Customer Profile",className:"w-full h-full object-cover",onLoad:()=>console.log("Image loaded successfully:",C),onError:e=>console.log("Image failed to load:",C,e)}):(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,s.jsx)("button",{type:"button",className:"absolute -bottom-1 -right-1 bg-green-600 w-7 h-7 rounded-full flex items-center justify-center hover:bg-green-700 transition-colors",onClick:()=>document.getElementById("customer-image-upload").click(),children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("input",{type:"file",name:"customerImage",onChange:E,accept:".jpg,.jpeg,.png",className:"hidden",id:"customer-image-upload"})]})})}),(0,s.jsxs)("form",{className:"space-y-6 ",onSubmit:F,children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Name ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"name",value:e.name,onChange:L,placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Email ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",name:"email",value:e.email,onChange:L,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Phone ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:L,placeholder:"Enter your phone number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{className:"relative region-dropdown",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Region ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),m?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Loading regions..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{type:"button",onClick:()=>j(!y),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white text-left flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-gray-700",children:0===e.regions.length?"Select regions...":"".concat(e.regions.length," region(s) selected")}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform ".concat(y?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),y&&(0,s.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:u.length>0?u.map(r=>(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.regions.includes(r),onChange:()=>(e=>{o(s=>{let r=s.regions.includes(e);return{...s,regions:r?s.regions.filter(s=>s!==e):[...s.regions,e]}})})(r),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:r})]},r)):(0,s.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No regions available"})})})})]}),e.regions.length>0&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Selected regions (",e.regions.length,"):"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.regions.map(e=>(0,s.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full flex items-center",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>{o(s=>({...s,regions:s.regions.filter(s=>s!==e)}))},className:"ml-2 text-green-600 hover:text-green-800",children:"×"})]},e))})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Budget Min (₹ Lakhs) ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"number",name:"budgetMin",value:e.budgetMin,onChange:L,placeholder:"e.g. 25",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Budget Max (₹ Lakhs) ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"number",name:"budgetMax",value:e.budgetMax,onChange:L,placeholder:"e.g. 60",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Property Type ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("div",{className:"w-full border border-gray-300 rounded-lg max-h-48 overflow-y-auto p-3",children:(0,s.jsx)("div",{className:"space-y-2",children:D.map(r=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",checked:e.propertyType.includes(r),onChange:()=>B(r)}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:r})]},r))})}),e.propertyType.length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.propertyType.map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full capitalize",children:e},e))})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 px-4 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors ".concat(x?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-green-800 text-white hover:bg-green-700"),children:x?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating Profile..."]}):"Save Profile"})})]})]})]});case"Saved Properties":return(0,s.jsxs)("div",{className:"w-full lg:w-3/4 bg-white  rounded-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Saved Properties"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:"/images/pexels-binyaminmellish-106399.jpg",alt:"Property",className:"w-full h-48 object-cover"}),(0,s.jsx)("button",{onClick:()=>O("property-1"),className:"absolute top-3 right-3 bg-white/90 hover:bg-white p-2 rounded-full shadow-md transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5 transition-colors ".concat(I.has("property-1")?"text-red-500":"text-gray-700"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Luxury Villa"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"3BHK, 2000 sq ft"}),(0,s.jsx)("p",{className:"text-green-600 font-semibold",children:"₹2.5 Cr"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:"/images/istockphoto-1165384568-612x612.jpg",alt:"Property",className:"w-full h-48 object-cover"}),(0,s.jsx)("button",{onClick:()=>O("property-2"),className:"absolute top-3 right-3 bg-white/90 hover:bg-white p-2 rounded-full shadow-md transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5 transition-colors ".concat(I.has("property-2")?"text-red-500":"text-gray-700"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Modern Apartment"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"2BHK, 1200 sq ft"}),(0,s.jsx)("p",{className:"text-green-600 font-semibold",children:"₹85 L"})]})]}),(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:"/images/realestate2.jpg",alt:"Property",className:"w-full h-48 object-cover"}),(0,s.jsx)("button",{onClick:()=>O("property-3"),className:"absolute top-3 right-3 bg-white/90 hover:bg-white p-2 rounded-full shadow-md transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5 transition-colors ".concat(I.has("property-3")?"text-red-500":"text-gray-700"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Commercial Space"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Office, 5000 sq ft"}),(0,s.jsx)("p",{className:"text-green-600 font-semibold",children:"₹1.2 Cr"})]})]})]})]});default:return(0,s.jsxs)("div",{className:"w-full lg:w-3/4 bg-white rounded-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile"}),(0,s.jsxs)("form",{className:"space-y-6 p-6",onSubmit:F,children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Name ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"name",value:e.name,onChange:L,placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Email ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",name:"email",value:e.email,onChange:L,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Phone ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:L,placeholder:"Enter your phone number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Address ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"address",value:e.address,onChange:L,placeholder:"Enter your address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["City ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"city",value:e.city,onChange:L,placeholder:"Enter your city",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["State ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"state",value:e.state,onChange:L,placeholder:"Enter your state",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Pincode ",(0,s.jsx)("span",{className:"text-green-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"pincode",value:e.pincode,onChange:L,placeholder:"Enter pincode",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Budget Min (₹ Lakhs)"}),(0,s.jsx)("input",{type:"number",name:"budgetMin",value:e.budgetMin,onChange:L,placeholder:"e.g. 25",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Budget Max (₹ Lakhs)"}),(0,s.jsx)("input",{type:"number",name:"budgetMax",value:e.budgetMax,onChange:L,placeholder:"e.g. 60",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Property Type"}),(0,s.jsx)("div",{className:"w-full border border-gray-300 rounded-lg max-h-48 overflow-y-auto p-3",children:(0,s.jsx)("div",{className:"space-y-2",children:D.map(r=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",checked:e.propertyType.includes(r),onChange:()=>B(r)}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:r})]},r))})}),e.propertyType.length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.propertyType.map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full capitalize",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Property Preferences"}),(0,s.jsx)("div",{className:"border border-gray-300 rounded-lg p-3 min-h-[120px] max-h-48 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2",children:["2BHK","3BHK","4BHK","Villa","Apartment","Independent House","Penthouse","Studio","Duplex","Farmhouse","Plot","Commercial"].map(r=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:r,checked:e.preferences.includes(r),onChange:q,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:r})]},r))})}),e.preferences.length>0&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Selected preferences:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.preferences.map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Saved Searches"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"text",name:"type",value:d.type,onChange:A,placeholder:"Type e.g. 2BHK",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"}),(0,s.jsx)("input",{type:"number",name:"budgetMax",value:d.budgetMax,onChange:A,placeholder:"Budget Max (₹)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsx)("button",{onClick:R,className:"mt-3 bg-green-800 text-white py-2 px-4 rounded-lg hover:bg-green-700",children:"Add Saved Search"}),e.savedSearches.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-2",children:e.savedSearches.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center justify-between border p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-800",children:[e.type," · ₹",e.budgetMax]}),(0,s.jsx)("button",{type:"button",onClick:()=>{o(e=>({...e,savedSearches:e.savedSearches.filter((e,s)=>s!==r)}))},className:"text-red-600 text-sm hover:underline",children:"Remove"})]},r))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Inquiry Count"}),(0,s.jsx)("input",{type:"number",name:"inquiryCount",value:e.inquiryCount,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 px-4 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors ".concat(x?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-green-800 text-white hover:bg-green-700"),children:x?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating Profile..."]}):"Save Profile"})})]})]})}})()]})})})]})}}]);