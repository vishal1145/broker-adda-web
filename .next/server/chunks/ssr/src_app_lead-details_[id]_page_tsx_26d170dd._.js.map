{"version":3,"sources":["turbopack:///[project]/src/app/lead-details/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport HeaderFile from \"../../components/Header\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport ContentLoader from \"react-content-loader\";\n// removed unused import\n\nconst headerData = {\n  title: \"Enquiries Details\",\n  description: 'View enquiry information including property requirements, budget, and preferred locations.',\n  // breadcrumb: [\n  //   { label: \"Home\", href: \"/\" },\n  //   { label: \"Enquiries Details\", href: \"/lead-details\" },\n  // ],\n};\n\ntype LeadItem = {\n  _id: string;\n  customerName?: string;\n  primaryRegion?: { \n    _id?: string; \n    name?: string; \n    state?: string; \n    city?: string; \n    description?: string;\n    centerCoordinates?: number[]; // [latitude, longitude]\n  };\n  secondaryRegion?: { _id?: string; name?: string; state?: string; city?: string; description?: string };\n  budget?: number | string;\n  brokerImage?: string;\n  addedAgo?: string;\n  lastContact?: string;\n  notes?: string;\n  noteAddedAgo?: string;\n  noteAddedBy?: string;\n  propertyType?: string;\n  requirement?: string;\n  createdBy?: {\n    _id?: string;\n    name?: string;\n    firmName?: string;\n    brokerImage?: string;\n    email?: string;\n    phone?: string;\n    experience?: number | string;\n    licenseNumber?: string;\n    specialization?: string;\n    city?: string;\n    state?: string;\n  };\n  distanceKm?: number;\n  distance?: number;\n};\n\nexport default function LeadDetails() {\n  const params = useParams();\n  const router = useRouter();\n  const id = params.id;\n  const [lead, setLead] = useState<LeadItem | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [sameLeads, setSameLeads] = useState<LeadItem[]>([]);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(true);\n  const [brokerRating, setBrokerRating] = useState<number | null>(null);\n  const [path, setPath] = useState('');\n  useEffect(() => {\n    setPath(window.location.pathname);\n    if (!id) return;\n\n    const fetchLeadById = async () => {\n      setLoading(true);\n      try {\n        // Get token safely\n        const token =\n          typeof window !== \"undefined\"\n            ? localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\")\n            : null;\n\n        // Prepare headers\n        const headers: Record<string, string> = {\n          \"Content-Type\": \"application/json\",\n        };\n        if (token) {\n          headers.Authorization = `Bearer ${token}`;\n        }\n\n        // Use axios to fetch lead by id\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL;\n        const res = await axios.get(`${apiUrl}/leads/${id}`, { headers });\n\n        // Safely get lead data\n        const leadData = res.data?.data?.lead || null;\n        setLead(leadData);\n      } catch (error) {\n        console.error(\"Error fetching lead:\", error);\n        setLead(null); // fallback\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLeadById();\n  }, [id]);\n\n  const similarLeads = async () => {\n    if (!lead || !lead.primaryRegion) {\n      setSameLeads([]);\n      return;\n    }\n\n    try {\n      const token =\n        typeof window !== \"undefined\"\n          ? localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\")\n          : null;\n\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL;\n\n      const headers: Record<string, string> = {\n        \"Content-Type\": \"application/json\",\n      };\n      if (token) headers.Authorization = `Bearer ${token}`;\n\n      // Get current broker ID to filter out own leads\n      let currentBrokerId = '';\n      let currentUserId = '';\n      if (token) {\n        try {\n          const payload = JSON.parse(atob(token.split('.')[1]));\n          currentUserId = payload.brokerId || payload.userId || payload.id || payload.sub || '';\n          \n          // Fetch broker details to get the actual broker _id\n          if (currentUserId) {\n            try {\n              const brokerRes = await fetch(`${apiUrl}/brokers/${currentUserId}`, {\n                headers: { 'Content-Type': 'application/json', ...(token ? { Authorization: `Bearer ${token}` } : {}) }\n              });\n              if (brokerRes.ok) {\n                const brokerData = await brokerRes.json();\n                const broker = brokerData?.data?.broker || brokerData?.broker || brokerData?.data || brokerData;\n                currentBrokerId = broker?._id || broker?.id || '';\n              }\n            } catch (err) {\n              console.error('Error fetching broker details:', err);\n            }\n          }\n        } catch (err) {\n          console.error('Error parsing token:', err);\n        }\n      }\n\n      // Get coordinates from primary region\n      let latitude: number | null = null;\n      let longitude: number | null = null;\n      \n      if (lead.primaryRegion.centerCoordinates && Array.isArray(lead.primaryRegion.centerCoordinates) && lead.primaryRegion.centerCoordinates.length >= 2) {\n        // API format: [latitude, longitude]\n        latitude = lead.primaryRegion.centerCoordinates[0];\n        longitude = lead.primaryRegion.centerCoordinates[1];\n        console.log('üìç SimilarLeads: Using primary region coordinates:', latitude, longitude);\n      }\n\n      // Build API URL with coordinates if available\n      let apiUrlWithParams = `${apiUrl}/leads?verificationStatus=Verified`;\n      if (latitude && longitude) {\n        apiUrlWithParams += `&latitude=${latitude}&longitude=${longitude}`;\n        console.log('üìç SimilarLeads: Fetching similar leads with distance filter:', apiUrlWithParams);\n      } else {\n        console.log('üìç SimilarLeads: No coordinates available, fetching all verified leads');\n      }\n\n      const res = await axios.get(apiUrlWithParams, { headers });\n\n      // Handle different response structures\n      let items: LeadItem[] = [];\n      if (Array.isArray(res.data?.data?.items)) {\n        items = res.data.data.items as LeadItem[];\n      } else if (Array.isArray(res.data?.data?.leads)) {\n        items = res.data.data.leads as LeadItem[];\n      } else if (Array.isArray(res.data?.data)) {\n        items = res.data.data as LeadItem[];\n      } else if (Array.isArray(res.data?.leads)) {\n        items = res.data.leads as LeadItem[];\n      } else if (Array.isArray(res.data)) {\n        items = res.data as LeadItem[];\n      }\n\n      // Filter out the current lead and logged-in broker's own leads\n      const filteredItems = items.filter((item) => {\n        // Exclude the current lead\n        if (item._id === lead._id) {\n          return false;\n        }\n\n        // Filter out leads belonging to the logged-in broker\n        if (currentBrokerId || currentUserId) {\n          let leadBrokerId = '';\n          const createdBy = item.createdBy;\n          \n          if (createdBy) {\n            if (typeof createdBy === 'string') {\n              leadBrokerId = createdBy;\n            } else if (typeof createdBy === 'object' && createdBy !== null) {\n              const obj = createdBy as Record<string, unknown>;\n              const userId = obj.userId;\n              \n              if (userId && typeof userId === 'object' && userId !== null) {\n                const userIdObj = userId as Record<string, unknown>;\n                leadBrokerId = (userIdObj._id || userIdObj.id || '') as string;\n              } else if (userId && typeof userId === 'string') {\n                leadBrokerId = userId;\n              }\n              \n              if (!leadBrokerId) {\n                leadBrokerId = (obj._id || obj.id || obj.brokerId || '') as string;\n              }\n            }\n          }\n          \n          const brokerIdStr = String(currentBrokerId || '').trim();\n          const userIdStr = String(currentUserId || '').trim();\n          const leadBrokerIdStr = String(leadBrokerId).trim();\n          \n          const matchesBrokerId = brokerIdStr !== '' && leadBrokerIdStr === brokerIdStr;\n          const matchesUserId = userIdStr !== '' && leadBrokerIdStr === userIdStr;\n          \n          // Exclude if matches logged-in broker\n          if (matchesBrokerId || matchesUserId) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n\n      // Helper function to extract distance (in km)\n      const getDistance = (item: LeadItem): number => {\n        const distance = item.distanceKm ?? item.distance;\n        return Number.isFinite(Number(distance)) ? Number(distance) : Infinity;\n      };\n\n      // Sort by distance (closest first)\n      const sorted = filteredItems.sort((a, b) => {\n        const distanceA = getDistance(a);\n        const distanceB = getDistance(b);\n        return distanceA - distanceB; // Ascending order (closest first)\n      });\n\n      // Limit to 4-5 leads\n      const limited = sorted.slice(0, 5);\n      console.log('üìç SimilarLeads: Showing', limited.length, 'similar leads sorted by distance (excluding own leads)');\n      \n      setSameLeads(limited);\n    } catch (error) {\n      console.error(\"Error fetching similar leads:\", error);\n      setSameLeads([]); // fallback\n    }\n  };\n\n  // Helper function to format budget in crores\n  const formatBudgetInCrores = (budget: number | string | undefined): string => {\n    if (!budget || budget === 0) return \"‚Äî\";\n    const numBudget = typeof budget === 'string' ? parseFloat(budget.replace(/[‚Çπ,]/g, '')) : budget;\n    if (isNaN(numBudget) || numBudget === 0) return \"‚Äî\";\n    const crores = numBudget / 10000000; // Convert to crores\n    return `‚Çπ${crores.toFixed(2)} Cr`;\n  };\n\n  useEffect(() => {\n    if (lead && lead.primaryRegion) {\n      similarLeads();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lead]);\n\n  // Update scroll button states when same leads change\n  useEffect(() => {\n    const carousel = document.getElementById('similar-leads-horizontal');\n    if (carousel) {\n      const updateScrollState = () => {\n        const { scrollLeft, scrollWidth, clientWidth } = carousel;\n        const maxScroll = scrollWidth - clientWidth;\n        setCanScrollLeft(scrollLeft > 10);\n        setCanScrollRight(scrollLeft < maxScroll - 10);\n      };\n      \n      // Small delay to ensure DOM is ready\n      setTimeout(updateScrollState, 100);\n      carousel.addEventListener('scroll', updateScrollState);\n      return () => carousel.removeEventListener('scroll', updateScrollState);\n    }\n  }, [sameLeads]);\n\n  // Helper function to extract broker ID from createdBy\n  const getBrokerIdFromCreatedBy = (createdBy: LeadItem['createdBy']): { brokerId: string | null; userId: string | null } => {\n    if (!createdBy) return { brokerId: null, userId: null };\n    \n    const createdByAny = createdBy as Record<string, unknown>;\n    \n    // Handle string type\n    if (typeof createdByAny === 'string') {\n      return { brokerId: createdByAny, userId: createdByAny };\n    }\n    \n    if (typeof createdByAny === 'object' && createdByAny !== null) {\n      console.log('üîç Extracting broker ID from createdBy:', createdByAny);\n      \n      // Extract user ID first (for fallback)\n      let userId: string | null = null;\n      if (createdByAny.userId) {\n        const userIdVal = createdByAny.userId;\n        if (typeof userIdVal === 'object' && userIdVal !== null) {\n          const userIdObj = userIdVal as Record<string, unknown>;\n          userId = (typeof userIdObj._id === 'string' ? userIdObj._id : null) || \n                   (typeof userIdObj.id === 'string' ? userIdObj.id : null) || \n                   null;\n        } else if (typeof userIdVal === 'string') {\n          userId = userIdVal;\n        }\n      }\n      \n      // Prioritize broker-specific IDs first (broker document ID)\n      const brokerDetailId = createdByAny.brokerDetailId;\n      const brokerDetailsId = createdByAny.brokerDetailsId;\n      const brokerIdVal = createdByAny.brokerId;\n      \n      let brokerId = (typeof brokerDetailId === 'string' ? brokerDetailId : null) ||\n                    (typeof brokerDetailsId === 'string' ? brokerDetailsId : null) ||\n                    (typeof brokerIdVal === 'string' ? brokerIdVal : null) ||\n                    null;\n      \n      // Try nested userId structure for broker ID\n      if (!brokerId && createdByAny.userId) {\n        const userIdVal = createdByAny.userId;\n        if (typeof userIdVal === 'object' && userIdVal !== null) {\n          const userIdObj = userIdVal as Record<string, unknown>;\n          brokerId = (typeof userIdObj.brokerId === 'string' ? userIdObj.brokerId : null) ||\n                    (typeof userIdObj.brokerDetailId === 'string' ? userIdObj.brokerDetailId : null) ||\n                    null;\n        }\n      }\n      \n      // Fallback to direct _id or id (may be broker document ID or user ID)\n      if (!brokerId) {\n        const idVal = createdByAny._id;\n        const idVal2 = createdByAny.id;\n        brokerId = (typeof idVal === 'string' ? idVal : null) || \n                  (typeof idVal2 === 'string' ? idVal2 : null) || \n                  null;\n      }\n      \n      // If we still don't have userId, use brokerId as userId\n      if (!userId && brokerId) {\n        userId = brokerId;\n      }\n      \n      console.log('‚úÖ Extracted IDs:', { brokerId, userId });\n      return { brokerId, userId };\n    }\n    \n    return { brokerId: null, userId: null };\n  };\n\n  // Fetch broker rating when lead is loaded\n  useEffect(() => {\n    const fetchBrokerRating = async () => {\n      if (!lead?.createdBy) {\n        setBrokerRating(null);\n        return;\n      }\n\n      const { brokerId, userId } = getBrokerIdFromCreatedBy(lead.createdBy);\n      if (!brokerId && !userId) {\n        console.log('‚ùå No broker ID or user ID found');\n        setBrokerRating(null);\n        return;\n      }\n\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\n      const token =\n        typeof window !== \"undefined\"\n          ? localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\")\n          : null;\n\n      const headers: Record<string, string> = {\n        \"Content-Type\": \"application/json\",\n      };\n      if (token) {\n        headers.Authorization = `Bearer ${token}`;\n      }\n\n      // Try broker ID first (broker document ID)\n      let ratingFound = false;\n      if (brokerId) {\n        try {\n          console.log(`üîç Fetching rating with broker ID: ${brokerId}`);\n          const res = await fetch(`${apiUrl}/broker-ratings/broker/${brokerId}`, {\n            method: 'GET',\n            headers: headers\n          });\n\n          if (res.ok) {\n            const data = await res.json().catch(() => ({}));\n            const averageRating = data?.data?.stats?.averageRating;\n            if (averageRating !== undefined && averageRating !== null) {\n              console.log(`‚úÖ Rating fetched with broker ID: ${averageRating}`);\n              setBrokerRating(averageRating);\n              ratingFound = true;\n            }\n          } else if (res.status === 404) {\n            console.log(`‚ùå Broker not found with broker ID: ${brokerId} (404)`);\n            // Try userId as fallback if broker ID failed\n            if (userId && userId !== brokerId) {\n              console.log(`üîÑ Trying user ID as fallback: ${userId}`);\n              try {\n                const fallbackRes = await fetch(`${apiUrl}/broker-ratings/broker/${userId}`, {\n                  method: 'GET',\n                  headers: headers\n                });\n                if (fallbackRes.ok) {\n                  const fallbackData = await fallbackRes.json().catch(() => ({}));\n                  const fallbackRating = fallbackData?.data?.stats?.averageRating;\n                  if (fallbackRating !== undefined && fallbackRating !== null) {\n                    console.log(`‚úÖ Rating fetched with user ID: ${fallbackRating}`);\n                    setBrokerRating(fallbackRating);\n                    ratingFound = true;\n                  }\n                } else {\n                  console.log(`‚ùå Broker not found with user ID: ${userId} (${fallbackRes.status})`);\n                }\n              } catch (fallbackError) {\n                console.error('Error fetching rating with user ID:', fallbackError);\n              }\n            }\n          } else {\n            console.error(`Error fetching rating: ${res.status} ${res.statusText}`);\n          }\n        } catch (error) {\n          console.error('Error fetching broker rating:', error);\n        }\n      } else if (userId) {\n        // If no broker ID, try userId directly\n        try {\n          console.log(`üîç Fetching rating with user ID: ${userId}`);\n          const res = await fetch(`${apiUrl}/broker-ratings/broker/${userId}`, {\n            method: 'GET',\n            headers: headers\n          });\n\n          if (res.ok) {\n            const data = await res.json().catch(() => ({}));\n            const averageRating = data?.data?.stats?.averageRating;\n            if (averageRating !== undefined && averageRating !== null) {\n              console.log(`‚úÖ Rating fetched with user ID: ${averageRating}`);\n              setBrokerRating(averageRating);\n              ratingFound = true;\n            }\n          } else {\n            console.log(`‚ùå Broker not found with user ID: ${userId} (${res.status})`);\n          }\n        } catch (error) {\n          console.error('Error fetching broker rating with user ID:', error);\n        }\n      }\n\n      if (!ratingFound) {\n        setBrokerRating(null);\n      }\n    };\n\n    fetchBrokerRating();\n  }, [lead?.createdBy]);\n\n  if (loading) {\n  return (\n      <div className=\"min-h-screen\">\n        <HeaderFile data={headerData} />\n        <div className=\"py-8\">\n          <div className=\"w-full mx-auto px-4 md:px-0\">\n            {/* Grid */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start pb-16\">\n              {/* Left Content - 8 columns */}\n              <section className=\"lg:col-span-8 space-y-6\">\n                {/* Top Header Skeleton */}\n                <div className=\"mb-8\">\n                  <ContentLoader\n                    speed={2}\n                    width={600}\n                    height={60}\n                    viewBox=\"0 0 600 60\"\n                    backgroundColor=\"#f3f3f3\"\n                    foregroundColor=\"#ecebeb\"\n                    style={{ width: '100%', height: '100%' }}\n                  >\n                    {/* Title */}\n                    <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"300\" height=\"28\" />\n                    {/* Status info */}\n                    <rect x=\"0\" y=\"40\" rx=\"4\" ry=\"4\" width=\"200\" height=\"16\" />\n                  </ContentLoader>\n                </div>\n\n                {/* Requirements Section Skeleton */}\n                <div className=\"\">\n                  <ContentLoader\n                    speed={2}\n                    width={600}\n                    height={40}\n                    viewBox=\"0 0 600 40\"\n                    backgroundColor=\"#f3f3f3\"\n                    foregroundColor=\"#ecebeb\"\n                    style={{ width: '100%', height: '100%', marginBottom: '24px' }}\n                  >\n                    <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"150\" height=\"24\" />\n                  </ContentLoader>\n                  \n                  <div className=\"space-y-4\">\n                    {/* Property Type Card */}\n                    <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                      <ContentLoader\n                        speed={2}\n                        width={600}\n                        height={60}\n                        viewBox=\"0 0 600 60\"\n                        backgroundColor=\"#f3f3f3\"\n                        foregroundColor=\"#ecebeb\"\n                        style={{ width: '100%', height: '100%' }}\n                      >\n                        <circle cx=\"20\" cy=\"30\" r=\"16\" />\n                        <rect x=\"50\" y=\"20\" rx=\"4\" ry=\"4\" width=\"100\" height=\"12\" />\n                        <rect x=\"50\" y=\"38\" rx=\"4\" ry=\"4\" width=\"150\" height=\"16\" />\n                      </ContentLoader>\n                    </div>\n\n                    {/* Budget Range Card */}\n                    <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                      <ContentLoader\n                        speed={2}\n                        width={600}\n                        height={60}\n                        viewBox=\"0 0 600 60\"\n                        backgroundColor=\"#f3f3f3\"\n                        foregroundColor=\"#ecebeb\"\n                        style={{ width: '100%', height: '100%' }}\n                      >\n                        <circle cx=\"20\" cy=\"30\" r=\"16\" />\n                        <rect x=\"50\" y=\"20\" rx=\"4\" ry=\"4\" width=\"100\" height=\"12\" />\n                        <rect x=\"50\" y=\"38\" rx=\"4\" ry=\"4\" width=\"180\" height=\"16\" />\n                      </ContentLoader>\n                    </div>\n\n                    {/* Preferred Locations Card */}\n                    <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                      <ContentLoader\n                        speed={2}\n                        width={600}\n                        height={80}\n                        viewBox=\"0 0 600 80\"\n                        backgroundColor=\"#f3f3f3\"\n                        foregroundColor=\"#ecebeb\"\n                        style={{ width: '100%', height: '100%' }}\n                      >\n                        <circle cx=\"20\" cy=\"24\" r=\"16\" />\n                        <rect x=\"50\" y=\"10\" rx=\"4\" ry=\"4\" width=\"120\" height=\"12\" />\n                        {/* Tags */}\n                        <rect x=\"50\" y=\"32\" rx=\"16\" ry=\"16\" width=\"120\" height=\"24\" />\n                        <rect x=\"180\" y=\"32\" rx=\"16\" ry=\"16\" width=\"120\" height=\"24\" />\n                      </ContentLoader>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Notes Section Skeleton */}\n                <div className=\"pb-16\">\n                  <div className=\"bg-white rounded-[10px] p-5 border border-[#DEE1E6]\">\n                    <ContentLoader\n                      speed={2}\n                      width={600}\n                      height={180}\n                      viewBox=\"0 0 600 180\"\n                      backgroundColor=\"#f3f3f3\"\n                      foregroundColor=\"#ecebeb\"\n                      style={{ width: '100%', height: '100%' }}\n                    >\n                      {/* Title and badge */}\n                      <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"100\" height=\"24\" />\n                      <rect x=\"500\" y=\"2\" rx=\"12\" ry=\"12\" width=\"80\" height=\"20\" />\n                      \n                      {/* Paragraph lines */}\n                      <rect x=\"0\" y=\"40\" rx=\"4\" ry=\"4\" width=\"600\" height=\"12\" />\n                      <rect x=\"0\" y=\"60\" rx=\"4\" ry=\"4\" width=\"580\" height=\"12\" />\n                      <rect x=\"0\" y=\"80\" rx=\"4\" ry=\"4\" width=\"550\" height=\"12\" />\n                      <rect x=\"0\" y=\"100\" rx=\"4\" ry=\"4\" width=\"520\" height=\"12\" />\n                      \n                      {/* Footer info */}\n                      <circle cx=\"12\" cy=\"140\" r=\"6\" />\n                      <rect x=\"25\" y=\"136\" rx=\"4\" ry=\"4\" width=\"100\" height=\"12\" />\n                      <circle cx=\"180\" cy=\"140\" r=\"6\" />\n                      <rect x=\"193\" y=\"136\" rx=\"4\" ry=\"4\" width=\"120\" height=\"12\" />\n                    </ContentLoader>\n                  </div>\n                </div>\n              </section>\n\n              {/* Right Sidebar - 4 columns */}\n              <aside className=\"lg:col-span-4 space-y-6\">\n                {/* Broker Details Section Skeleton */}\n                <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                  <ContentLoader\n                    speed={2}\n                    width={400}\n                    height={280}\n                    viewBox=\"0 0 400 280\"\n                    backgroundColor=\"#f3f3f3\"\n                    foregroundColor=\"#ecebeb\"\n                    style={{ width: '100%', height: '100%' }}\n                  >\n                    {/* Title */}\n                    <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"130\" height=\"24\" />\n                    \n                    {/* Avatar and name */}\n                    <circle cx=\"24\" cy=\"50\" r=\"24\" />\n                    <rect x=\"60\" y=\"42\" rx=\"4\" ry=\"4\" width=\"120\" height=\"16\" />\n                    <rect x=\"60\" y=\"62\" rx=\"4\" ry=\"4\" width=\"140\" height=\"12\" />\n                    \n                    {/* Rating and experience */}\n                    <circle cx=\"24\" cy=\"100\" r=\"8\" />\n                    <rect x=\"40\" y=\"95\" rx=\"4\" ry=\"4\" width=\"30\" height=\"14\" />\n                    <rect x=\"80\" y=\"95\" rx=\"4\" ry=\"4\" width=\"100\" height=\"14\" />\n                    \n                    {/* Tags */}\n                    <rect x=\"0\" y=\"125\" rx=\"16\" ry=\"16\" width=\"120\" height=\"24\" />\n                    <rect x=\"130\" y=\"125\" rx=\"16\" ry=\"16\" width=\"120\" height=\"24\" />\n                    \n                    {/* Button */}\n                    <rect x=\"0\" y=\"165\" rx=\"8\" ry=\"8\" width=\"100%\" height=\"40\" />\n                  </ContentLoader>\n                </div>\n\n                {/* Lead Generation Support Section Skeleton */}\n                <div className=\"rounded-[12px] bg-green-50 p-6\">\n                  <ContentLoader\n                    speed={2}\n                    width={400}\n                    height={400}\n                    viewBox=\"0 0 400 400\"\n                    backgroundColor=\"#e0f2e9\"\n                    foregroundColor=\"#c8e6d5\"\n                    style={{ width: '100%', height: '100%' }}\n                  >\n                    {/* Title */}\n                    <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"200\" height=\"24\" />\n                    \n                    {/* Description */}\n                    <rect x=\"0\" y=\"40\" rx=\"4\" ry=\"4\" width=\"400\" height=\"12\" />\n                    <rect x=\"0\" y=\"58\" rx=\"4\" ry=\"4\" width=\"380\" height=\"12\" />\n                    <rect x=\"0\" y=\"76\" rx=\"4\" ry=\"4\" width=\"360\" height=\"12\" />\n                    \n                    {/* 3 feature items */}\n                    {[0, 1, 2].map((i) => (\n                      <React.Fragment key={i}>\n                        <circle cx=\"18\" cy={110 + i * 60} r=\"18\" />\n                        <rect x=\"50\" y={102 + i * 60} rx=\"4\" ry=\"4\" width=\"120\" height=\"16\" />\n                        <rect x=\"50\" y={122 + i * 60} rx=\"4\" ry=\"4\" width=\"280\" height=\"12\" />\n                      </React.Fragment>\n                    ))}\n                    \n                    {/* Button */}\n                    <rect x=\"0\" y=\"310\" rx=\"8\" ry=\"8\" width=\"100%\" height=\"48\" />\n                  </ContentLoader>\n                </div>\n              </aside>\n            </div>\n\n            {/* Similar Leads Section Skeleton */}\n            <div className=\"pb-16\">\n              <ContentLoader\n                speed={2}\n                width={600}\n                height={40}\n                viewBox=\"0 0 600 40\"\n                backgroundColor=\"#f3f3f3\"\n                foregroundColor=\"#ecebeb\"\n                style={{ width: '100%', height: '100%', marginBottom: '24px' }}\n              >\n                <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"120\" height=\"24\" />\n                <rect x=\"550\" y=\"4\" rx=\"4\" ry=\"4\" width=\"50\" height=\"16\" />\n              </ContentLoader>\n              \n              <div className=\"flex gap-4 min-w-0 pb-2\">\n                {[1, 2, 3, 4].map((i) => (\n                  <div key={i} className=\"flex-shrink-0 basis-full sm:basis-1/2 lg:basis-1/4 border border-gray-200 rounded-2xl bg-white shadow-sm p-6\">\n                    <ContentLoader\n                      speed={2}\n                      width={350}\n                      height={320}\n                      viewBox=\"0 0 350 320\"\n                      backgroundColor=\"#f3f3f3\"\n                      foregroundColor=\"#ecebeb\"\n                      style={{ width: '100%', height: '100%' }}\n                    >\n                      {/* Title */}\n                      <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"250\" height=\"20\" />\n                      {/* Tags and time */}\n                      <rect x=\"0\" y=\"32\" rx=\"11\" ry=\"11\" width=\"80\" height=\"22\" />\n                      <rect x=\"90\" y=\"32\" rx=\"11\" ry=\"11\" width=\"100\" height=\"22\" />\n                      <rect x=\"250\" y=\"36\" rx=\"4\" ry=\"4\" width=\"80\" height=\"14\" />\n                      {/* Divider */}\n                      <rect x=\"0\" y=\"70\" rx=\"1\" ry=\"1\" width=\"350\" height=\"1\" />\n                      {/* Location items */}\n                      <circle cx=\"8\" cy=\"95\" r=\"4\" />\n                      <rect x=\"20\" y=\"88\" rx=\"4\" ry=\"4\" width=\"150\" height=\"12\" />\n                      <circle cx=\"8\" cy=\"120\" r=\"4\" />\n                      <rect x=\"20\" y=\"113\" rx=\"4\" ry=\"4\" width=\"180\" height=\"12\" />\n                      {/* Budget */}\n                      <rect x=\"0\" y=\"145\" rx=\"4\" ry=\"4\" width=\"80\" height=\"12\" />\n                      <rect x=\"90\" y=\"145\" rx=\"4\" ry=\"4\" width=\"120\" height=\"12\" />\n                      {/* Broker profile */}\n                      <circle cx=\"24\" cy=\"200\" r=\"24\" />\n                      <rect x=\"60\" y=\"190\" rx=\"4\" ry=\"4\" width=\"100\" height=\"14\" />\n                      <rect x=\"60\" y=\"210\" rx=\"4\" ry=\"4\" width=\"150\" height=\"12\" />\n                    </ContentLoader>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n  );\n}\n\n  if (!lead) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        No lead data found.\n      </div>\n    );\n  }\n\n\n  return (\n    <div className=\"min-h-screen \">\n      <HeaderFile data={headerData} />\n    \n      <div className=\"py-8\">\n        <div className=\"w-full mx-auto px-4 md:px-0\">\n         \n       \n\n          {/* Grid */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start pb-16\">\n            {/* Left Content - 8 columns */}\n            <section className=\"lg:col-span-8 space-y-6\">\n               {/* Top Header - Lead Title and Status */}\n          <div className=\"mb-8\">\n            <h1 className=\"text-[20px] font-bold text-gray-900 mb-2\">\n              {lead.propertyType } \n            </h1>\n              <div className=\"flex items-center gap-4 text-[12px] leading-[20px] font-[400]\" style={{ color: '#565D6DFF', fontFamily: 'Inter, sans-serif' }}>\n              <span>Active {lead?.addedAgo || \"5 days ago\"}</span>\n              <span className=\"text-gray-300\">|</span>\n              <span>Last contacted {lead?.lastContact || \"2 hours ago\"}</span>\n              </div>\n          </div>\n              {/* Requirements Section */}\n              <div className=\"\">\n                <h2 className=\"text-[18px] font-semibold text-gray-900 mb-6\">Requirements</h2>\n                \n                <div className=\"space-y-4\">\n                  {/* Property Type Card */}\n                  <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0\">\n                        <svg className=\"w-4 h-4 text-gray-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                          <path d=\"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z\" />\n                        </svg>\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"text-[12px] text-gray-500 mb-1\">Property Type</div>\n                        <div className=\"text-[12px] font-medium text-gray-900\">{lead?.propertyType || \"Residential\"}</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Budget Range Card */}\n                  <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0\">\n                        <svg className=\"w-4 h-4 text-gray-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                          <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\"></line>\n                          <path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"></path>\n</svg>\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"text-[12px] text-gray-500 mb-1\">Budget Range</div>\n                        <div className=\"text-[12px] font-medium text-gray-900\">\n                          {formatBudgetInCrores(lead?.budget)}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Preferred Locations Card */}\n                  <div className=\"bg-white rounded-[10px] p-4 border border-[#DEE1E6]\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0 mt-0.5\">\n                        <svg className=\"w-4 h-4 text-gray-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                          <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\n                          <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n                        </svg>\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"text-[12px] text-gray-500 mb-2\">Preferred Locations</div>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {lead?.primaryRegion?.name && (\n                            <span className=\"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-[12px] font-medium\">\n                              {lead.primaryRegion.name}\n                            </span>\n                          )}\n                          {lead?.secondaryRegion?.name && (\n                            <span className=\"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-[12px] font-medium\">\n                              {lead.secondaryRegion.name}\n                            </span>\n                          )}\n                          {(!lead?.primaryRegion?.name && !lead?.secondaryRegion?.name) && (\n                            <>\n                              <span className=\"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-[12px] font-medium\">\n                                Noida Sector #1\n                              </span>\n                              <span className=\"inline-flex items-center px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-[12px] font-medium\">\n                                Noida Sector #2\n                              </span>\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Notes Section - Only show if notes exist */}\n              {lead?.notes && (\n                <div className=\"pb-16\">\n                  <div className=\"bg-white rounded-[10px] p-5 border border-[#DEE1E6]\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h3 className=\"text-[18px] font-semibold text-gray-900\">Notes</h3>\n                    <span className=\"px-2.5 py-1 rounded-full bg-yellow-500 text-black text-xs font-medium\">\n                    Important\n                  </span>\n                    </div>\n                    <p className=\"text-[12px] text-gray-700 leading-6 mb-4\">\n                      {lead.notes}\n                    </p>\n                    {(lead?.noteAddedAgo || lead?.noteAddedBy) && (\n                      <div className=\"flex items-center gap-5 text-[12px] text-gray-400\">\n                        {lead?.noteAddedAgo && (\n                          <span className=\"flex items-center gap-1.5\">\n                            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                            {lead.noteAddedAgo}\n                          </span>\n                        )}\n                        {lead?.noteAddedBy && (\n                          <span className=\"flex items-center gap-1.5\">\n                            <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                            </svg>\n                            {lead.noteAddedBy}\n                          </span>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              \n            </section>\n\n            {/* Right Sidebar - 4 columns */}\n              <aside className=\"lg:col-span-4 space-y-6\">\n                {/* Broker Details Section */}\n                <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                  <h3 className=\"text-[18px] font-semibold text-gray-900 mb-4\">Broker Details</h3>\n                  \n                  {lead?.createdBy ? (\n                    <div>\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <img\n                          src={lead.createdBy.brokerImage || \"/images/user-2.jpeg\"}\n                          alt=\"Broker\"\n                          className=\"w-12 h-12 rounded-full object-cover\"\n                        />\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-gray-900 text-[14px]\">\n                            {lead.createdBy.name || \"Yash Gupta\"}\n                          </h4>\n                            <p className=\"text-[12px] text-gray-500\">\n                            {lead.createdBy.firmName || \"Gupta Properties\"}\n                            </p>\n                        </div>\n                      </div>\n                        <div className=\"flex items-center gap-2 mb-4 text-sm\">\n                        <svg className=\"w-4 h-4 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"/>\n                            </svg>\n                        {brokerRating !== null && (\n                          <span className=\"font-semibold text-gray-900 text-[12px]\">{brokerRating.toFixed(1)}</span>\n                        )}\n                          <span className=\"text-gray-500 text-[12px]\">\n                          {typeof lead.createdBy.experience === 'number' ? `${lead.createdBy.experience}+` : lead.createdBy.experience || '11+'} years\n                          </span>\n                        </div>\n                      <div className=\"flex flex-wrap gap-2 mb-4\">\n                        <span className=\"px-3 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-xs font-medium\">\n                          Residential Sales\n                        </span>\n                        <span className=\"px-3 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-700 text-xs font-medium\">\n                          Rental Properties\n                            </span>\n                      </div>\n                      <button \n                        onClick={() => {\n                          if (!lead?.createdBy) return;\n                          \n                          // Extract broker ID from createdBy\n                          const createdByAny = lead.createdBy as Record<string, unknown>;\n                          let brokerId: string | null = null;\n                          \n                          // Handle string type\n                          if (typeof createdByAny === 'string') {\n                            brokerId = createdByAny;\n                          } else if (typeof createdByAny === 'object' && createdByAny !== null) {\n                            // Prioritize broker-specific IDs first\n                            const brokerDetailId = createdByAny.brokerDetailId;\n                            const brokerDetailsId = createdByAny.brokerDetailsId;\n                            const brokerIdVal = createdByAny.brokerId;\n                            \n                            brokerId = (typeof brokerDetailId === 'string' ? brokerDetailId : null) ||\n                                      (typeof brokerDetailsId === 'string' ? brokerDetailsId : null) ||\n                                      (typeof brokerIdVal === 'string' ? brokerIdVal : null) ||\n                                      null;\n                            \n                            // Try nested userId structure (common pattern)\n                            if (!brokerId && createdByAny.userId) {\n                              const userId = createdByAny.userId;\n                              if (typeof userId === 'object' && userId !== null) {\n                                const userIdObj = userId as Record<string, unknown>;\n                                brokerId = (typeof userIdObj._id === 'string' ? userIdObj._id : null) || \n                                          (typeof userIdObj.id === 'string' ? userIdObj.id : null) || \n                                          (typeof userIdObj.brokerId === 'string' ? userIdObj.brokerId : null) ||\n                                          (typeof userIdObj.brokerDetailId === 'string' ? userIdObj.brokerDetailId : null) ||\n                                          null;\n                              } else if (typeof userId === 'string') {\n                                brokerId = userId;\n                              }\n                            }\n                            \n                            // Fallback to direct _id or id\n                            if (!brokerId) {\n                              const idVal = createdByAny._id;\n                              const idVal2 = createdByAny.id;\n                              brokerId = (typeof idVal === 'string' ? idVal : null) || \n                                        (typeof idVal2 === 'string' ? idVal2 : null) || \n                                        null;\n                            }\n                          }\n                          \n                          // Navigate to broker details page\n                          if (brokerId) {\n                            router.push(`/broker-details/${brokerId}`);\n                          }\n                        }}\n                        className=\"w-full px-4 py-2 border border-green-900 text-green-900 hover:bg-green-50 rounded-lg text-sm font-medium transition-colors\"\n                      >\n                        View Profile\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200 text-center\">\n                        <div className=\"w-10 h-10 bg-gray-200 rounded-full mx-auto mb-3 flex items-center justify-center\">\n                          <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                          </svg>\n                        </div>\n                        <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">Broker Information</h4>\n                      <p className=\"text-xs text-gray-500\">Not available</p>\n                    </div>\n                  )}\n              </div>\n\n                {/* Lead Generation Support Section */}\n                <div className=\"rounded-[12px] bg-green-50  p-6\">\n                  <h3 className=\"text-[18px] font-semibold text-gray-900 mb-3\">Query Generation Support</h3>\n                  <p className=\"text-[12px] text-gray-700 mb-6 max-w-md\">\n                    Join our exclusive broker network and get access to premium query generation tools\n                    and support.\n                  </p>\n\n                  <div className=\"space-y-5 mb-6\">\n                    {/* Verified Leads */}\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <img src=\"/images/lucide-CircleCheckBig-Outlined.svg\" alt=\"Verified\" className=\"w-5 h-5\" style={{ filter: 'brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)' }} />\n                    </div>\n                      <div>\n                        <div className=\"text-[14px] font-semibold text-gray-900\">Verified Queries</div>\n                        <div className=\"text-[12px] text-gray-600\">Pre-qualified properties ready to buy</div>\n                      </div>\n                    </div>\n\n                    {/* Exclusive Training */}\n                    <div className=\"flex items-start gap-3\">\n                     <div className=\"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <img src=\"/images/lucide-GraduationCap-Outlined.svg\" alt=\"Training\" className=\"w-5 h-5\" style={{ filter: 'brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)' }} />\n                    </div>\n                      <div>\n                        <div className=\"text-[14px] font-semibold text-gray-900\">Exclusive Training</div>\n                        <div className=\"text-[12px] text-gray-600\">Advanced sales techniques & higher commissions</div>\n                      </div>\n                    </div>\n\n                    {/* Higher Commissions */}\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-9 h-9 bg-white rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                      <img src=\"/images/lucide-DollarSign-Outlined.svg\" alt=\"Commissions\" className=\"w-5 h-5\" style={{ filter: 'brightness(0) saturate(100%) invert(15%) sepia(95%) saturate(700%) hue-rotate(115deg) brightness(95%) contrast(90%)' }} />\n                    </div>\n                      <div>\n                        <div className=\"text-[14px] font-semibold text-gray-900\">Higher Commissions</div>\n                        <div className=\"text-[12px] text-gray-600\">Up to 10% more than standard rates</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <button \n                    onClick={() => {\n                      router.push('/signup');\n                    }}\n                    className=\"w-full px-4 py-3 bg-green-900 hover:bg-green-900 text-white rounded-lg font-semibold text-sm transition-colors\"\n                  >\n             Become a Partner Broker\n\n                  </button>\n                </div>\n            </aside>\n          </div>\n{/* Similar Leads Section */}\n              <div className=\"pb-16\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-[18px] font-semibold text-gray-900\">Similar Enquiries </h3>\n                  <a \n                    href=\"/search?tab=leads\" \n                    onClick={(e) => {\n                      e.preventDefault();\n                      router.push('/search?tab=leads');\n                    }}\n                    className=\"text-[12px] text-gray-600 font-medium cursor-pointer hover:underline\"\n                  >\n                    View All\n                  </a>\n                </div>\n                {sameLeads && sameLeads.filter((s) => s._id !== lead._id).length > 0 ? (\n                  <div className=\"relative\">\n                    <div \n                      id=\"similar-leads-horizontal\" \n                      className=\"overflow-x-auto scroll-smooth\" \n                      style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n                      onScroll={(e) => {\n                        const carousel = e.currentTarget;\n                        const { scrollLeft, scrollWidth, clientWidth } = carousel;\n                        const maxScroll = scrollWidth - clientWidth;\n                        setCanScrollLeft(scrollLeft > 10);\n                        setCanScrollRight(scrollLeft < maxScroll - 10);\n                      }}\n                    >\n                      <div className=\"flex gap-4 min-w-0 pb-2\">\n                        {sameLeads\n                          .filter((s) => s._id !== lead._id)\n                          .map((s) => {\n                            // Extract broker ID and broker object from s.createdBy\n                            let brokerId: string | null = null;\n                            let broker: LeadItem['createdBy'] | null = null;\n                            \n                            if (s.createdBy) {\n                              broker = s.createdBy;\n                              const createdByAny = s.createdBy as Record<string, unknown>;\n                              \n                              // Handle string type\n                              if (typeof createdByAny === 'string') {\n                                brokerId = createdByAny;\n                              } else if (typeof createdByAny === 'object' && createdByAny !== null) {\n                                // Prioritize broker-specific IDs first\n                                const brokerDetailId = createdByAny.brokerDetailId;\n                                const brokerDetailsId = createdByAny.brokerDetailsId;\n                                const brokerIdVal = createdByAny.brokerId;\n                                \n                                brokerId = (typeof brokerDetailId === 'string' ? brokerDetailId : null) ||\n                                          (typeof brokerDetailsId === 'string' ? brokerDetailsId : null) ||\n                                          (typeof brokerIdVal === 'string' ? brokerIdVal : null) ||\n                                          null;\n                                \n                                // Try nested userId structure (common pattern)\n                                if (!brokerId && createdByAny.userId) {\n                                  const userId = createdByAny.userId;\n                                  if (typeof userId === 'object' && userId !== null) {\n                                    const userIdObj = userId as Record<string, unknown>;\n                                    brokerId = (typeof userIdObj._id === 'string' ? userIdObj._id : null) || \n                                              (typeof userIdObj.id === 'string' ? userIdObj.id : null) || \n                                              (typeof userIdObj.brokerId === 'string' ? userIdObj.brokerId : null) ||\n                                              (typeof userIdObj.brokerDetailId === 'string' ? userIdObj.brokerDetailId : null) ||\n                                              null;\n                                  } else if (typeof userId === 'string') {\n                                    brokerId = userId;\n                                  }\n                                }\n                                \n                                // Fallback to direct _id or id (may be user ID, not broker ID)\n                                if (!brokerId) {\n                                  const idVal = createdByAny._id;\n                                  const idVal2 = createdByAny.id;\n                                  brokerId = (typeof idVal === 'string' ? idVal : null) || \n                                            (typeof idVal2 === 'string' ? idVal2 : null) || \n                                            null;\n                                }\n                              }\n                              \n                              // Ensure brokerId is a string if it exists\n                              brokerId = brokerId ? String(brokerId) : null;\n                            }\n\n                            return (\n                            <a\n                              key={s._id}\n                              href={`/lead-details/${s._id}`}\n                              className=\"flex-shrink-0 basis-full sm:basis-1/2 lg:basis-1/4 block group h-full relative rounded-2xl border border-gray-200 bg-white shadow-sm transition-all duration-300 overflow-hidden hover:-translate-y-1 hover:shadow-lg cursor-pointer\"\n                            >\n                              <div className=\"p-6\">\n                                {/* Top Section - Main Title */}\n                                <div className=\"mb-4\">\n                                  <h3 className=\"text-[14px] leading-[20px] font-bold mb-2\" style={{ color: '#323743' }}>\n                                    {s.propertyType || \"Property\"} for {s.requirement || \"inquiry\"}\n                                  </h3>\n                                  \n                                  {/* Tags and Time */}\n                                  <div className=\"flex items-center justify-between gap-2 flex-nowrap\">\n                                    <div className=\"flex items-center gap-2 flex-nowrap\">\n                                      <span className=\"inline-flex items-center justify-center rounded-full h-[18px] p-[10px] whitespace-nowrap\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '16px', fontWeight: '600', background: '#0D542B', color: '#FFFFFF' }}>\n                                        {s.requirement || \"\"}\n                                      </span>\n                                      <span className=\"inline-flex items-center justify-center rounded-full h-[18px] p-[10px] whitespace-nowrap\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '16px', fontWeight: '600', background: '#FDC700', color: '#1b1d20ff' }}>\n                                        {s.propertyType || \"\"}\n                                      </span>\n                                    </div>\n                                    <div className=\"flex items-center gap-1.5 text-[12px] leading-5 font-normal whitespace-nowrap flex-shrink-0\" style={{ color: '#565D6D' }}>\n                                      <svg\n                                        className=\"h-4 w-4\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"currentColor\"\n                                        strokeWidth=\"2\"\n                                      >\n                                        <circle cx=\"12\" cy=\"12\" r=\"10\" />\n                                        <path d=\"M12 6v6l4 2\" />\n                                      </svg>\n                                      {s.addedAgo || \"2h ago\"}\n                                    </div>\n                                  </div>\n                                </div>\n\n                                {/* Horizontal Divider */}\n                                <div className=\"border-t border-gray-200 my-4\"></div>\n\n                                {/* Middle Section - Property Details */}\n                                <div className=\"space-y-3 mb-4\">\n                                  {/* Preferred Location */}\n                                  {s.primaryRegion?.name && (\n                                    <div className=\"flex items-center gap-2\">\n                                      <svg\n                                        className=\"h-3 w-3 flex-shrink-0 text-[#565D6D]\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"currentColor\"\n                                        strokeWidth=\"2\"\n                                      >\n                                        <path d=\"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z\" />\n                                        <circle cx=\"12\" cy=\"10\" r=\"3\" />\n                                      </svg>\n                                      <div className=\"flex items-center flex-wrap gap-1\">\n                                        <span className=\"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]\">\n                                           Primary Location:\n                                        </span>\n                                        <span className=\"font-inter text-[12px] leading-5 font-normal capitalize text-[#565D6DFF]\">\n                                          {s.primaryRegion.name || \"‚Äî\"}\n                                        </span>\n                                      </div>\n                                    </div>\n                                  )}\n\n                                  {/* Secondary Location */}\n                                  {s.secondaryRegion?.name && (\n                                    <div className=\"flex items-center gap-2\">\n                                      <svg\n                                        className=\"h-3 w-3 flex-shrink-0 text-[#565D6D]\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"currentColor\"\n                                        strokeWidth=\"2\"\n                                      >\n                                        <path d=\"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z\" />\n                                        <circle cx=\"12\" cy=\"10\" r=\"3\" />\n                                      </svg>\n                                      <div className=\"flex items-center flex-wrap gap-1\">\n                                        <span className=\"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]\"> Secondary Location:\n</span>{\" \"}\n                                        <span className=\"font-inter text-[12px] leading-5 font-normal capitalize text-[#565D6DFF]\">\n                                          {s.secondaryRegion.name}\n                                        </span>\n                                      </div>\n                                    </div>\n                                  )}\n\n                                  {/* Budget */}\n                                  <div className=\"flex items-start gap-2\">\n                                    <svg\n                                      className=\"h-3 w-3 flex-shrink-0 text-[#565D6D]\"\n                                      style={{ color: '#565D6D' }}\n                                      viewBox=\"0 0 24 24\"\n                                      fill=\"none\"\n                                      stroke=\"currentColor\"\n                                      strokeWidth=\"2\"\n                                    >\n                                      <rect x=\"3\" y=\"8\" width=\"18\" height=\"12\" rx=\"2\" />\n                                      <path d=\"M3 12h18M9 8v8\" />\n                                    </svg>\n                                    <div className=\"flex items-center flex-wrap gap-1\">\n                                      <span className=\"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF]\">Budget:</span>{\" \"}\n                                      <span className=\"text-[12px] leading-5 font-normal\" style={{ color: '#565D6D' }}>\n                                        {formatBudgetInCrores(s.budget)}\n                                      </span>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                {/* Bottom Section - Broker Profile and Actions */}\n                                {(() => {\n                                  // Check if createdBy is admin\n                                  let isAdmin = false;\n                                  if (s.createdBy) {\n                                    const createdByObj = s.createdBy as Record<string, unknown>;\n                                    const userId = createdByObj.userId;\n                                    let role: string | undefined;\n                                    \n                                    if (userId && typeof userId === 'object' && userId !== null) {\n                                      role = (userId as { role?: string })?.role;\n                                    }\n                                    role = role || (createdByObj.role as string);\n                                    const roleLower = role ? role.toLowerCase() : '';\n                                    const name = (createdByObj.name as string) || (createdByObj.fullName as string) || (createdByObj.email as string) || \"\";\n                                    \n                                    isAdmin = \n                                      roleLower === 'admin' || \n                                      createdByObj.isAdmin === true ||\n                                      createdByObj.isAdmin === 'true' ||\n                                      (createdByObj.userType as string)?.toLowerCase() === 'admin' ||\n                                      (createdByObj.type as string)?.toLowerCase() === 'admin' ||\n                                      (name.toLowerCase().includes('admin') && !createdByObj.brokerImage && !createdByObj.profileImage) ||\n                                      (createdByObj.email as string)?.toLowerCase().includes('admin');\n                                  }\n                                  \n                                  // Also check if lead itself indicates admin creation\n                                  // If createdBy is null but lead is verified, it might be admin-created\n                                  if (!isAdmin) {\n                                    const leadObj = s as unknown as { [key: string]: unknown };\n                                    const verificationStatus = leadObj[\"verificationStatus\"] as string;\n                                    if (verificationStatus === 'Verified' || verificationStatus === 'verified') {\n                                      isAdmin = \n                                        leadObj[\"adminCreatedBy\"] !== undefined ||\n                                        leadObj[\"createdByAdmin\"] === true ||\n                                        leadObj[\"verifiedByAdmin\"] === true ||\n                                        (!s.createdBy && verificationStatus === 'Verified'); // If verified but no createdBy, likely admin-created\n                                    }\n                                  }\n                                  \n                                  // Show broker section only if createdBy exists or isAdmin\n                                  if (!s.createdBy && !isAdmin) {\n                                    return null;\n                                  }\n                                  \n                                  return (\n                                    <div className=\"pt-4\">\n                                      <div className=\"flex items-center justify-between\">\n                                        <div className=\"flex items-center gap-3\">\n                                          {/* Avatar - Show logo if admin, otherwise show broker image */}\n                                          {isAdmin ? (\n                                            <div className=\"w-12 h-12 rounded-lg bg-white flex items-center justify-center border border-gray-200 relative p-1.5\">\n                                              <img\n                                                src=\"/BROKER_GULLY_FINAL_LOGO_ICON_JPG__1_-removebg-preview.png\"\n                                                alt=\"Broker Gully\"\n                                                className=\"w-full h-full object-contain\"\n                                                onError={(e) => {\n                                                  e.currentTarget.style.display = 'none';\n                                                }}\n                                              />\n                                              <div className=\"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/4 translate-y-1/8\"></div>\n                                            </div>\n                                          ) : s.createdBy?.brokerImage ? (\n                                            <div className=\"w-12 h-12 rounded-full bg-[#E5FCE4FF] overflow-hidden relative\">\n                                              <img\n                                                src={s.createdBy.brokerImage}\n                                                alt={s.createdBy.name || \"\"}\n                                                className=\"w-full h-full object-cover\"\n                                              />\n                                              <div className=\"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/4 translate-y-1/8\"></div>\n                                            </div>\n                                          ) : s.createdBy ? (\n                                            <div className=\"w-12 h-12 rounded-full bg-[#E5FCE4FF] flex items-center justify-center relative\">\n                                              <span className=\"text-sm font-semibold\" style={{ color: '#323743' }}>\n                                                {((s.createdBy.name || \"\").split(' ').map((n) => n[0]).slice(0, 2).join('') || \"‚Äî\").toUpperCase()}\n                                              </span>\n                                              <div className=\"absolute bottom-0 right-0 w-3 h-3 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/2 translate-y-1/2\"></div>\n                                            </div>\n                                          ) : null}\n\n                                          <div className=\"flex-1 min-w-0\">\n                                            {/* If admin, only show chip, no name or chat */}\n                                            {isAdmin ? (\n                                              <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-50 border border-green-200\">\n                                                <svg className=\"w-3 h-3 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                                                </svg>\n                                                <span className=\"font-inter text-[10px] leading-4 font-medium text-green-700\">Verified by Broker Gully</span>\n                                              </span>\n                                            ) : (\n                                              <>\n                                                <div className=\"flex items-center gap-6\">\n                                                  <p className=\"font-inter text-[12px] leading-5 font-medium text-[#171A1FFF] truncate\">\n                                                    {s.createdBy?.name || \"Unknown\"}\n                                                  </p>\n                                                </div>\n\n                                                {/* Connect / Chat */}\n                                                <div className=\"flex items-center gap-3 mt-1\">\n                                                  <button\n                                                    type=\"button\"\n                                                    onClick={(e) => {\n                                                      e.stopPropagation();\n                                                      e.preventDefault();\n                                                      // Check if user is logged in\n                                                      const token = typeof window !== 'undefined' \n                                                        ? localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\")\n                                                        : null;\n                                                      \n                                                      if (!token) {\n                                                        // Redirect to login if not authenticated\n                                                        router.push(`/login?redirect=${path}`);\n                                                        return;\n                                                      }\n                                                      \n                                                      // If logged in, open chat\n                                                      if (typeof window !== 'undefined') {\n                                                        const win = window as Window & { openChatWithBroker?: (params: { broker: unknown }) => void };\n                                                        if (win.openChatWithBroker && broker) {\n                                                          // Ensure broker has correct status format for chat component\n                                                          const brokerAny = broker as Record<string, unknown>;\n                                                          const chatBroker = {\n                                                            ...broker,\n                                                            status: 'active', // Lowercase 'active' for chat component to show \"Active Now\"\n                                                            brokerImage: broker.brokerImage || (brokerAny.profileImage as string) || (brokerAny.image as string) || '',\n                                                            name: broker.name || (brokerAny.fullName as string) || broker.email || 'Unknown'\n                                                          };\n                                                          win.openChatWithBroker({ broker: chatBroker });\n                                                        }\n                                                      }\n                                                    }}\n                                                    className=\"flex items-center gap-2 cursor-pointer\"\n                                                  >\n                                                    <svg\n                                                      className=\"w-3 h-3 fill-none stroke-[#171A1FFF]\"\n                                                      viewBox=\"0 0 24 24\"\n                                                      strokeWidth=\"2\"\n                                                    >\n                                                      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n                                                    </svg>\n                                                    <span className=\"font-inter text-xs leading-5 font-normal text-[#565D6DFF] hover:text-gray-900 transition-colors\">\n                                                      Chat\n                                                    </span>\n                                                  </button>\n                                                </div>\n                                              </>\n                                            )}\n                                          </div>\n                                        </div>\n                                        \n                                        {/* View button - Right side (only for non-admin) */}\n                                        {!isAdmin && (\n                                          <div className=\"flex-shrink-0\">\n                                            {brokerId ? (\n                                              <span\n                                                onClick={(e) => {\n                                                  e.stopPropagation();\n                                                  e.preventDefault();\n                                                  router.push(`/broker-details/${brokerId}`);\n                                                }}\n                                                className=\"text-[12px] font-normal text-[#565D6DFF] hover:text-gray-900 transition-colors cursor-pointer\"\n                                              >\n                                                View\n                                              </span>\n                                            ) : (\n                                              <p className=\"text-[12px] font-normal text-[#565D6DFF]\">View</p>\n                                            )}\n                                          </div>\n                                        )}\n                                      </div>\n                                    </div>\n                                  );\n                                })()}\n                              </div>\n                            </a>\n                            );\n                          })}\n                      </div>\n                    </div>\n\n                    {/* Navigation */}\n                    <div className=\"flex gap-2 mt-4 justify-center\">\n                      <button \n                        type=\"button\"\n                        onClick={() => {\n                          const c = document.getElementById('similar-leads-horizontal');\n                          if (c && canScrollLeft) c.scrollBy({ left: -320, behavior: 'smooth' });\n                        }}\n                        disabled={!canScrollLeft}\n                        className={`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${\n                          canScrollLeft \n                            ? 'bg-yellow-500 text-white hover:bg-yellow-600' \n                            : 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                        }`}\n                        title=\"Previous\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" /></svg>\n                      </button>\n                      <button \n                        type=\"button\"\n                        onClick={() => {\n                          const c = document.getElementById('similar-leads-horizontal');\n                          if (c && canScrollRight) c.scrollBy({ left: 320, behavior: 'smooth' });\n                        }}\n                        disabled={!canScrollRight}\n                        className={`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${\n                          canScrollRight \n                            ? 'bg-yellow-500 text-white hover:bg-yellow-600' \n                            : 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                        }`}\n                        title=\"Next\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" /></svg>\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"bg-white rounded-[10px] p-12 border border-[#DEE1E6] text-center\">\n                    <svg className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n                    </svg>\n                    <p className=\"text-base font-semibold text-gray-900 mb-2\">No similar enquiries  found</p>\n                    <p className=\"text-sm text-gray-600\">We couldn &apos;t find any leads with similar requirements.</p>\n                  </div>\n                )}\n              </div>\n          {/* Footer Section */}\n          <div className=\"rounded-xl p-6 sm:p-7 lg:p-8 bg-[#FFF8E6] border border-yellow-100 pb-16\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6\">\n              <div className=\"max-w-3xl\">\n                <div className=\"text-[12px] text-gray-600 mb-2\">Funded by 1000+ Brokers</div>\n                <h2 className=\"text-[18px] font-bold text-gray-900 mb-3\">Ready to Find Your Perfect Property?</h2>\n                <p className=\"text-[12px] text-gray-700 leading-6\">\n                  Join thousands of buyers & investors who found their dream property with Broker Gully. Get verified leads, expert guidance, and personalized assistance.\n                </p>\n              </div>\n              <div className=\"flex items-center gap-3 shrink-0\">\n                <a \n                  href=\"/search?type=leads\" \n                  className=\"inline-flex items-center justify-center px-5 py-2.5 rounded-md bg-yellow-500 text-gray-900 font-medium text-[12px] hover:bg-yellow-600 transition-colors\"\n                >\n                  Discover All Enquiries \n                </a>\n                <a \n                  href=\"/search?type=brokers\" \n                  className=\"inline-flex items-center justify-center px-5 py-2.5 rounded-md border border-yellow-500 text-yellow-600 font-medium text-[12px] hover:bg-yellow-50 transition-colors\"\n                >\n                  Find Brokers\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}