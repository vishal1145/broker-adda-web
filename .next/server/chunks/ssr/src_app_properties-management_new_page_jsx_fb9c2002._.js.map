{"version":3,"sources":["turbopack:///[project]/src/app/properties-management/new/page.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { toast, Toaster } from \"react-hot-toast\";\nimport ProtectedRoute from \"../../components/ProtectedRoute\";\nimport HeaderFile from \"../../components/Header\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n\nconst NewPropertyPage = ({ propertyId = null, isEditMode = false }) => {\n  const router = useRouter();\n  const [form, setForm] = useState({\n    title: \"\",\n    description: \"\",\n    propertyDescription: \"\",\n    region: \"\",\n    address: \"\",\n    city: \"Agra\",\n    price: \"\",\n    priceUnit: \"INR\",\n    propertySize: \"\",\n    propertyType: \"Residential\",\n    subType: \"Apartment\",\n  });\n  const [loadingProperty, setLoadingProperty] = useState(false);\n  const [amenityInput, setAmenityInput] = useState(\"\");\n  const [amenities, setAmenities] = useState([]);\n  const [nearbyAmenityInput, setNearbyAmenityInput] = useState(\"\");\n  const [nearbyAmenities, setNearbyAmenities] = useState([]);\n  const [featureInput, setFeatureInput] = useState(\"\");\n  const [features, setFeatures] = useState([]);\n  const [locationBenefitInput, setLocationBenefitInput] = useState(\"\");\n  const [locationBenefits, setLocationBenefits] = useState([]);\n  const [imageInput, setImageInput] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [videoInput, setVideoInput] = useState(\"\");\n  const [videos, setVideos] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const fileInputRef = useRef(null);\n  const [videoFiles, setVideoFiles] = useState([]);\n  const videoFileInputRef = useRef(null);\n  const isValidImageUrl = (u) => {\n    if (typeof u !== \"string\") return false;\n    const trimmed = u.trim();\n    if (!trimmed) return false;\n    if (trimmed === \"/images/placeholder-image.png\") return false;\n    return true;\n  };\n  // New property meta fields\n  const amenityPresetOptions = [\n    \"Parking\",\"Power Backup\",\"Lift\",\"Garden\",\"Security\",\"Gym\",\"Water Supply\",\"Swimming Pool\"\n  ];\n  const featurePresetOptions = [\n    \"Modern Design\",\"Spacious\",\"Well Ventilated\",\"Natural Light\",\"Premium Location\"\n  ];\n  const nearbyAmenityPresetOptions = [\n    \"School\",\"Hospital\",\"Shopping Mall\",\"Metro Station\",\"Park\"\n  ];\n  const locationBenefitPresetOptions = [\n    \"Prime Location\",\"Near Highway\",\"City Center\",\"Well Connected\",\"Peaceful Area\"\n  ];\n  const [facingDirection, setFacingDirection] = useState(\"\");\n  const [possessionStatus, setPossessionStatus] = useState(\"\");\n  const [propertyAge, setPropertyAge] = useState(\"\");\n  const [propertyAgeYears, setPropertyAgeYears] = useState(\"\");\n  const addressInputRef = useRef(null);\n  const [coordinates, setCoordinates] = useState({ lat: \"\", lng: \"\" });\n  const regionInputRef = useRef(null);\n  const [bedrooms, setBedrooms] = useState(\"\");\n  const [bathrooms, setBathrooms] = useState(\"\");\n  const [furnishing, setFurnishing] = useState(\"Furnished\");\n  const [status, setStatus] = useState(\"Pending Approval\");\n  const [isFeatured, setIsFeatured] = useState(false);\n  const [isHotProperty, setIsHotProperty] = useState(false);\n  const [notes, setNotes] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  // Wizard steps (match profile page flow style)\n  const [currentStep, setCurrentStep] = useState(1);\n  const totalSteps = 3;\n\n  // Store property data temporarily before regions are loaded\n  const [fetchedPropertyData, setFetchedPropertyData] = useState(null);\n\n  // Load Google Places API script\n  useEffect(() => {\n    const loadGooglePlaces = () => {\n      try {\n        if (window.google && window.google.maps && window.google.maps.places) {\n          setGoogleLoaded(true);\n          return;\n        }\n      } catch {}\n\n      const existingScript = document.querySelector('script[src*=\"maps.googleapis.com\"]');\n      if (existingScript) {\n        existingScript.onload = () => setGoogleLoaded(true);\n        return;\n      }\n\n      const script = document.createElement(\"script\");\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_PLACES_API_KEY}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => setGoogleLoaded(true);\n      script.onerror = () => {\n      };\n      document.head.appendChild(script);\n    };\n\n    loadGooglePlaces();\n    return () => {\n      if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n    };\n  }, []);\n\n  const handleAddressInputChange = (inputValue) => {\n    if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\n    if (!googleLoaded || !window.google || !inputValue || inputValue.length < 1) {\n      setAddressOptions([]);\n      return;\n    }\n    searchTimeoutRef.current = setTimeout(() => {\n      setIsLoadingAddresses(true);\n      const service = new window.google.maps.places.AutocompleteService();\n      service.getPlacePredictions(\n        {\n          input: inputValue,\n          types: [\"establishment\", \"geocode\"],\n          componentRestrictions: { country: \"in\" },\n        },\n        (predictions, status) => {\n          setIsLoadingAddresses(false);\n          if (\n            status === window.google.maps.places.PlacesServiceStatus.OK &&\n            predictions\n          ) {\n            const options = predictions.map((p) => ({\n              value: p.place_id,\n              label: p.description,\n              placeId: p.place_id,\n              description: p.description,\n            }));\n            setAddressOptions(options);\n          } else {\n            setAddressOptions([]);\n          }\n        }\n      );\n    }, 300);\n  };\n\n  const handleAddressChange = (selectedOption) => {\n    setSelectedAddress(selectedOption);\n    setForm((prev) => ({ ...prev, address: selectedOption ? selectedOption.description : \"\" }));\n    // Try to resolve coordinates for later use\n    try {\n      if (window.google && window.google.maps && selectedOption?.placeId) {\n        const service = new window.google.maps.places.PlacesService(document.createElement(\"div\"));\n        service.getDetails({ placeId: selectedOption.placeId }, (place, status) => {\n          if (\n            status === window.google.maps.places.PlacesServiceStatus.OK &&\n            place && place.geometry && place.geometry.location\n          ) {\n            setCoordinates({ lat: place.geometry.location.lat(), lng: place.geometry.location.lng() });\n          }\n        });\n      }\n    } catch {}\n  };\n\n  // Google Places Autocomplete for Address (reuse profile pattern)\n  const [googleLoaded, setGoogleLoaded] = useState(false);\n  const [addressOptions, setAddressOptions] = useState([]);\n  const [selectedAddress, setSelectedAddress] = useState(null);\n  const [isLoadingAddresses, setIsLoadingAddresses] = useState(false);\n  const searchTimeoutRef = useRef(null);\n  const progressPercent = Math.round((currentStep / totalSteps) * 100);\n\n  // Regions API state\n  const [regions, setRegions] = useState([]);\n  const [filteredRegions, setFilteredRegions] = useState([]);\n  const [isRegionDropdownOpen, setIsRegionDropdownOpen] = useState(false);\n  const [regionSearchQuery, setRegionSearchQuery] = useState(\"\");\n  const [regionsLoading, setRegionsLoading] = useState(false);\n  const [regionsError, setRegionsError] = useState(\"\");\n  const [selectedRegionId, setSelectedRegionId] = useState(\"\");\n  const PRICE_MIN = 0;\n  const PRICE_MAX = 100000000; // 10 cr cap, adjust as needed\n  const PRICE_STEP = 10000;\n\n  const formatCurrencyINR = (v) => {\n    if (v === undefined || v === null || v === \"\") return \"₹0\";\n    const num = Number(v);\n    if (Number.isNaN(num)) return \"₹0\";\n    return new Intl.NumberFormat('en-IN', { maximumFractionDigits: 0 }).format(num);\n  };\n\n  // Regions API functions\n  const fetchRegions = async () => {\n    try {\n      setRegionsLoading(true);\n      setRegionsError(\"\");\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'https://broker-adda-be.fly.dev/api'}/regions`);\n      \n      if (!response.ok) {\n        throw new Error(`Failed to fetch regions: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      \n      if (data.success && data.data && data.data.regions) {\n        setRegions(data.data.regions);\n        setFilteredRegions(data.data.regions);\n      } else {\n        throw new Error('Invalid response format from regions API');\n      }\n    } catch (error) {\n      setRegionsError('Failed to load regions');\n    } finally {\n      setRegionsLoading(false);\n    }\n  };\n\n  const searchRegions = (query) => {\n    if (!query) {\n      setFilteredRegions(regions);\n      return;\n    }\n    \n    const lowercaseQuery = query.toLowerCase();\n    const filtered = regions.filter(region => \n      region.name.toLowerCase().includes(lowercaseQuery) ||\n      region.city.toLowerCase().includes(lowercaseQuery) ||\n      region.state.toLowerCase().includes(lowercaseQuery) ||\n      region.description.toLowerCase().includes(lowercaseQuery)\n    );\n    setFilteredRegions(filtered);\n  };\n\n  const formatRegionDisplay = (region) => {\n    if (!region) return '';\n    return `${region.name}, ${region.city}, ${region.state}`;\n  };\n\n  const formatRegionValue = (region) => {\n    if (!region) return '';\n    return `${region.name}, ${region.city}, ${region.state}`;\n  };\n\n  // Load regions on component mount\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  // Fetch property data when in edit mode\n  useEffect(() => {\n    const fetchPropertyData = async () => {\n      if (!isEditMode || !propertyId) return;\n\n      try {\n        setLoadingProperty(true);\n        const token = localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\");\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\n\n        if (!token) {\n          toast.error(\"Please login to edit property\");\n          router.push(\"/properties-management\");\n          return;\n        }\n\n        const response = await fetch(`${apiUrl}/properties/${propertyId}`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          const property = data?.data || data?.property || data;\n          setFetchedPropertyData(property);\n        } else {\n          toast.error(\"Failed to load property data\");\n          router.push(\"/properties-management\");\n        }\n      } catch (error) {\n        toast.error(\"Failed to load property data\");\n        router.push(\"/properties-management\");\n      } finally {\n        setLoadingProperty(false);\n      }\n    };\n\n    fetchPropertyData();\n  }, [isEditMode, propertyId, router]);\n\n  // Bind property data to form when both property data and regions are available\n  useEffect(() => {\n    if (!fetchedPropertyData || !isEditMode) return;\n    if (regions.length === 0 && fetchedPropertyData.region && typeof fetchedPropertyData.region === 'string' && /^[0-9a-fA-F]{24}$/.test(fetchedPropertyData.region)) {\n      // Wait for regions to load if region is an ID\n      return;\n    }\n\n    const property = fetchedPropertyData;\n\n    // Handle region - can be ID, object, or string\n    let regionId = \"\";\n    let regionDisplay = \"\";\n    \n    if (property.region) {\n      if (typeof property.region === 'string') {\n        // Check if it's an ObjectId format (24 hex characters)\n        if (/^[0-9a-fA-F]{24}$/.test(property.region)) {\n          // It's an ID, find the region in the regions list\n          regionId = property.region;\n          const foundRegion = regions.find(r => r._id === property.region);\n          if (foundRegion) {\n            regionDisplay = formatRegionValue(foundRegion);\n            setForm(prev => ({ ...prev, city: foundRegion.city || prev.city }));\n          } else {\n            // Region not found, store ID for later\n            regionId = property.region;\n          }\n        } else {\n          // It's a string (display name)\n          regionDisplay = property.region;\n          // Try to find matching region by name\n          const foundRegion = regions.find(r => formatRegionValue(r) === property.region);\n          if (foundRegion) {\n            regionId = foundRegion._id;\n          }\n        }\n      } else if (typeof property.region === 'object' && property.region !== null) {\n        // Region is an object\n        if (property.region._id) {\n          regionId = property.region._id;\n          regionDisplay = formatRegionValue(property.region);\n          setForm(prev => ({ ...prev, city: property.region.city || prev.city }));\n        } else {\n          // Object without _id, use display value\n          regionDisplay = formatRegionValue(property.region);\n        }\n      }\n    }\n\n    // Populate form fields\n    setForm({\n      title: property.title || \"\",\n      description: property.description || \"\",\n      propertyDescription: property.propertyDescription || property.description || \"\",\n      region: regionDisplay || property.region || \"\",\n      address: property.address || \"\",\n      city: property.city || \"Agra\",\n      price: property.price ? String(property.price) : \"\",\n      priceUnit: property.priceUnit || \"INR\",\n      propertySize: property.propertySize ? String(property.propertySize) : \"\",\n      propertyType: property.propertyType || \"Residential\",\n      subType: property.subType || \"Apartment\",\n    });\n\n    // Populate other fields\n    setAmenities(Array.isArray(property.amenities) ? property.amenities : []);\n    setNearbyAmenities(Array.isArray(property.nearbyAmenities) ? property.nearbyAmenities : []);\n    setFeatures(Array.isArray(property.features) ? property.features : []);\n    setLocationBenefits(Array.isArray(property.locationBenefits) ? property.locationBenefits : []);\n    setImages(Array.isArray(property.images) ? property.images.filter(isValidImageUrl) : []);\n    setVideos(Array.isArray(property.videos) ? property.videos : []);\n    setBedrooms(property.bedrooms ? String(property.bedrooms) : \"\");\n    setBathrooms(property.bathrooms ? String(property.bathrooms) : \"\");\n    setFurnishing(property.furnishing || \"Furnished\");\n    setStatus(property.status || \"Pending Approval\");\n    setIsFeatured(property.isFeatured || false);\n    setIsHotProperty(property.isHotProperty || false);\n    setNotes(property.notes || \"\");\n    setFacingDirection(property.facingDirection || \"\");\n    setPossessionStatus(property.possessionStatus || \"\");\n    setPropertyAge(property.propertyAge || \"\");\n    setPropertyAgeYears(property.propertyAgeYears ? String(property.propertyAgeYears) : \"\");\n    \n    if (property.coordinates) {\n      setCoordinates({\n        lat: property.coordinates.lat ? String(property.coordinates.lat) : \"\",\n        lng: property.coordinates.lng ? String(property.coordinates.lng) : \"\"\n      });\n    }\n\n    // Set selected region ID\n    if (regionId) {\n      setSelectedRegionId(regionId);\n    } else if (property.region && typeof property.region === 'string' && /^[0-9a-fA-F]{24}$/.test(property.region)) {\n      setSelectedRegionId(property.region);\n    }\n  }, [fetchedPropertyData, regions, isEditMode]);\n\n  // Load Google Places script if not present\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    if (window.google && window.google.maps && window.google.maps.places) return;\n    const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;\n    if (!apiKey) return;\n    const existing = document.getElementById('google-places-script');\n    if (existing) return; \n    const script = document.createElement('script');\n    script.id = 'google-places-script';\n    script.async = true;\n    script.defer = true;\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`;\n    document.head.appendChild(script);\n  }, []);\n\n  // Initialize Google Places Autocomplete for address if available\n  useEffect(() => {\n    try {\n      if (typeof window !== 'undefined' && window.google && window.google.maps && window.google.maps.places && addressInputRef.current) {\n        const autocomplete = new window.google.maps.places.Autocomplete(addressInputRef.current, { types: ['geocode'] });\n        autocomplete.addListener('place_changed', () => {\n          const place = autocomplete.getPlace();\n          const formattedAddress = place?.formatted_address || addressInputRef.current.value || '';\n          // Parse city and state from address components\n          let detectedCity = '';\n          let detectedState = '';\n          const comps = place?.address_components || [];\n          comps.forEach((c) => {\n            if ((c.types || []).includes('locality')) detectedCity = c.long_name || c.short_name || detectedCity;\n            if ((c.types || []).includes('administrative_area_level_1')) detectedState = c.long_name || c.short_name || detectedState;\n          });\n\n          setForm((prev) => ({ ...prev, address: formattedAddress, city: detectedCity || prev.city }));\n\n          // Filter regions based on detected city\n          if (detectedCity) {\n            const matches = regions.filter((r) => (r.city || '').toLowerCase() === detectedCity.toLowerCase());\n            setFilteredRegions(matches.length ? matches : regions);\n          }\n        });\n      }\n    } catch (err) {\n      // Fail silently if Google is not available\n    }\n  }, [regions]);\n\n  // Filter regions based on search query\n  useEffect(() => {\n    searchRegions(regionSearchQuery);\n  }, [regionSearchQuery, regions]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isRegionDropdownOpen && !event.target.closest('.region-dropdown')) {\n        setIsRegionDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isRegionDropdownOpen]);\n\n  // Step validations\n  const isNonEmpty = (v) => typeof v === 'string' && v.trim().length > 0;\n  const isPositiveNumber = (v) => v !== '' && !Number.isNaN(Number(v)) && Number(v) > 0;\n\n  const isStep1Valid = () => {\n    return (\n      isNonEmpty(form.title) &&\n      isNonEmpty(form.region) &&\n      isNonEmpty(form.address) &&\n      isPositiveNumber(form.price) &&\n      isNonEmpty(form.city) &&\n      isPositiveNumber(form.propertySize) &&\n      isPositiveNumber(bedrooms) &&\n      isPositiveNumber(bathrooms) &&\n      isNonEmpty(form.propertyType) &&\n      isNonEmpty(form.subType)\n    );\n  };\n\n  const isStep2Valid = () => {\n    return true; // amenities optional\n  };\n\n  const isStep3Valid = () => {\n    return (images.length + imageFiles.length) >= 3; // require at least 3 images\n  };\n\n  const isCurrentStepValid = () => {\n    if (currentStep === 1) return isStep1Valid();\n    if (currentStep === 2) return isStep2Valid();\n    if (currentStep === 3) return isStep3Valid();\n    return false;\n  };\n\n  const goToStep = (step) => {\n    if (step < 1 || step > totalSteps) return;\n    setCurrentStep(step);\n  };\n  const nextStep = (e) => { \n    e.preventDefault();\n    e.stopPropagation();\n    if (currentStep < totalSteps && isCurrentStepValid()) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n  const prevStep = () => { if (currentStep > 1) setCurrentStep(currentStep - 1); };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const addTag = (value, setter, list, clear) => {\n    const v = value.trim();\n    if (!v) return;\n    if (list.includes(v)) {\n      clear(\"\");\n      return;\n    }\n    setter([...list, v]);\n    clear(\"\");\n  };\n\n  const addAmenity = () => {\n    const v = amenityInput.trim();\n    if (!v) return;\n    if (amenities.includes(v)) {\n      setAmenityInput(\"\");\n      return;\n    }\n    setAmenities([...amenities, v]);\n    setAmenityInput(\"\");\n  };\n\n  const removeFrom = (value, setter) => setter((prev) => prev.filter((x) => x !== value));\n\n  // Region dropdown handlers\n  const handleRegionInputChange = (e) => {\n    const query = e.target.value;\n    setRegionSearchQuery(query);\n    setIsRegionDropdownOpen(true);\n    \n    // Update form region value as user types\n    setForm(prev => ({ ...prev, region: query }));\n    // Clear previously selected region id when user types manually\n    setSelectedRegionId(\"\");\n  };\n\n  const handleRegionSelect = (region) => {\n    const regionValue = formatRegionValue(region);\n    setForm(prev => ({ ...prev, region: regionValue }));\n    // Clear search query so dropdown shows all regions when reopened\n    setRegionSearchQuery(\"\");\n    setIsRegionDropdownOpen(false);\n    // Track region id to submit to API\n    setSelectedRegionId(region?._id || \"\");\n    // Auto-fill city from selected region\n    if (region && region.city) {\n      setForm(prev => ({ ...prev, city: region.city }));\n    }\n    // Blur input to prevent dropdown reopening and ensure value visible\n    try { regionInputRef.current && regionInputRef.current.blur(); } catch {}\n  };\n\n  const handleRegionInputFocus = () => {\n    // Clear search query to show all regions when opening dropdown\n    setRegionSearchQuery(\"\");\n    // Ensure all regions are shown immediately\n    if (regions.length > 0) {\n      setFilteredRegions(regions);\n    }\n    setIsRegionDropdownOpen(true);\n  };\n\n  const handleRegionInputKeyDown = (e) => {\n    if (e.key === \"Escape\") {\n      setIsRegionDropdownOpen(false);\n    }\n  };\n\n    const handleSubmit = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Only proceed if we're on the last step (Step 3)\n    if (currentStep !== 3) {\n      toast.error(`Please complete all steps. Currently on step ${currentStep} of 3.`);\n      return;\n    }\n    setSubmitting(true);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        toast.error(\"Please login to create a property\");\n        setSubmitting(false);\n        return;\n      }\n\n      // ✅ Decode JWT token to extract user ID\n      let userId = null;\n      try {\n        const tokenParts = token.split(\".\");\n        if (tokenParts.length === 3) {\n          const payload = JSON.parse(atob(tokenParts[1]));\n          userId =\n            payload?.userId ||\n            payload?.user?._id ||\n            payload?.user?.id ||\n            payload?._id ||\n            payload?.id ||\n            payload?.sub ||\n            null;\n        }\n      } catch (err) {\n      }\n\n      if (!userId) {\n        toast.error(\"Failed to extract user ID from token. Please re-login.\");\n        setSubmitting(false);\n        return;\n      }\n\n      // ✅ Fetch broker details using userId\n      let brokerId = null;\n      let userRole = null;\n      try {\n        const brokerRes = await fetch(\n          `${process.env.NEXT_PUBLIC_API_URL || \"https://broker-adda-be.fly.dev/api\"}/brokers/${userId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (brokerRes.ok) {\n          const brokerData = await brokerRes.json();\n          brokerId =\n            brokerData?._id ||\n            brokerData?.broker?._id ||\n            brokerData?.data?._id ||\n            brokerData?.data?.broker?._id ||\n            null;\n            userRole = brokerData?.data?.broker?.role;\n        }\n      } catch (err) {\n      }\n\n      if (!brokerId) {\n        toast.error(\"Broker not found for this account.\");\n        setSubmitting(false);\n        return;\n      }\n\n      // ✅ Prepare form data for API\n      const formData = new FormData();\n      formData.append(\"title\", form.title);\n      formData.append(\"description\", form.description || \"\");\n      formData.append(\"propertyDescription\", form.propertyDescription || \"\");\n      formData.append(\"propertySize\", form.propertySize || \"\");\n      formData.append(\"propertyType\", form.propertyType);\n      formData.append(\"subType\", form.subType);\n      formData.append(\"price\", form.price);\n      formData.append(\"priceUnit\", form.priceUnit);\n      formData.append(\"address\", form.address || \"\");\n      formData.append(\"city\", form.city);\n      // Resolve region to a valid ObjectId for API\n      let regionIdToSend = selectedRegionId;\n      if (!regionIdToSend && form.region) {\n        const match = regions.find((r) => formatRegionValue(r) === form.region);\n        if (match && match._id) {\n          regionIdToSend = match._id;\n          setSelectedRegionId(match._id);\n        }\n      }\n      if (!regionIdToSend) {\n        toast.error(\"Please select a valid region from the list.\");\n        setSubmitting(false);\n        return;\n      }\n      formData.append(\"region\", regionIdToSend);\n\n      // Coordinates - removed as not allowed by API validation\n\n      // Property details\n      formData.append(\"bedrooms\", bedrooms || \"0\");\n      formData.append(\"bathrooms\", bathrooms || \"0\");\n      formData.append(\"furnishing\", furnishing);\n\n      // Arrays\n      amenities.forEach((a) => formData.append(\"amenities[]\", a));\n      nearbyAmenities.forEach((a) => formData.append(\"nearbyAmenities[]\", a));\n      features.forEach((f) => formData.append(\"features[]\", f));\n      locationBenefits.forEach((b) => formData.append(\"locationBenefits[]\", b));\n      \n      // Handle videos - explicitly send empty array if all removed (for update mode)\n      if (isEditMode && videos.length === 0 && videoFiles.length === 0) {\n        // For updates, explicitly send empty array to clear videos\n        formData.append(\"videos\", \"\");\n      } else {\n        videos.forEach((v) => formData.append(\"videos[]\", v));\n        videoFiles.forEach((f) => formData.append(\"videos\", f));\n      }\n      \n      // Handle images - explicitly send empty array if all removed (for update mode)\n      if (isEditMode && images.length === 0 && imageFiles.length === 0) {\n        // For updates, explicitly send empty array to clear images\n        formData.append(\"images\", \"\");\n      } else {\n        images.forEach((url) => formData.append(\"images[]\", url));\n        imageFiles.forEach((f) => formData.append(\"images\", f));\n      }\n\n      // Other fields\n      formData.append(\"status\", status);\n      formData.append(\"isFeatured\", isFeatured.toString());\n      formData.append(\"isHotProperty\", isHotProperty.toString());\n      formData.append(\"notes\", notes || \"\");\n      if (facingDirection) formData.append(\"facingDirection\", facingDirection);\n      if (possessionStatus) formData.append(\"possessionStatus\", possessionStatus);\n      // Map UI selection to numeric years for backend\n      let ageYearsToSend = propertyAgeYears;\n      if (!ageYearsToSend && propertyAge) {\n        if (propertyAge === \"New\") ageYearsToSend = \"0\";\n        else if (propertyAge === \"<5 Years\") ageYearsToSend = \"3\";\n        else if (propertyAge === \"<10 Years\") ageYearsToSend = \"8\";\n        else if (propertyAge === \">10 Years\") ageYearsToSend = \"11\";\n      }\n      if (ageYearsToSend !== undefined && ageYearsToSend !== null && `${ageYearsToSend}` !== \"\") {\n        formData.append(\"propertyAgeYears\", `${ageYearsToSend}`);\n      }\n      // optionally send postedBy and verificationStatus defaults\n      formData.append(\"postedBy\", \"Broker\");\n      formData.append(\"verificationStatus\", \"Unverified\");\n\n      // ✅ Append valid broker ID\n      formData.append(\"broker\", brokerId);\n\n      // ✅ API call to create or update property\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || \"https://broker-adda-be.fly.dev/api\";\n      const url = isEditMode && propertyId \n        ? `${apiUrl}/properties/${propertyId}`\n        : `${apiUrl}/properties`;\n      const method = isEditMode && propertyId ? \"PUT\" : \"POST\";\n\n      const response = await fetch(url, {\n        method: method,\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body: formData,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `Failed to ${isEditMode ? 'update' : 'create'} property`);\n      }\n\n      const result = await response.json();\n      toast.success(`Property ${isEditMode ? 'updated' : 'created'} successfully!`, {\n        duration: 3000,\n        icon: '✅',\n      });\n\n      // ✅ Navigate to properties management page after success\n      setTimeout(() => {\n        router.push(\"/properties-management\");\n      }, 2000); // Navigate after 2 seconds to show success message\n    } catch (err) {\n      toast.error(err.message || \"Failed to create property. Please try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Show loading state while fetching property data\n  if (loadingProperty && isEditMode) {\n    return (\n      <ProtectedRoute>\n        <HeaderFile\n          data={{\n            title: \"Edit Property\",\n            breadcrumb: [\n              { label: \"Home\", href: \"/\" },\n              { label: \"Properties\", href: \"/properties-management\" },\n              { label: \"Edit\", href: `/properties-management/edit/${propertyId}` },\n            ],\n          }}\n        />\n        <div className=\"min-h-screen bg-white flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-900 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Loading property data...</p>\n          </div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  return (\n    <ProtectedRoute>\n      {/* Google Places dropdown styles */}\n      <link rel=\"stylesheet\" href=\"/google-places.css\" />\n      <Toaster \n        position=\"top-right\"\n        toastOptions={{\n          duration: 4000,\n          style: {\n            background: '#363636',\n            color: '#fff',\n          },\n          success: {\n            duration: 3000,\n            iconTheme: {\n              primary: '#4ade80',\n              secondary: '#fff',\n            },\n          },\n          error: {\n            duration: 4000,\n            iconTheme: {\n              primary: '#ef4444',\n              secondary: '#fff',\n            },\n          },\n        }}\n      />\n      <HeaderFile\n        data={{\n          title: isEditMode ? \"Edit Property\" : \"Add New Property\",\n          breadcrumb: [\n            { label: \"Home\", href: \"/\" },\n            { label: \"Properties\", href: \"/properties-management\" },\n            { label: isEditMode ? \"Edit\" : \"Add New\", href: isEditMode ? `/properties-management/edit/${propertyId}` : \"/properties-management/new\" },\n          ],\n        }}\n      />\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"w-full px-4 md:px-0 py-8 max-w-none\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-4\">\n               <div>\n                 <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{isEditMode ? \"Edit Property\" : \"Add New Property\"}</h1>\n                 <p className=\"text-gray-600\">{isEditMode ? \"Update your property listing details\" : \"Create a new property listing with all the details\"}</p>\n               \n               </div>\n              <Link \n                href=\"/properties-management\" \n                className=\"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n                </svg>\n                Back to Properties\n              </Link>\n            </div>\n          </div>\n\n          {/* Layout: form + right sidebar like profile page */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start\">\n          {/* Left header progress bar (profile-style card) */}\n          <div className=\"col-span-12 lg:col-span-8 \">\n          <div className=\"\">\n            <div className=\"mb-4\">\n              <div className=\"flex items-center justify-between\">\n                  {Array.from({ length: totalSteps }, (_, i) => i + 1).map((step, idx) => {\n                    const isActive = step === currentStep;\n                    const isCompleted = step < currentStep;\n                    const circleClass = isCompleted\n                      ? \"bg-green-900 text-white\"\n                      : isActive\n                      ? \"bg-green-700 text-white\"\n                      : \"bg-gray-300 text-gray-500\";\n                    return (\n                      <React.Fragment key={step}>\n                        <button\n                          type=\"button\"\n                          onClick={() => goToStep(step)}\n                          className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${circleClass} transition-all ${isActive || isCompleted ? 'cursor-pointer' : 'cursor-not-allowed'}`}\n                        >\n                          {step}\n                        </button>\n                        {idx < totalSteps - 1 && (\n                          <div className={`${step < currentStep ? 'bg-green-900' : 'bg-gray-200'} flex-1 h-1 mx-1`} />\n                        )}\n                      </React.Fragment>\n                    );\n                  })}\n                </div>\n                <div className=\"flex items-center justify-between text-xs mt-2\">\n                  <span className=\"text-gray-600\">{progressPercent}% Completed</span>\n                </div>\n                <div className=\"w-full h-7 relative\">\n                  <div className=\"absolute top-2.5 left-0 w-full h-2 bg-[#9AEFBD] rounded-md overflow-hidden\">\n                    <div className=\"absolute left-0 top-0 h-full bg-[#0D542B] transition-all duration-300 ease-in-out\" style={{ width: `${(currentStep / totalSteps) * 100}%` }} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* Form (left) */}\n          <form onSubmit={(e) => {\n            if (currentStep !== 3) {\n              e.preventDefault();\n              e.stopPropagation();\n              return false;\n            }\n            return handleSubmit(e);\n          }} className=\"  \">\n            \n            {/* Stepper moved to right sidebar */}\n\n            <div className=\" space-y-8\">\n              {/* Basic Information Section */}\n              {currentStep === 1 && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200\">\n      <div className=\"w-5 h-5 flex items-center justify-center\">\n        <svg className=\"w-4 h-4 text-gray-900\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-base font-semibold text-gray-900\">Basic Information</h3>\n                </div>\n                \n    {/* Title and Address (Address above Region) */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Property Title *</label>\n                    <input \n                      name=\"title\" \n                      value={form.title} \n                      onChange={handleChange} \n                      onKeyDown={(e) => { if(e.key === 'Enter') e.preventDefault(); }}\n          className={`w-full rounded-xl text-[13px] px-3 py-2 focus:outline-none transition-all duration-200 ${\n            isNonEmpty(form.title)\n              ? 'border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:border-transparent'\n              : 'border border-red-300 focus:ring-2 focus:ring-red-400'\n          }`}\n                      placeholder=\"Enter property title\" \n                      required\n                    />\n                    {!isNonEmpty(form.title) && (<p className=\"text-xs text-red-600\">Title is required.</p>)}\n                  </div>\n                  \n      <div className=\"space-y-2\">\n        <label className=\"block text-sm font-medium text-gray-700\">Address *</label>\n        <Select\n          value={selectedAddress || (form.address ? { value: form.address, label: form.address, description: form.address } : null)}\n          onChange={handleAddressChange}\n          onInputChange={handleAddressInputChange}\n          options={addressOptions}\n          placeholder={googleLoaded ? \"Search address...\" : \"Loading address search...\"}\n          isClearable\n          isSearchable\n          isLoading={isLoadingAddresses}\n          noOptionsMessage={() => \"No addresses found\"}\n          loadingMessage={() => \"Searching addresses...\"}\n          classNamePrefix=\"react-select\"\n          styles={{\n            control: (base, state) => ({\n              ...base,\n              minHeight: 42,\n              borderRadius: 12,\n              borderColor: isNonEmpty(form.address) ? '#D1D5DB' : '#FCA5A5',\n              boxShadow: state.isFocused ? (isNonEmpty(form.address) ? '0 0 0 2px #9CA3AF' : '0 0 0 2px #FCA5A5') : 'none',\n              '&:hover': { borderColor: isNonEmpty(form.address) ? '#9CA3AF' : '#FCA5A5' },\n              fontSize: 13,\n            }),\n            menu: (base) => ({ ...base, zIndex: 50 }),\n            option: (base, state) => ({\n              ...base,\n              fontSize: '12px',\n              padding: '8px 12px',\n              color: state.isSelected || state.isFocused ? '#065f46' : '#374151',\n              backgroundColor: state.isSelected \n                ? '#d1fae5' \n                : state.isFocused \n                ? '#f0fdf4' \n                : '#ffffff',\n              '&:active': {\n                backgroundColor: '#d1fae5',\n              },\n            }),\n            singleValue: (base) => ({\n              ...base,\n              fontSize: '13px',\n            }),\n            input: (base) => ({\n              ...base,\n              fontSize: '13px',\n            }),\n          }}\n        />\n        {!isNonEmpty(form.address) && (<p className=\"text-xs text-red-600\">Address is required.</p>)}\n      </div>\n    </div>\n\n    {/* Region and City in one row */}\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Region *</label>\n                    <div className=\"relative region-dropdown\">\n                      <input\n                        type=\"text\"\n                        name=\"region\"\n                        value={regionSearchQuery !== \"\" ? regionSearchQuery : form.region}\n                        ref={regionInputRef}\n                        onChange={handleRegionInputChange}\n                        onFocus={handleRegionInputFocus}\n                        onKeyDown={handleRegionInputKeyDown}\n                        onClick={handleRegionInputFocus}\n            className={`w-full rounded-xl text-[13px] px-3 py-2 focus:outline-none transition-all duration-200 ${\n                          !isNonEmpty(form.region) \n                            ? 'border border-red-300 focus:ring-2 focus:ring-red-400' \n                : 'border border-gray-300 focus:ring-2 focus:ring-gray-400 focus:border-transparent'\n                        }`}\n                        placeholder=\"Select a region...\"\n                        required\n                        autoComplete=\"off\"\n                      />\n                      <div className=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n                        <svg\n              className={`w-5 h-5 text-gray-400 transition-transform duration-200 ${isRegionDropdownOpen ? \"rotate-180\" : \"\"}`}\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </div>\n                      {isRegionDropdownOpen && (\n                        <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-xl shadow-lg max-h-60 overflow-y-auto\">\n                          {regionsLoading ? (\n                            <div className=\"px-4 py-3 text-sm text-gray-500 flex items-center gap-2\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600\"></div>\n                              Loading regions...\n                            </div>\n                          ) : regionsError ? (\n                <div className=\"px-4 py-3 text-sm text-red-600\">{regionsError}</div>\n                          ) : filteredRegions.length === 0 && regions.length === 0 ? (\n                            <div className=\"px-4 py-3 text-sm text-gray-500\">\n                              No regions available\n                            </div>\n                          ) : filteredRegions.length === 0 && regionSearchQuery ? (\n                            <div className=\"px-4 py-3 text-sm text-gray-500\">\n                              No regions found\n                            </div>\n                          ) : filteredRegions.length === 0 ? (\n                            <div className=\"px-4 py-3 text-sm text-gray-500\">\n                              Loading regions...\n                            </div>\n                          ) : (\n                            <ul className=\"py-1\">\n                              {filteredRegions.map((region) => (\n                                <li key={region._id}>\n                                  <button\n                                    type=\"button\"\n                                    onClick={() => handleRegionSelect(region)}\n                                    className=\"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 focus:bg-gray-50 focus:outline-none cursor-pointer\"\n                                  >\n                        <div className=\"font-medium text-gray-900\">{region.name}</div>\n                        <div className=\"text-xs text-gray-500\">{region.city}, {region.state}</div>\n                                  </button>\n                                </li>\n                              ))}\n                            </ul>\n                          )}\n                        </div>\n                      )}\n                    </div>\n        {!isNonEmpty(form.region) && (<p className=\"text-xs text-red-600\">Region is required.</p>)}\n                </div>\n                \n                <div className=\"space-y-2\">\n        <label className=\"block text-sm font-medium text-gray-700\">City (auto)</label>\n        <input\n          name=\"city\"\n          value={form.city}\n          readOnly\n          className=\"w-full rounded-xl text-[13px] px-3 py-2 border border-gray-200 bg-gray-50 text-gray-700\"\n          placeholder=\"Auto-filled from address/region\"\n        />\n      </div>\n                </div>\n                \n    {/* Property meta quick picks */}\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Facing Direction</label>\n        <div className=\"flex flex-wrap gap-2\">\n          {[\"North\",\"East\",\"South\",\"West\"].map(opt => (\n            <button\n              key={opt}\n              type=\"button\"\n              onClick={()=>setFacingDirection(opt)}\n              className={`px-2.5 py-1 rounded-md text-[12px] border transition-colors ${\n                facingDirection===opt\n                  ? 'bg-gray-200 text-gray-900 border-gray-300'\n                  : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n              }`}\n            >\n              {opt}\n            </button>\n          ))}\n                </div>\n              </div>\n\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Possession Status</label>\n        <div className=\"flex flex-wrap gap-2\">\n          {[\"Ready to Move\",\"Under Construction\",\"Upcoming\"].map(opt => (\n            <button\n              key={opt}\n              type=\"button\"\n              onClick={()=>setPossessionStatus(opt)}\n              className={`px-2.5 py-1 rounded-md text-[12px] border transition-colors ${\n                possessionStatus===opt\n                  ? 'bg-gray-200 text-gray-900 border-gray-300'\n                  : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n              }`}\n            >\n              {opt}\n            </button>\n          ))}\n                  </div>\n                </div>\n                \n       \n          </div>\n                \n    {/* Property Details & Pricing Section (Step 1) */}\n    <div className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Price *</label>\n          <div className=\"flex items-center justify-between\">\n                    \n            <div className=\"w-full\">\n              <div className=\"relative\">\n                <span className=\"absolute inset-y-0 left-2 flex items-center text-gray-500\">₹</span>\n                    <input \n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  pattern=\"[0-9]*\"\n                      value={form.price} \n                  onChange={(e) => {\n                    const raw = e.target.value;\n                    if (raw === \"\" || /^[0-9]+$/.test(raw)) {\n                      setForm((prev) => ({ ...prev, price: raw }));\n                    }\n                  }}\n                  className={`pl-6 pr-3 py-2 text-[13px] rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-200 ${!isPositiveNumber(form.price) ? 'border border-red-300 bg-white' : 'border border-gray-300 bg-white'}`}\n                  aria-label=\"Price\"\n                      name=\"price\" \n                      required\n                    />\n              </div>\n              <input \n                type=\"range\" \n                min={PRICE_MIN} \n                max={PRICE_MAX} \n                step={PRICE_STEP}\n                value={Number(form.price || 0)}\n                onChange={(e)=> setForm(prev=> ({...prev, price: String(Number(e.target.value)) }))}\n                className=\"w-full mt-2 accent-green-900\"\n              />\n            </div>\n                  </div>\n                    {!isPositiveNumber(form.price) && (<p className=\"text-xs text-red-600\">Enter a valid price.</p>)}\n                  </div>\n                  \n         {/* Property Age on the right of Price */}\n                  <div className=\"space-y-2\">\n           <label className=\"block text-sm font-medium text-gray-700\">Property Age</label>\n           <div className=\"flex flex-wrap gap-2\">\n             {[\"New\",\"<5 Years\",\"<10 Years\",\">10 Years\"].map(opt => (\n               <button\n                 key={opt}\n                 type=\"button\"\n                 onClick={()=>setPropertyAge(opt)}\n                 className={`px-2.5 py-1 rounded-md text-[12px] border transition-colors ${\n                   propertyAge===opt\n                     ? 'bg-gray-200 text-gray-900 border-gray-300'\n                     : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                 }`}\n               >\n                 {opt}\n               </button>\n             ))}\n                  </div>\n          </div>\n                </div>\n                \n       {/* Property detail fields */}\n       <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Property Size (sqft)</label>\n                    <input \n                      type=\"number\" \n                      name=\"propertySize\" \n                      value={form.propertySize} \n                      onChange={handleChange} \n                      onKeyDown={(e) => { if(e.key === 'Enter') e.preventDefault(); }}\n            className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\n                      placeholder=\"e.g. 1200\"\n                    />\n            </div>\n                  \n                  <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">Bedrooms (BHK)</label>\n          <div className=\"flex flex-wrap gap-2\">\n            {[\"1\",\"2\",\"3\",\"4\",\"5+\"].map(opt => {\n              const on = (bedrooms === opt) || (opt==='5+' && Number(bedrooms) >= 5);\n              return (\n                <button\n                  key={opt}\n                  type=\"button\"\n                  onClick={()=>setBedrooms(opt === '5+' ? '5' : opt)}\n                  className={`px-2.5 py-1 rounded-md text-[12px] border transition-colors ${\n                    on ? 'bg-gray-200 text-gray-900 border-gray-300' : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                  }`}\n                >\n                  {opt}\n                </button>\n              );\n            })}\n          </div>\n            </div>\n                  \n       </div>\n\n       {/* Bathrooms + Property Type */}\n       <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Bathrooms</label>\n           <div className=\"flex flex-wrap gap-2\">\n             {[\"1\",\"2\",\"3\",\"4\",\"5+\"].map(opt => {\n               const on = (bathrooms === opt) || (opt==='5+' && Number(bathrooms) >= 5);\n               return (\n                 <button\n                   key={opt}\n                   type=\"button\"\n                   onClick={()=>setBathrooms(opt === '5+' ? '5' : opt)}\n                   className={`px-2.5 py-1 rounded-md text-[12px] border transition-colors ${\n                     on ? 'bg-gray-200 text-gray-900 border-gray-300' : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                   }`}\n                 >\n                   {opt}\n                 </button>\n               );\n             })}\n            </div>\n          </div>\n                \n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Property Type *</label>\n                    <select \n                      name=\"propertyType\" \n                      value={form.propertyType} \n                      onChange={handleChange} \n            className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\n                      required\n                    >\n                <option>Residential</option>\n                <option>Commercial</option>\n                <option>Plot</option>\n                <option>Other</option>\n              </select>\n            </div>\n                  \n       </div>\n\n       {/* Sub Type + Furnishing */}\n       <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Sub Type</label>\n                    <select \n                      name=\"subType\" \n                      value={form.subType} \n                      onChange={handleChange} \n             className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\n                    >\n                <option>Apartment</option>\n                <option>Villa</option>\n                <option>Office</option>\n                <option>Shop</option>\n                <option>Land</option>\n                <option>Other</option>\n              </select>\n            </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Furnishing</label>\n                    <select \n                      value={furnishing} \n                      onChange={(e)=>setFurnishing(e.target.value)} \n             className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\n                    >\n                <option>Furnished</option>\n                <option>Semi-Furnished</option>\n                <option>Unfurnished</option>\n              </select>\n            </div>\n          </div>\n\n      <div className=\"space-y-2\">\n        <label className=\"block text-sm font-medium text-gray-700\">Short Description</label>\n        <textarea\n          name=\"description\"\n          value={form.description}\n          onChange={handleChange}\n          rows={2}\n          className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none\"\n          placeholder=\"Brief description of the property\"\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <label className=\"block text-sm font-medium text-gray-700\">Detailed Description</label>\n        <textarea\n          name=\"propertyDescription\"\n          value={form.propertyDescription}\n          onChange={handleChange}\n          rows={3}\n          className=\"w-full border border-gray-300 rounded-xl text-[13px] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none\"\n          placeholder=\"Comprehensive description with all details\"\n        />\n      </div>\n    </div>\n            </div>\n              )}\n\n              {/* Amenities Section (Step 2) */}\n              {currentStep === 2 && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200\">\n                  <div className=\"w-5 h-5 flex items-center justify-center\">\n                    <svg className=\"w-4 h-4 text-gray-900\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\n                    </svg>\n            </div>\n                  <h3 className=\"text-base font-semibold text-gray-900\">Amenities & Features</h3>\n          </div>\n                \n                {/* Property Amenities with preset chips */}\n                <div className=\"space-y-3\">\n                  <label className=\"block text-sm font-semibold text-gray-900\">Property Amenities</label>\n                  \n                  {/* All chips in one line: preset + custom */}\n                  <div className=\"flex flex-wrap gap-2\">\n                    {/* Preset amenities as clickable chips */}\n                    {amenityPresetOptions.map((preset) => {\n                      const isSelected = amenities.includes(preset);\n                      return (\n                        <button\n                          key={preset}\n                          type=\"button\"\n                          onClick={() => {\n                            if (isSelected) {\n                              removeFrom(preset, setAmenities);\n                            } else {\n                              if (!amenities.includes(preset)) {\n                                setAmenities(prev => [...prev, preset]);\n                              }\n                            }\n                          }}\n                          className={`px-3 py-1.5 rounded-full text-[12px] border transition-colors ${\n                            isSelected\n                              ? 'bg-green-900 text-white border-green-900'\n                              : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                          }`}\n                        >\n                          {preset}\n                          {isSelected && <span className=\"ml-1\">✓</span>}\n                        </button>\n                      );\n                    })}\n                    \n                    {/* Custom amenities as chips (not in preset list) */}\n                    {amenities.filter(a => !amenityPresetOptions.includes(a)).map(a => (\n                      <button\n                        key={a}\n                        type=\"button\"\n                        onClick={() => removeFrom(a, setAmenities)}\n                        className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors\"\n                      >\n                        {a}\n                        <span className=\"ml-1\">✓</span>\n                      </button>\n                    ))}\n                  </div>\n                  \n                  {/* Custom input field - below chips */}\n                  <input\n                    type=\"text\"\n                    value={amenityInput}\n                    onChange={(e) => setAmenityInput(e.target.value)}\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter') {\n                        e.preventDefault();\n                        addAmenity();\n                      }\n                    }}\n                    className=\"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200\"\n                    placeholder=\"Type amenity and press Enter to add\"\n                  />\n                </div>\n\n        \n                \n              \n                {/* Step navigation removed; use global bottom controls */}\n            </div>\n              )}\n              {/* Images (Step 3) - 3-Step Media Upload */}\n              {currentStep === 3 && (\n              <div className=\" gap-6\">\n                {/* Left Side - 3 Steps Interface */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                <div className=\"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200\">\n                  <div className=\"w-5 h-5 flex items-center justify-center\">\n                    <svg className=\"w-4 h-4 text-gray-900\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A2 2 0 0122 9.528v4.944a2 2 0 01-2.447 1.804L15 14m0-4v4m0-4L9 6m6 8l-6 4m0-12v8m0 0L3.447 9.528A2 2 0 013 7.724V2.78A2 2 0 015.447.976L9 2.5\" />\n                              </svg>\n                  </div>\n                  <h3 className=\"text-base font-semibold text-gray-900\">Media & Publishing</h3>\n                </div>\n\n\n                  {/* Step 1: Add Images */}\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <label className=\"block text-sm font-semibold text-gray-900\">Step 1: Add Images (min 3)</label>\n                      <span className=\"text-xs text-gray-500\">{images.length + imageFiles.length} / 3 minimum</span>\n                    </div>\n                    {/* Clickable upload area */}\n                    <div \n                      onClick={()=>{ fileInputRef.current && fileInputRef.current.click(); }}\n                      className=\"border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-green-500 hover:bg-green-50 transition-all duration-200 cursor-pointer flex flex-col items-center justify-center py-12 px-4\"\n                    >\n                      <svg className=\"w-12 h-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                      <span className=\"text-sm font-medium text-gray-600\">Add Images</span>\n                      <span className=\"text-xs text-gray-400 mt-1\">Click to upload or drag and drop</span>\n                    <input \n                      ref={fileInputRef}\n                      type=\"file\" \n                      multiple \n                      accept=\"image/*\" \n                      onChange={(e)=>{ const files = Array.from(e.target.files || []); if(files.length){ setImageFiles((prev)=>[...prev, ...files]); } }} \n                      className=\"hidden\" \n                    />\n            </div>\n                    \n                    {/* Image Gallery Grid */}\n                    {(images.length > 0 || imageFiles.length > 0) && (\n                      <div className=\"grid grid-cols-3 gap-3 mt-4\">\n                        {/* URL Images */}\n                        {images\n                          .filter((url) => isValidImageUrl(url))\n                          .map((url, idx) => (\n                            <div key={`url-${idx}`} className=\"relative group aspect-square\">\n                              <img \n                                src={url} \n                                alt={`Image ${idx + 1}`} \n                                className=\"w-full h-full object-cover rounded-lg border border-gray-200\"\n                                onError={(e) => { \n                                  e.target.onerror = null;\n                                  e.target.src = '';\n                                }}\n                              />\n                              <button\n                                type=\"button\"\n                                onClick={(e) => { e.stopPropagation(); removeFrom(url, setImages); }}\n                                className=\"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs shadow-lg\"\n                              >\n                                ×\n                              </button>\n                </div>\n                          ))}\n                        {/* File Images */}\n                        {imageFiles.map((file, idx) => {\n                          const url = URL.createObjectURL(file);\n                          return (\n                            <div key={`file-${idx}`} className=\"relative group aspect-square\">\n                              <img \n                                src={url} \n                                alt={file.name} \n                                className=\"w-full h-full object-cover rounded-lg border border-gray-200\"\n                                onError={(e) => {\n                                  e.target.onerror = null;\n                                  e.target.src = '';\n                                }}\n                              />\n                              <button\n                                type=\"button\"\n                                onClick={(e) => { e.stopPropagation(); setImageFiles((prev) => prev.filter((_, i) => i !== idx)); }}\n                                className=\"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs shadow-lg\"\n                              >\n                                ×\n                              </button>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Step 2: Add Videos */}\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <label className=\"block text-sm font-semibold text-gray-900\">Step 2: Add Videos (optional)</label>\n                      <span className=\"text-xs text-gray-500\">{videos.length + videoFiles.length} added</span>\n                    </div>\n                    {/* Clickable upload area for videos */}\n                    <div \n                      onClick={()=>{ videoFileInputRef.current && videoFileInputRef.current.click(); }}\n                      className=\"border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-green-500 hover:bg-green-50 transition-all duration-200 cursor-pointer flex flex-col items-center justify-center py-12 px-4\"\n                    >\n                      <svg className=\"w-12 h-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A2 2 0 0122 9.528v4.944a2 2 0 01-2.447 1.804L15 14m0-4v4m0-4L9 6m6 8l-6 4m0-12v8m0 0L3.447 9.528A2 2 0 013 7.724V2.78A2 2 0 015.447.976L9 2.5\" />\n                      </svg>\n                      <span className=\"text-sm font-medium text-gray-600\">Add Videos</span>\n                      <span className=\"text-xs text-gray-400 mt-1\">Click to upload video files</span>\n                      <input \n                        ref={videoFileInputRef}\n                        type=\"file\" \n                        multiple \n                        accept=\"video/*\" \n                        onChange={(e)=>{ const files = Array.from(e.target.files || []); if(files.length){ setVideoFiles((prev)=>[...prev, ...files]); } }} \n                        className=\"hidden\" \n                      />\n                    </div>\n                    \n                    {/* Video Preview List */}\n                    {(videos.length > 0 || videoFiles.length > 0) && (\n                      <div className=\"grid grid-cols-1 gap-2 mt-4\">\n                        {/* URL Videos */}\n                        {videos.map((url, idx) => (\n                          <div key={`video-url-${idx}`} className=\"relative group bg-gray-100 rounded-lg p-3 flex items-center gap-3\">\n                            <svg className=\"w-8 h-8 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                            <span className=\"text-xs text-gray-600 truncate flex-1\">{url}</span>\n                            <button\n                              type=\"button\"\n                              onClick={(e) => { e.stopPropagation(); removeFrom(url, setVideos); }}\n                              className=\"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs flex-shrink-0\"\n                            >\n                              ×\n                            </button>\n                          </div>\n                        ))}\n                        {/* File Videos */}\n                        {videoFiles.map((file, idx) => (\n                          <div key={`video-file-${idx}`} className=\"relative group bg-gray-100 rounded-lg p-3 flex items-center gap-3\">\n                            <svg className=\"w-8 h-8 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                            <span className=\"text-xs text-gray-600 truncate flex-1\">{file.name}</span>\n                            <button\n                              type=\"button\"\n                              onClick={(e) => { e.stopPropagation(); setVideoFiles((prev) => prev.filter((_, i) => i !== idx)); }}\n                              className=\"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs flex-shrink-0\"\n                            >\n                              ×\n                            </button>\n              </div>\n                ))}\n          </div>\n                )}\n          </div>\n\n                  {/* Step 3: Notes */}\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Notes</label>\n                    <textarea \n                      value={notes} \n                      onChange={(e)=>setNotes(e.target.value)} \n                      rows={2} \n                      className=\"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none\" \n                      placeholder=\"Internal notes (optional)\" \n                    />\n                  </div>\n\n                  {/* Hot Property Toggle */}\n                  <div className=\"space-y-2 mt-4\">\n                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={isHotProperty}\n                        onChange={(e) => setIsHotProperty(e.target.checked)}\n                        className=\"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2\"\n                      />\n                      <span className=\"text-sm font-medium text-gray-700\">Hot Property</span>\n                    </label>\n                    <p className=\"text-xs text-gray-500 ml-8\">Mark this property as a hot/urgent listing</p>\n                  </div>\n                </div>\n\n               \n              </div>\n              )}\n          {currentStep === 2 && (\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-semibold text-gray-900\">Nearby Amenities</label>\n            \n            {/* All chips in one line: preset + custom */}\n            <div className=\"flex flex-wrap gap-2\">\n              {/* Preset nearby amenities as clickable chips */}\n              {nearbyAmenityPresetOptions.map((preset) => {\n                const isSelected = nearbyAmenities.includes(preset);\n                return (\n                  <button\n                    key={preset}\n                    type=\"button\"\n                    onClick={() => {\n                      if (isSelected) {\n                        removeFrom(preset, setNearbyAmenities);\n                      } else {\n                        if (!nearbyAmenities.includes(preset)) {\n                          setNearbyAmenities(prev => [...prev, preset]);\n                        }\n                      }\n                    }}\n                    className={`px-3 py-1.5 rounded-full text-[12px] border transition-colors ${\n                      isSelected\n                        ? 'bg-green-900 text-white border-green-900'\n                        : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                    }`}\n                  >\n                    {preset}\n                    {isSelected && <span className=\"ml-1\">✓</span>}\n                  </button>\n                );\n              })}\n              \n              {/* Custom nearby amenities as chips (not in preset list) */}\n              {nearbyAmenities.filter(a => !nearbyAmenityPresetOptions.includes(a)).map(a => (\n                <button\n                  key={a}\n                  type=\"button\"\n                  onClick={() => removeFrom(a, setNearbyAmenities)}\n                  className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors\"\n                >\n                  {a}\n                  <span className=\"ml-1\">✓</span>\n                </button>\n              ))}\n            </div>\n            \n            {/* Custom input field - below chips */}\n            <input\n              type=\"text\"\n              value={nearbyAmenityInput}\n              onChange={(e) => setNearbyAmenityInput(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  addTag(nearbyAmenityInput, setNearbyAmenities, nearbyAmenities, setNearbyAmenityInput);\n                }\n              }}\n              className=\"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200\"\n              placeholder=\"Type nearby amenity and press Enter to add\"\n            />\n          </div>\n          )}\n          {currentStep === 2 && (\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-semibold text-gray-900\">Features</label>\n            \n            {/* All chips in one line: preset + custom */}\n            <div className=\"flex flex-wrap gap-2\">\n              {/* Preset features as clickable chips */}\n              {featurePresetOptions.map((preset) => {\n                const isSelected = features.includes(preset);\n                return (\n                  <button\n                    key={preset}\n                    type=\"button\"\n                    onClick={() => {\n                      if (isSelected) {\n                        removeFrom(preset, setFeatures);\n                      } else {\n                        if (!features.includes(preset)) {\n                          setFeatures(prev => [...prev, preset]);\n                        }\n                      }\n                    }}\n                    className={`px-3 py-1.5 rounded-full text-[12px] border transition-colors ${\n                      isSelected\n                        ? 'bg-green-900 text-white border-green-900'\n                        : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                    }`}\n                  >\n                    {preset}\n                    {isSelected && <span className=\"ml-1\">✓</span>}\n                  </button>\n                );\n              })}\n              \n              {/* Custom features as chips (not in preset list) */}\n              {features.filter(a => !featurePresetOptions.includes(a)).map(a => (\n                <button\n                  key={a}\n                  type=\"button\"\n                  onClick={() => removeFrom(a, setFeatures)}\n                  className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors\"\n                >\n                  {a}\n                  <span className=\"ml-1\">✓</span>\n                </button>\n              ))}\n            </div>\n            \n            {/* Custom input field - below chips */}\n            <input\n              type=\"text\"\n              value={featureInput}\n              onChange={(e) => setFeatureInput(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  addTag(featureInput, setFeatures, features, setFeatureInput);\n                }\n              }}\n              className=\"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200\"\n              placeholder=\"Type feature and press Enter to add\"\n            />\n          </div>\n          )}\n          {currentStep === 2 && (\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-semibold text-gray-900\">Location Benefits</label>\n            \n            {/* All chips in one line: preset + custom */}\n            <div className=\"flex flex-wrap gap-2\">\n              {/* Preset location benefits as clickable chips */}\n              {locationBenefitPresetOptions.map((preset) => {\n                const isSelected = locationBenefits.includes(preset);\n                return (\n                  <button\n                    key={preset}\n                    type=\"button\"\n                    onClick={() => {\n                      if (isSelected) {\n                        removeFrom(preset, setLocationBenefits);\n                      } else {\n                        if (!locationBenefits.includes(preset)) {\n                          setLocationBenefits(prev => [...prev, preset]);\n                        }\n                      }\n                    }}\n                    className={`px-3 py-1.5 rounded-full text-[12px] border transition-colors ${\n                      isSelected\n                        ? 'bg-green-900 text-white border-green-900'\n                        : 'bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100'\n                    }`}\n                  >\n                    {preset}\n                    {isSelected && <span className=\"ml-1\">✓</span>}\n                  </button>\n                );\n              })}\n              \n              {/* Custom location benefits as chips (not in preset list) */}\n              {locationBenefits.filter(a => !locationBenefitPresetOptions.includes(a)).map(a => (\n                <button\n                  key={a}\n                  type=\"button\"\n                  onClick={() => removeFrom(a, setLocationBenefits)}\n                  className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-[12px] bg-green-900 text-white border border-green-900 hover:bg-green-800 transition-colors\"\n                >\n                  {a}\n                  <span className=\"ml-1\">✓</span>\n                </button>\n              ))}\n            </div>\n            \n            {/* Custom input field - below chips */}\n            <input\n              type=\"text\"\n              value={locationBenefitInput}\n              onChange={(e) => setLocationBenefitInput(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  addTag(locationBenefitInput, setLocationBenefits, locationBenefits, setLocationBenefitInput);\n                }\n              }}\n              className=\"w-full border border-gray-300 rounded-xl text-sm px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200\"\n              placeholder=\"Type location benefit and press Enter to add\"\n            />\n          </div>\n          )}\n              {/* Submit Section */}\n              <div className=\"pt-8 border-t border-gray-100\">\n                {currentStep < 3 ? (\n                  <div className=\"max-w-3xl mx-auto\">\n                    <button \n                      type=\"button\" \n                      onClick={nextStep} \n                      disabled={!isCurrentStepValid() || submitting} \n                      className={`w-full py-3 rounded-xl font-semibold focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ${isCurrentStepValid() && !submitting ? 'bg-green-900 text-white hover:bg-green-700 focus:ring-green-100 hover:shadow-xl' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}\n                    >\n                      Continue\n                      <svg className=\"w-5 h-5 ml-2 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\"/></svg>\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"max-w-3xl mx-auto\">\n                    <button \n                      type=\"submit\" \n                      disabled={submitting || loadingProperty}\n                      className=\"w-full py-3 bg-green-900 text-white rounded-xl font-semibold hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-100 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                    >\n                      {loadingProperty ? 'Loading...' : (isEditMode ? 'Update Property' : 'Create Property')}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </form>\n\n          </div>\n\n          {/* Right Sidebar - Tips and Support (match profile style) */}\n          <div className=\"col-span-12 lg:col-span-4 space-y-4 order-1 lg:sticky lg:top-4 self-start\">\n            <div className=\"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-4\">\n              <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Tips for Property Creation</h4>\n              <ul className=\"text-[13px] text-gray-700 list-disc pl-5 space-y-2\">\n                <li>Fill basic info first, then add region details.</li>\n                <li>Use address autocomplete to quickly pick exact locations.</li>\n                <li>Add at least 3 clear images and one video link.</li>\n                <li>Use nearest regions for faster setup.</li>\n              </ul>\n                </div>\n\n         <div className=\"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-[260px]\">\n  <h4 className=\"text-sm font-semibold text-gray-900 mb-3\">Support & Documentation</h4>\n\n  <div className=\"space-y-3 text-[13px]\">\n    {/* Support Center */}\n    <div className=\"flex items-start gap-3\">\n      <span className=\"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center\">\n        <svg\n          className=\"w-3.5 h-3.5\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M9.09 9a3 3 0 015.82 0c0 1.657-1.5 2.34-1.5 3.5m.01 3h-.01\"\n          />\n          <circle cx=\"12\" cy=\"12\" r=\"9\" />\n        </svg>\n      </span>\n                <div>\n        <p className=\"font-medium text-gray-900\">Visit Support Center</p>\n        <p className=\"text-gray-600\">Answers to frequently asked questions.</p>\n                </div>\n            </div>\n\n    {/* Documentation */}\n    <div className=\"flex items-start gap-3\">\n      <span className=\"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center\">\n        <svg\n          className=\"w-3.5 h-3.5\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n        >\n          <path d=\"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z\" />\n          <path d=\"M14 2v6h6\" />\n        </svg>\n      </span>\n      <div>\n        <p className=\"font-medium text-gray-900\">Read Documentation</p>\n        <p className=\"text-gray-600\">Explore guides and platform tutorials.</p>\n              </div>\n            </div>\n\n    {/* Email Support */}\n    <div className=\"flex items-start gap-3\">\n      <span className=\"w-6 h-6 rounded-full bg-green-50 border border-green-200 text-green-700 flex items-center justify-center\">\n        <svg\n          className=\"w-3.5 h-3.5\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n        >\n          <path d=\"M4 4h16v16H4z\" />\n          <polyline points=\"22,6 12,13 2,6\" />\n        </svg>\n      </span>\n      <div>\n        <p className=\"font-medium text-gray-900\">Email Support</p>\n        <p className=\"text-gray-600\">support@brokeradda.com</p>\n            </div>\n            </div>\n            </div>\n          </div>\n\n          </div>\n          </div>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n};\n\nexport default NewPropertyPage;\n\n"],"names":[],"mappings":"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"}