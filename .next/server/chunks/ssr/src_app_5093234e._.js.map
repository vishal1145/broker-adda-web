{"version":3,"sources":["turbopack:///[project]/src/app/components/ProtectedRoute.jsx","turbopack:///[project]/src/app/role-selection/page.jsx"],"sourcesContent":["'use client';\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedRoute = ({ children, requiredRole = null }) => {\n  const { user, loading, isAuthenticated, isBroker, isCustomer } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (loading) return; // Wait for auth to load\n\n    // Small delay to ensure user data is loaded\n    const timer = setTimeout(() => {\n    if (!isAuthenticated()) {\n     // router.push('/login');\n      return;\n    }\n    // Check role-specific access\n    if (requiredRole === 'broker' && !isBroker()) {\n     // router.push('/login');\n      return;\n    }\n\n    if (requiredRole === 'customer' && !isCustomer()) {\n     // router.push('/login');\n      return;\n    }\n    }, 100);\n\n    return () => clearTimeout(timer);\n  }, [user, loading, isAuthenticated, isBroker, isCustomer, requiredRole, router]);\n\n  // Show nothing while checking authentication\n  if (loading) {\n    return null;\n  }\n\n  // Don't render children if not authenticated or wrong role\n  if (!isAuthenticated()) {\n    return null;\n  }\n\n  if (requiredRole === 'broker' && !isBroker()) {\n    return null;\n  }\n\n  if (requiredRole === 'customer' && !isCustomer()) {\n    return null;\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n","\"use client\";\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport ProtectedRoute from '../components/ProtectedRoute';\n\nconst RoleSelection = () => {\n  const router = useRouter();\n\n  const handleProfileTypeSelect = (profileType) => {\n    // Store the selected profile type and navigate to profile\n    localStorage.setItem('selectedProfileType', profileType);\n    router.push('/profile');\n  };\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"max-w-2xl w-full\">\n          {/* Header */}\n          <div className=\"text-center mb-12\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n              Complete Your Profile\n            </h1>\n            <p className=\"text-lg text-gray-600\">\n              Choose your profile type to continue with the setup process\n            </p>\n          </div>\n\n          {/* Profile Type Selection Cards */}\n          <div className=\"space-y-6\">\n            {/* Individual Profile Card */}\n            <div \n              onClick={() => handleProfileTypeSelect('individual')}\n              className=\"bg-white rounded-xl border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-all duration-300 hover:border-green-300 group\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                  {/* Individual Icon */}\n                  <div className=\"w-20 h-20  flex items-center justify-center  \">\n                    <img \n                      src=\"/images/Selection.png\" \n                      alt=\"Individual Profile\" \n                      className=\"w-16 h-16 \"\n                      onError={(e) => {\n                        e.currentTarget.src = '/images/user-1.webp';\n                      }}\n                    />\n                   \n                  </div>\n\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                      Individual Profile\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mb-3\">\n                      Personal profile for individual users with basic information and preferences\n                    </p>\n                    <div className=\"flex items-center text-green-600 text-xs\">\n                      <span>Find out more</span>\n                      <svg className=\"w-3 h-3 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Arrow Button */}\n                <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center group-hover:bg-green-700 transition-colors\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n\n            {/* Business Profile Card */}\n            <div \n              onClick={() => handleProfileTypeSelect('business')}\n              className=\"bg-white rounded-xl border border-gray-200 p-6 cursor-pointer hover:shadow-lg transition-all duration-300 hover:border-green-300 group\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                  {/* Business Icon */}\n                  <div className=\"w-20 h-20flex items-center justify-center \">\n                    <img \n                      src=\"/images/Selection 1.png\" \n                      alt=\"Business Profile\" \n                      className=\"w-16 h-16 object-contain\"\n                      onError={(e) => {\n                        e.currentTarget.src = '/images/user-1.webp';\n                      }}\n                    />\n                    {/* Small circles around the icon */}\n                    <div className=\"absolute -top-1 -right-1 w-2 h-2 bg-green-600 rounded-full\"></div>\n                    <div className=\"absolute -bottom-1 -left-1 w-2 h-2 bg-green-600 rounded-full\"></div>\n                    <div className=\"absolute top-1 -right-2 w-1.5 h-1.5 bg-green-600 rounded-full\"></div>\n                    <div className=\"absolute -bottom-1 right-1 w-1.5 h-1.5 bg-green-600 rounded-full\"></div>\n                  </div>\n\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                      Business Profile\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mb-3\">\n                      Professional profile for businesses with company information and services\n                    </p>\n                    <div className=\"flex items-center text-green-600 text-xs\">\n                      <span>Find out more</span>\n                      <svg className=\"w-3 h-3 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Arrow Button */}\n                <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center group-hover:bg-green-700 transition-colors\">\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n};\n\nexport default RoleSelection;\n"],"names":[],"mappings":"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"}