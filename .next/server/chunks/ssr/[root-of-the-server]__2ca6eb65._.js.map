{"version":3,"sources":["turbopack:///[project]/src/app/components/Header.jsx","turbopack:///[project]/src/app/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst Dots = ({ className, style }) => (\r\n  <svg\r\n    width=\"120\"\r\n    height=\"60\"\r\n    viewBox=\"0 0 120 60\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className={className}\r\n    style={style}\r\n  >\r\n    {/* Manually placed circles for a scattered look */}\r\n    <circle cx=\"10\" cy=\"20\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"25\" cy=\"10\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"40\" cy=\"25\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"60\" cy=\"15\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"80\" cy=\"30\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"100\" cy=\"20\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"20\" cy=\"40\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"35\" cy=\"50\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"55\" cy=\"40\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"75\" cy=\"50\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    {/* More dots for a denser scatter */}\r\n    <circle cx=\"15\" cy=\"30\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"30\" cy=\"20\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"50\" cy=\"10\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"65\" cy=\"35\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"90\" cy=\"40\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"110\" cy=\"30\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"5\" cy=\"50\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"45\" cy=\"55\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"70\" cy=\"45\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n    <circle cx=\"100\" cy=\"55\" r=\"5\" fill=\"#E5E7EB\" opacity=\"0.5\" />\r\n  </svg>\r\n);\r\n\r\nconst HeaderFile = ({ data }) => (\r\n  <div className=\"bg-gray-50 py-10 w-screen relative left-1/2 -translate-x-1/2 overflow-x-hidden -mt-2\">\r\n    <div className=\"relative  mx-auto flex flex-col items-center text-center\">\r\n      {/* Dots - top left */}\r\n      <div className=\"absolute left-30 top-12\">\r\n        <Dots />\r\n      </div>\r\n      {/* Dots - bottom right */}\r\n      <div className=\"absolute right-30 bottom-12\">\r\n        <Dots />\r\n      </div>\r\n\r\n      <h1 className=\"text-3xl font-medium text-gray-900 mb-2\">{data.title}</h1>\r\n\r\n      {data.breadcrumb?.length > 0 && (\r\n        <div className=\"flex justify-center items-center gap-2 text-gray-500 text-base\">\r\n          {data.breadcrumb.map((item, idx) => (\r\n            <React.Fragment key={item.label}>\r\n              <a href={item.href} className=\"hover:underline\">{item.label}</a>\r\n              {idx < data.breadcrumb.length - 1 && <span className=\"mx-1\">/</span>}\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n\r\nexport default HeaderFile;","'use client';\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ProtectedRoute = ({ children, requiredRole = null }) => {\r\n  const { user, loading, isAuthenticated, isBroker, isCustomer } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (loading) return; // Wait for auth to load\r\n\r\n    if (!isAuthenticated()) {\r\n      console.log('ProtectedRoute: User not authenticated, redirecting to login');\r\n      router.push('/login');\r\n      return;\r\n    }\r\n\r\n    // Check role-specific access\r\n    if (requiredRole === 'broker' && !isBroker()) {\r\n      console.log('ProtectedRoute: User is not a broker, redirecting to login');\r\n      router.push('/login');\r\n      return;\r\n    }\r\n\r\n    if (requiredRole === 'customer' && !isCustomer()) {\r\n      console.log('ProtectedRoute: User is not a customer, redirecting to login');\r\n      router.push('/login');\r\n      return;\r\n    }\r\n  }, [user, loading, isAuthenticated, isBroker, isCustomer, requiredRole, router]);\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render children if not authenticated or wrong role\r\n  if (!isAuthenticated()) {\r\n    return null;\r\n  }\r\n\r\n  if (requiredRole === 'broker' && !isBroker()) {\r\n    return null;\r\n  }\r\n\r\n  if (requiredRole === 'customer' && !isCustomer()) {\r\n    return null;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":"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"}