{"version":3,"sources":["turbopack:///[project]/src/app/components/ProtectedRoute.jsx","turbopack:///[project]/src/app/dashboard/page.jsx"],"sourcesContent":["'use client';\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedRoute = ({ children, requiredRole = null }) => {\n  const { user, loading, isAuthenticated, isBroker, isCustomer } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (loading) return; // Wait for auth to load\n\n    if (!isAuthenticated()) {\n      console.log('ProtectedRoute: User not authenticated, redirecting to login');\n      router.push('/login');\n      return;\n    }\n\n    // Check role-specific access\n    if (requiredRole === 'broker' && !isBroker()) {\n      console.log('ProtectedRoute: User is not a broker, redirecting to login');\n      router.push('/login');\n      return;\n    }\n\n    if (requiredRole === 'customer' && !isCustomer()) {\n      console.log('ProtectedRoute: User is not a customer, redirecting to login');\n      router.push('/login');\n      return;\n    }\n  }, [user, loading, isAuthenticated, isBroker, isCustomer, requiredRole, router]);\n\n  // Show loading spinner while checking authentication\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't render children if not authenticated or wrong role\n  if (!isAuthenticated()) {\n    return null;\n  }\n\n  if (requiredRole === 'broker' && !isBroker()) {\n    return null;\n  }\n\n  if (requiredRole === 'customer' && !isCustomer()) {\n    return null;\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n","\"use client\";\nimport React from \"react\";\nimport data from \"../data/myaccount.json\";\nimport ProtectedRoute from '../components/ProtectedRoute';\n\nconst Dashboard = () => {\n  return (\n    <ProtectedRoute>\n      <div className=\"px-6 sm:px-12 lg:px-32 py-12\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"w-full bg-white rounded-lg p-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Dashboard Overview</h2>\n            \n            {/* Quick Stats Section */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n              <div className=\"bg-green-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Total Leads</h3>\n                <p className=\"text-3xl font-bold text-green-600\">24</p>\n                <p className=\"text-sm text-gray-600\">+12% from last month</p>\n              </div>\n              <div className=\"bg-blue-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Properties Listed</h3>\n                <p className=\"text-3xl font-bold text-blue-600\">8</p>\n                <p className=\"text-sm text-gray-600\">3 new this week</p>\n              </div>\n              <div className=\"bg-yellow-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Visitors</h3>\n                <p className=\"text-3xl font-bold text-yellow-600\">156</p>\n                <p className=\"text-sm text-gray-600\">+8% from last week</p>\n              </div>\n            </div>\n\n         \n          </div>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n};\n\nexport default Dashboard;\n"],"names":[],"mappings":"8uCACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,aAEuB,CAAC,CAAE,UAAQ,cAAE,EAAe,GAuDpC,CAvDwC,CAAE,IACvD,GAAM,MAAE,CAAI,SAAE,CAAO,CAAE,iBAAe,CAAE,UAAQ,YAAE,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClE,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,UA0BxB,CAxBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAEJ,GAAI,CAAC,EAFQ,EAEW,CACtB,KAHmB,GAGX,GAAG,CAAC,iBAH+B,+CAI3C,EAAO,IAAI,CAAC,UACZ,MACF,CAGA,GAAqB,WAAjB,GAA6B,CAAC,IAAY,CAC5C,QAAQ,GAAG,CAAC,8DACZ,EAAO,IAAI,CAAC,UACZ,MACF,CAEA,GAAqB,aAAjB,GAA+B,CAAC,IAAc,CAChD,QAAQ,GAAG,CAAC,gEACZ,EAAO,IAAI,CAAC,UACZ,MACF,EACF,EAAG,CAAC,EAAM,EAAS,EAAiB,EAAU,EAAY,EAAc,EAAO,EAG3E,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,oBAOhC,MAIgB,WAAjB,CAA6B,CAJT,CAIU,GAAA,GAAY,CAIzB,aAAjB,CAA+B,EAAC,GAAA,EAI7B,CAJ2C,CAPzC,IAYX,kECzDA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,IAAA,EAAA,EAAA,CAAA,CAAA,aAEkB,IAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,OAiCJ,GAhCT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,uBAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,gBACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,OACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,4BAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,sBACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,MAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,uBAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,aACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,QAClD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB"}