module.exports=[83468,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(29130);let f=({children:a,requiredRole:f=null})=>{let{user:g,loading:h,isAuthenticated:i,isBroker:j,isCustomer:k}=(0,e.useAuth)(),l=(0,d.useRouter)();return((0,c.useEffect)(()=>{if(!h){if(!i()){console.log("ProtectedRoute: User not authenticated, redirecting to login"),l.push("/login");return}if("broker"===f&&!j()){console.log("ProtectedRoute: User is not a broker, redirecting to login"),l.push("/login");return}if("customer"===f&&!k()){console.log("ProtectedRoute: User is not a customer, redirecting to login"),l.push("/login");return}}},[g,h,i,j,k,f,l]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):i()&&("broker"!==f||j())&&("customer"!==f||k())?a:null}}];

//# sourceMappingURL=src_app_components_ProtectedRoute_jsx_6331deca._.js.map