{"version":3,"sources":["turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/search/Search.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/search/components/PropertiesComponent.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/search/components/TabsBar.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/search/components/LeadsComponent.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/search/components/BrokersComponent.jsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport PropertiesComponent from './components/PropertiesComponent';\r\nimport LeadsComponent from './components/LeadsComponent';\r\nimport BrokersComponent from './components/BrokersComponent';\r\nimport HeaderFile from '../components/Header';\r\n\r\nconst Search = () => {\r\n  const [activeTab, setActiveTab] = useState('brokers');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const lastManualTabChangeRef = useRef(null);\r\n\r\n  // Read query param without useSearchParams to avoid Suspense requirement\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const updateFromURL = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const t = sp.get('tab');\r\n        if (t === 'leads' || t === 'brokers' || t === 'properties') {\r\n          setActiveTab(t);\r\n        } else if (!t) {\r\n          // If no tab in URL, default to brokers\r\n          setActiveTab('brokers');\r\n        }\r\n        // Set search query from URL if present (works with both regionId and q)\r\n        const q = sp.get('q');\r\n        if (q) {\r\n          setSearchQuery(q);\r\n        } else {\r\n          setSearchQuery('');\r\n        }\r\n      } catch {}\r\n    };\r\n    // Only read from URL on initial mount\r\n    updateFromURL();\r\n  }, []);\r\n\r\n  // Listen for URL changes (back/forward buttons and navigation)\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const handlePopState = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const t = sp.get('tab');\r\n        // Only update if it's been more than 1 second since last manual change\r\n        // This prevents the interval from overriding manual tab clicks\r\n        const now = Date.now();\r\n        if (lastManualTabChangeRef.current && (now - lastManualTabChangeRef.current) < 1000) {\r\n          return; // Ignore URL changes if manual change was recent\r\n        }\r\n        \r\n        if (t === 'leads' || t === 'brokers' || t === 'properties') {\r\n          setActiveTab(t);\r\n        } else if (!t) {\r\n          setActiveTab('brokers');\r\n        }\r\n        // Set search query from URL if present (works with both regionId and q)\r\n        const q = sp.get('q');\r\n        if (q) {\r\n          setSearchQuery(q);\r\n        } else {\r\n          setSearchQuery('');\r\n        }\r\n      } catch {}\r\n    };\r\n    \r\n    // Listen for manual tab changes from TabsBar component\r\n    const handleTabChanged = (event) => {\r\n      lastManualTabChangeRef.current = Date.now();\r\n      // State is already updated by TabsBar, just mark the timestamp\r\n    };\r\n    \r\n    // Listen for popstate (browser back/forward)\r\n    window.addEventListener('popstate', handlePopState);\r\n    window.addEventListener('tabChanged', handleTabChanged);\r\n    \r\n    // Check URL changes periodically but less frequently (every 1000ms)\r\n    // Only to catch external navigation changes (like from navbar)\r\n    let lastUrl = window.location.href;\r\n    const checkUrlChange = () => {\r\n      const currentUrl = window.location.href;\r\n      if (currentUrl !== lastUrl) {\r\n        lastUrl = currentUrl;\r\n        handlePopState();\r\n      }\r\n    };\r\n    \r\n    const urlCheckInterval = setInterval(checkUrlChange, 1000);\r\n    \r\n    return () => {\r\n      window.removeEventListener('popstate', handlePopState);\r\n      window.removeEventListener('tabChanged', handleTabChanged);\r\n      clearInterval(urlCheckInterval);\r\n    };\r\n  }, []);\r\n\r\n  // Update URL when tab changes\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n    if (typeof window !== 'undefined') {\r\n      const url = new URL(window.location);\r\n      url.searchParams.set('tab', tab);\r\n      window.history.pushState({}, '', url);\r\n    }\r\n  };\r\n\r\n  const getPageTitle = () => {\r\n    switch (activeTab) {\r\n      case 'properties':\r\n        return 'Properties';\r\n      case 'leads':\r\n        return 'Leads';\r\n      case 'brokers':\r\n        return 'Brokers';\r\n      default:\r\n        return 'Search';\r\n    }\r\n  };\r\n\r\n  const getHeaderData = () => {\r\n    switch (activeTab) {\r\n      case 'properties':\r\n        return {\r\n          title: 'Find Your Dream Property',\r\n          description: 'Discover properties that match your preferences, budget, and location requirements.',\r\n        };\r\n      case 'leads':\r\n        return {\r\n          title: 'Discover Quality Enquiries',\r\n          description: 'Browse and connect with potential clients looking for real estate services in your area.',\r\n        };\r\n      case 'brokers':\r\n        return {\r\n          title: 'Find the Perfect Broker for Your Needs',\r\n          description: 'Browse verified brokers matched to your location, category, and budget.',\r\n        };\r\n      default:\r\n        return {\r\n          title: 'Find the Perfect Broker for Your Needs',\r\n          description: 'Browse verified brokers matched to your location, category, and budget.',\r\n        };\r\n    }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'properties':\r\n        return <PropertiesComponent activeTab={activeTab} setActiveTab={setActiveTab} />;\r\n      case 'leads':\r\n        return <LeadsComponent activeTab={activeTab} setActiveTab={setActiveTab} />;\r\n      case 'brokers':\r\n        return <BrokersComponent activeTab={activeTab} setActiveTab={setActiveTab} initialSearchQuery={searchQuery} />;\r\n      default:\r\n        return <PropertiesComponent activeTab={activeTab} setActiveTab={setActiveTab} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white \">\r\n      <HeaderFile data={getHeaderData()} />\r\n\r\n      <div className=\"w-full mx-auto px-4 md:px-0 py-8\">\r\n        {/* Render Active Component */}\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","\r\n'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport Select from 'react-select';\r\nimport ContentLoader from 'react-content-loader';\r\nimport TabsBar from './TabsBar';\r\nimport ShareModal from \"../../components/ShareModal\";\r\nimport { FaStar, FaDumbbell, FaSwimmingPool, FaCar, FaShieldAlt, FaBolt, FaTree, FaTint, FaGlassCheers, FaBuilding, FaArrowUp } from 'react-icons/fa';\r\n\r\nconst PropertiesComponent = ({ activeTab, setActiveTab }) => {\r\n  const [filters, setFilters] = useState({\r\n    search: \"\",\r\n    categories: [],\r\n    priceRange: [5000, 100000000],\r\n    bedrooms: null, // Changed to single select\r\n    amenities: []\r\n  });\r\n\r\n  const [sortBy, setSortBy] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [imageIndexById, setImageIndexById] = useState({});\r\n  const [propertyItems, setPropertyItems] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(7); // 7 properties per page from API\r\n  const [pagination, setPagination] = useState({\r\n    total: 0,\r\n    page: 1,\r\n    limit: 7,\r\n    totalPages: 0,\r\n    hasNextPage: false,\r\n    hasPrevPage: false\r\n  });\r\n  const [showSecondaryFilters, setShowSecondaryFilters] = useState(false);\r\n  const [selectedRegion, setSelectedRegion] = useState(null);\r\n  const [regions, setRegions] = useState([]);\r\n  const [regionsLoading, setRegionsLoading] = useState(false);\r\n  const [propertyRatings, setPropertyRatings] = useState({}); // Map of propertyId -> average rating\r\n  const [ratingsLoading, setRatingsLoading] = useState(false);\r\n\r\n  const [shareModalOpen, setShareModalOpen] = useState(false);\r\n  const [currentShareUrl, setCurrentShareUrl] = useState('');\r\n  const timersRef = useRef({});\r\n\r\n  // Local state for price input fields (to avoid API calls on every keystroke)\r\n  const [priceMinInput, setPriceMinInput] = useState('');\r\n  const [priceMaxInput, setPriceMaxInput] = useState('');\r\n  const [isEditingMin, setIsEditingMin] = useState(false);\r\n  const [isEditingMax, setIsEditingMax] = useState(false);\r\n\r\n  // Store latitude and longitude from URL for geocoding-based search\r\n  const [urlLatitude, setUrlLatitude] = useState(null);\r\n  const [urlLongitude, setUrlLongitude] = useState(null);\r\n\r\n  // Initialize broker filter from URL params synchronously\r\n  const getInitialBrokerFilter = () => {\r\n    if (typeof window === 'undefined') return null;\r\n    try {\r\n      const sp = new URLSearchParams(window.location.search);\r\n      return sp.get('createdBy');\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const [secondaryFilters, setSecondaryFilters] = useState({\r\n    bathrooms: null,\r\n    furnishingType: null,\r\n    facingDirection: null,\r\n    possessionStatus: null,\r\n    postedBy: null,\r\n    broker: getInitialBrokerFilter(),\r\n    verificationStatus: null\r\n  });\r\n\r\n  // Also listen for URL changes (back/forward buttons)\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const handlePopState = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const createdBy = sp.get('createdBy');\r\n        if (createdBy) {\r\n          setSecondaryFilters(prev => ({ ...prev, broker: createdBy }));\r\n        } else {\r\n          setSecondaryFilters(prev => ({ ...prev, broker: null }));\r\n        }\r\n      } catch {}\r\n    };\r\n    window.addEventListener('popstate', handlePopState);\r\n    return () => window.removeEventListener('popstate', handlePopState);\r\n  }, []);\r\n\r\n  // Trigger skeleton loader when switching between tabs from header\r\n  useEffect(() => {\r\n    if (hasLoaded) {\r\n      setIsLoading(true);\r\n      const t = setTimeout(() => setIsLoading(false), 500);\r\n      return () => clearTimeout(t);\r\n    }\r\n  }, [activeTab, hasLoaded]);\r\n\r\n  // Listen for latitude and longitude from URL (for geocoding-based search)\r\n  // Read immediately on mount to ensure coordinates are available before API calls\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const updateFromURL = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const latitudeParam = sp.get('latitude');\r\n        const longitudeParam = sp.get('longitude');\r\n\r\n        if (latitudeParam && longitudeParam) {\r\n          const lat = parseFloat(latitudeParam);\r\n          const lng = parseFloat(longitudeParam);\r\n          if (!isNaN(lat) && !isNaN(lng)) {\r\n            setUrlLatitude(lat);\r\n            setUrlLongitude(lng);\r\n          }\r\n        } else {\r\n          setUrlLatitude(null);\r\n          setUrlLongitude(null);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error reading URL params:', error);\r\n      }\r\n    };\r\n    // Read immediately on mount\r\n    updateFromURL();\r\n    // Also listen for URL changes (popstate, pushState, etc.)\r\n    const handlePopState = () => updateFromURL();\r\n    window.addEventListener('popstate', handlePopState);\r\n    // Check periodically for URL changes (in case of programmatic navigation)\r\n    const interval = setInterval(updateFromURL, 500);\r\n    return () => {\r\n      clearInterval(interval);\r\n      window.removeEventListener('popstate', handlePopState);\r\n    };\r\n  }, []);\r\n\r\n  // Fetch regions from API\r\n  useEffect(() => {\r\n    const fetchRegions = async () => {\r\n      try {\r\n        setRegionsLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${apiUrl}/regions`);\r\n        if (res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          let regionsList = [];\r\n          if (Array.isArray(data?.data?.items)) regionsList = data.data.items;\r\n          else if (Array.isArray(data?.data?.regions)) regionsList = data.data.regions;\r\n          else if (Array.isArray(data?.data)) regionsList = data.data;\r\n          else if (Array.isArray(data?.regions)) regionsList = data.regions;\r\n          else if (Array.isArray(data)) regionsList = data;\r\n\r\n          const regionOptions = regionsList.map(region => ({\r\n            value: region._id || region.id,\r\n            label: `${region.name || ''}, ${region.city || ''}, ${region.state || ''}`.replace(/^,\\s*|,\\s*$/g, '').replace(/,\\s*,/g, ','),\r\n            regionId: region._id || region.id\r\n          }));\r\n          setRegions(regionOptions);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching regions:', err);\r\n        setRegions([]);\r\n      } finally {\r\n        setRegionsLoading(false);\r\n      }\r\n    };\r\n    fetchRegions();\r\n  }, []);\r\n\r\n  // Fetch property ratings from API\r\n  useEffect(() => {\r\n    const fetchRatings = async () => {\r\n      try {\r\n        setRatingsLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${apiUrl}/property-ratings/all`);\r\n        if (res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          let ratingsList = [];\r\n          if (Array.isArray(data?.data?.items)) ratingsList = data.data.items;\r\n          else if (Array.isArray(data?.data?.ratings)) ratingsList = data.data.ratings;\r\n          else if (Array.isArray(data?.data)) ratingsList = data.data;\r\n          else if (Array.isArray(data?.ratings)) ratingsList = data.ratings;\r\n          else if (Array.isArray(data)) ratingsList = data;\r\n\r\n          // Group ratings by propertyId and calculate average\r\n          const ratingsMap = {};\r\n          ratingsList.forEach(rating => {\r\n            const propertyId = rating.propertyId || rating.property?._id || rating.property?.id;\r\n            if (propertyId) {\r\n              if (!ratingsMap[propertyId]) {\r\n                ratingsMap[propertyId] = {\r\n                  total: 0,\r\n                  count: 0,\r\n                  average: 0\r\n                };\r\n              }\r\n              const ratingValue = typeof rating.rating === 'number' ? rating.rating : parseFloat(rating.rating) || 0;\r\n              if (ratingValue > 0) {\r\n                ratingsMap[propertyId].total += ratingValue;\r\n                ratingsMap[propertyId].count += 1;\r\n              }\r\n            }\r\n          });\r\n\r\n          // Calculate averages\r\n          const averagesMap = {};\r\n          Object.keys(ratingsMap).forEach(propertyId => {\r\n            const { total, count } = ratingsMap[propertyId];\r\n            if (count > 0) {\r\n              averagesMap[propertyId] = (total / count).toFixed(1);\r\n            }\r\n          });\r\n\r\n          setPropertyRatings(averagesMap);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching property ratings:', err);\r\n        setPropertyRatings({});\r\n      } finally {\r\n        setRatingsLoading(false);\r\n      }\r\n    };\r\n    fetchRatings();\r\n  }, []);\r\n\r\n\r\n  // Update property ratings when ratings data is loaded (without re-fetching properties)\r\n  useEffect(() => {\r\n    if (Object.keys(propertyRatings).length > 0 && propertyItems.length > 0) {\r\n      setPropertyItems(prevItems =>\r\n        prevItems.map(item => ({\r\n          ...item,\r\n          rating: propertyRatings[item.id] || item.rating || '4.7'\r\n        }))\r\n      );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [propertyRatings]);\r\n\r\n  // Fetch properties from API (following BrokersComponent pattern exactly)\r\n  const fetchProperties = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n\r\n      // Build base query parameters with all filters (like BrokersComponent)\r\n      const baseQueryParams = new URLSearchParams();\r\n\r\n      // Add latitude and longitude if present (priority over region - like BrokersComponent)\r\n      if (urlLatitude !== null && urlLongitude !== null) {\r\n        baseQueryParams.append('latitude', urlLatitude.toString());\r\n        baseQueryParams.append('longitude', urlLongitude.toString());\r\n        baseQueryParams.append('radius', '50');\r\n      } else if (selectedRegion?.regionId) {\r\n        // Add region filter if provided (only if no lat/lng - like BrokersComponent)\r\n        baseQueryParams.append('regionId', selectedRegion.regionId);\r\n      }\r\n\r\n      // Add other filters (only if NOT using coordinates - like BrokersComponent)\r\n      if (!urlLatitude || !urlLongitude) {\r\n        // Text search\r\n        if (filters.search) {\r\n          baseQueryParams.append('search', filters.search);\r\n        }\r\n\r\n        // City filter\r\n        if (filters.city) {\r\n          baseQueryParams.append('city', filters.city);\r\n        }\r\n\r\n        // Property type filters\r\n        if (filters.categories.length > 0) {\r\n          const category = filters.categories[0];\r\n          baseQueryParams.append('propertyType', category);\r\n        }\r\n\r\n        // Bedrooms filter\r\n        if (filters.bedrooms) {\r\n          const bedroomsValue = filters.bedrooms.replace('+', '');\r\n          baseQueryParams.append('bedrooms', bedroomsValue);\r\n        }\r\n\r\n        // Bathrooms filter\r\n        if (secondaryFilters.bathrooms) {\r\n          const bathroomsValue = secondaryFilters.bathrooms.replace('+', '');\r\n          baseQueryParams.append('bathrooms', bathroomsValue);\r\n        }\r\n\r\n        // Price range - only apply when values differ from default\r\n        if (filters.priceRange[0] > 5000) {\r\n          baseQueryParams.append('minPrice', String(filters.priceRange[0]));\r\n        }\r\n        if (filters.priceRange[1] < 100000000) {\r\n          baseQueryParams.append('maxPrice', String(filters.priceRange[1]));\r\n        }\r\n\r\n        // Furnishing filter\r\n        if (secondaryFilters.furnishingType) {\r\n          baseQueryParams.append('furnishing', secondaryFilters.furnishingType);\r\n        }\r\n\r\n        // Facing direction\r\n        if (secondaryFilters.facingDirection) {\r\n          baseQueryParams.append('facingDirection', secondaryFilters.facingDirection);\r\n        }\r\n\r\n        // Possession status\r\n        if (secondaryFilters.possessionStatus) {\r\n          baseQueryParams.append('possessionStatus', secondaryFilters.possessionStatus);\r\n        }\r\n\r\n        // Posted by\r\n        if (secondaryFilters.postedBy) {\r\n          baseQueryParams.append('postedBy', secondaryFilters.postedBy);\r\n        }\r\n\r\n        // Broker filter\r\n        if (secondaryFilters.broker) {\r\n          baseQueryParams.append('broker', secondaryFilters.broker);\r\n        }\r\n\r\n        // Verification status\r\n        if (secondaryFilters.verificationStatus) {\r\n          baseQueryParams.append('verificationStatus', secondaryFilters.verificationStatus);\r\n        }\r\n      }\r\n\r\n      // Fetch properties with a single API call first, then paginate if needed (like BrokersComponent)\r\n      let allProperties = [];\r\n      const isLatLngSearch = urlLatitude !== null && urlLongitude !== null;\r\n\r\n      // For lat/lng search, only use baseQueryParams (which already has lat/lng)\r\n      // For region search, use pagination\r\n      const limit = isLatLngSearch ? null : itemsPerPage;\r\n\r\n     \r\n\r\n      // For lat/lng search, make single API call without page/limit (like BrokersComponent)\r\n      if (isLatLngSearch) {\r\n        const queryParams = new URLSearchParams(baseQueryParams);\r\n        // Don't add page, limit for lat/lng searches\r\n\r\n        // Add sorting (only if user has explicitly selected a sort option - like BrokersComponent)\r\n        if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n          queryParams.append('sortBy', sortBy);\r\n          if (sortOrder) {\r\n            queryParams.append('sortOrder', sortOrder);\r\n          }\r\n        }\r\n\r\n        const queryString = queryParams.toString();\r\n        const apiUrlWithParams = queryString ? `${apiUrl}/properties?${queryString}` : `${apiUrl}/properties`;\r\n\r\n\r\n        const response = await fetch(apiUrlWithParams, { method: 'GET' });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch properties: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        // Extract properties data (like BrokersComponent)\r\n        let propertiesData = [];\r\n        if (data?.data?.items && Array.isArray(data.data.items)) {\r\n          propertiesData = data.data.items;\r\n        } else if (Array.isArray(data?.data?.properties)) {\r\n          propertiesData = data.data.properties;\r\n        } else if (Array.isArray(data?.properties)) {\r\n          propertiesData = data.properties;\r\n        } else if (Array.isArray(data?.data)) {\r\n          propertiesData = data.data;\r\n        } else if (Array.isArray(data)) {\r\n          propertiesData = data;\r\n        }\r\n\r\n        if (propertiesData.length > 0) {\r\n          allProperties = propertiesData;\r\n        }\r\n      } else {\r\n        // For region-based search, use pagination (like BrokersComponent)\r\n        let pageToFetch = 1;\r\n        let hasMorePages = true;\r\n\r\n        while (hasMorePages) {\r\n          const queryParams = new URLSearchParams(baseQueryParams);\r\n          queryParams.append('page', String(pageToFetch));\r\n          queryParams.append('limit', String(limit));\r\n\r\n          // Add sorting (only if user has explicitly selected a sort option - like BrokersComponent)\r\n          if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n            queryParams.append('sortBy', sortBy);\r\n            if (sortOrder) {\r\n              queryParams.append('sortOrder', sortOrder);\r\n            }\r\n          } else {\r\n            // Default sorting for non-coordinate searches\r\n            queryParams.append('sortBy', 'createdAt');\r\n            queryParams.append('sortOrder', 'desc');\r\n          }\r\n\r\n          const queryString = queryParams.toString();\r\n          const apiUrlWithParams = queryString ? `${apiUrl}/properties?${queryString}` : `${apiUrl}/properties`;\r\n\r\n\r\n          const response = await fetch(apiUrlWithParams, { method: 'GET' });\r\n\r\n          if (!response.ok) {\r\n            throw new Error(`Failed to fetch properties: ${response.status}`);\r\n          }\r\n\r\n          const data = await response.json();\r\n\r\n          // Extract properties data (like BrokersComponent)\r\n          let propertiesData = [];\r\n          if (data?.data?.items && Array.isArray(data.data.items)) {\r\n            propertiesData = data.data.items;\r\n          } else if (Array.isArray(data?.data?.properties)) {\r\n            propertiesData = data.data.properties;\r\n          } else if (Array.isArray(data?.properties)) {\r\n            propertiesData = data.properties;\r\n          } else if (Array.isArray(data?.data)) {\r\n            propertiesData = data.data;\r\n          } else if (Array.isArray(data)) {\r\n            propertiesData = data;\r\n          }\r\n\r\n          if (propertiesData.length > 0) {\r\n            allProperties = allProperties.concat(propertiesData);\r\n\r\n            // Check pagination info from API response (like BrokersComponent)\r\n            const pagination = data?.data?.pagination || data?.pagination;\r\n            const totalPages = pagination?.totalPages;\r\n            const hasNextPage = pagination?.hasNextPage !== false;\r\n\r\n            if (pagination && totalPages) {\r\n              if (pageToFetch >= totalPages || (hasNextPage === false)) {\r\n                hasMorePages = false;\r\n              } else {\r\n                pageToFetch++;\r\n                if (pageToFetch > 10) {\r\n                  hasMorePages = false;\r\n                }\r\n              }\r\n            } else {\r\n              // If no pagination info, stop after first page\r\n              hasMorePages = false;\r\n            }\r\n          } else {\r\n            hasMorePages = false;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Get current broker ID to filter out own properties\r\n      const token = typeof window !== 'undefined' ? (localStorage.getItem('token') || localStorage.getItem('authToken') || '') : '';\r\n      let currentBrokerId = '';\r\n      let currentUserId = '';\r\n      if (token) {\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]));\r\n          currentUserId = payload.brokerId || payload.userId || payload.id || payload.sub || '';\r\n\r\n          // Fetch broker details to get the actual broker _id\r\n          if (currentUserId) {\r\n            try {\r\n              const brokerRes = await fetch(`${apiUrl}/brokers/${currentUserId}`, {\r\n                headers: { 'Content-Type': 'application/json', ...(token ? { Authorization: `Bearer ${token}` } : {}) }\r\n              });\r\n              if (brokerRes.ok) {\r\n                const brokerData = await brokerRes.json();\r\n                const broker = brokerData?.data?.broker || brokerData?.broker || brokerData?.data || brokerData;\r\n                currentBrokerId = broker?._id || broker?.id || '';\r\n              }\r\n            } catch (err) {\r\n              console.error('Error fetching broker details:', err);\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error('Error parsing token:', err);\r\n        }\r\n      }\r\n\r\n      // Filter out properties belonging to the logged-in broker\r\n      const filterOwnProperties = (properties) => {\r\n        if (!currentBrokerId && !currentUserId) return properties;\r\n\r\n        return properties.filter((property) => {\r\n          let propertyBrokerId = '';\r\n\r\n          // Check broker field first (most common in API response)\r\n          if (property.broker) {\r\n            if (typeof property.broker === 'string') {\r\n              propertyBrokerId = property.broker;\r\n            } else if (typeof property.broker === 'object' && property.broker !== null) {\r\n              propertyBrokerId = property.broker._id || property.broker.id || '';\r\n            }\r\n          }\r\n\r\n          // If not found, check createdBy, postedBy\r\n          if (!propertyBrokerId) {\r\n            const createdBy = property.createdBy || property.postedBy;\r\n\r\n            if (createdBy) {\r\n              if (typeof createdBy === 'string') {\r\n                propertyBrokerId = createdBy;\r\n              } else if (typeof createdBy === 'object' && createdBy !== null) {\r\n                const obj = createdBy;\r\n                const userId = obj.userId;\r\n\r\n                if (userId && typeof userId === 'object' && userId !== null) {\r\n                  propertyBrokerId = userId._id || userId.id || '';\r\n                } else if (userId && typeof userId === 'string') {\r\n                  propertyBrokerId = userId;\r\n                }\r\n\r\n                if (!propertyBrokerId) {\r\n                  propertyBrokerId = obj._id || obj.id || obj.brokerId || '';\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          const brokerIdStr = String(currentBrokerId || '').trim();\r\n          const userIdStr = String(currentUserId || '').trim();\r\n          const propertyBrokerIdStr = String(propertyBrokerId).trim();\r\n\r\n          const matchesBrokerId = brokerIdStr !== '' && propertyBrokerIdStr === brokerIdStr;\r\n          const matchesUserId = userIdStr !== '' && propertyBrokerIdStr === userIdStr;\r\n\r\n          if (matchesBrokerId || matchesUserId) {\r\n          }\r\n\r\n          return !matchesBrokerId && !matchesUserId; // Exclude if matches\r\n        });\r\n      };\r\n\r\n      // Process and set properties (like BrokersComponent)\r\n      if (allProperties.length > 0) {\r\n        // Filter out own properties\r\n        allProperties = filterOwnProperties(allProperties);\r\n\r\n        // For coordinate searches: use API response directly\r\n        if (isLatLngSearch) {\r\n          // For coordinate searches: map and display data directly (like BrokersComponent) - no pagination, no filtering\r\n          const coordinateTotal = allProperties.length;\r\n\r\n          // Map properties (same transformation as non-coordinate searches)\r\n          const mapped = allProperties.map((p, idx) => {\r\n            const id = p._id || p.id || `${idx}`;\r\n            const title = p.title || p.name || 'Property';\r\n            const propertyType = p.propertyType || p.type || '';\r\n            const subType = p.subType || '';\r\n            const city = p.city || '';\r\n            const regionRaw = p.region;\r\n            const region = Array.isArray(regionRaw)\r\n              ? regionRaw.map(r => (typeof r === 'string' ? r : r?.name)).filter(Boolean)\r\n              : (typeof regionRaw === 'string' ? regionRaw : regionRaw?.name);\r\n            const bedrooms = typeof p.bedrooms === 'number' ? p.bedrooms : undefined;\r\n            const bathrooms = typeof p.bathrooms === 'number' ? p.bathrooms : undefined;\r\n            const areaSqft = p.propertySize || p.areaSqft || p.area || undefined;\r\n            const amenities = Array.isArray(p.amenities) ? p.amenities : [];\r\n            const images = Array.isArray(p.images) && p.images.length > 0 ? p.images : [];\r\n            const image = images[0] || '/images/pexels-binyaminmellish-106399.jpg';\r\n            const rating = propertyRatings[id] || p.rating || '4.7';\r\n            const price = typeof p.price === 'number' ? p.price : undefined;\r\n            const currentPrice = price ? new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(price) : '-';\r\n            const status = p.status || '';\r\n            const address = p.address || '';\r\n            const description = p.description || p.propertyDescription || '';\r\n\r\n            return {\r\n              id,\r\n              name: title,\r\n              type: propertyType || subType || 'Property',\r\n              details: subType || propertyType || '',\r\n              description,\r\n              bedrooms,\r\n              bathrooms,\r\n              areaSqft,\r\n              city,\r\n              region,\r\n              currentPrice,\r\n              originalPrice: undefined,\r\n              rating,\r\n              image,\r\n              images,\r\n              amenities,\r\n              status,\r\n              address,\r\n            };\r\n          });\r\n\r\n          setPropertyItems(mapped); // Display all items directly\r\n          setPagination({\r\n            total: coordinateTotal,\r\n            page: 1,\r\n            limit: allProperties.length || itemsPerPage,\r\n            totalPages: 1,\r\n            hasNextPage: false,\r\n            hasPrevPage: false\r\n          });\r\n          setHasLoaded(true);\r\n          setIsLoading(false);\r\n          return; // Exit early - no further processing needed for coordinate searches\r\n        }\r\n\r\n        // For non-coordinate searches: map and paginate properties\r\n        const mapped = allProperties.map((p, idx) => {\r\n          const id = p._id || p.id || `${idx}`;\r\n          const title = p.title || p.name || 'Property';\r\n          const propertyType = p.propertyType || p.type || '';\r\n          const subType = p.subType || '';\r\n          const city = p.city || '';\r\n          const regionRaw = p.region;\r\n          const region = Array.isArray(regionRaw)\r\n            ? regionRaw.map(r => (typeof r === 'string' ? r : r?.name)).filter(Boolean)\r\n            : (typeof regionRaw === 'string' ? regionRaw : regionRaw?.name);\r\n          const bedrooms = typeof p.bedrooms === 'number' ? p.bedrooms : undefined;\r\n          const bathrooms = typeof p.bathrooms === 'number' ? p.bathrooms : undefined;\r\n          const areaSqft = p.propertySize || p.areaSqft || p.area || undefined;\r\n          const amenities = Array.isArray(p.amenities) ? p.amenities : [];\r\n          const images = Array.isArray(p.images) && p.images.length > 0 ? p.images : [];\r\n          const image = images[0] || '/images/pexels-binyaminmellish-106399.jpg';\r\n          const rating = propertyRatings[id] || p.rating || '4.7';\r\n          const price = typeof p.price === 'number' ? p.price : undefined;\r\n          const currentPrice = price ? new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(price) : '-';\r\n          const status = p.status || '';\r\n          const address = p.address || '';\r\n          const description = p.description || p.propertyDescription || '';\r\n\r\n          return {\r\n            id,\r\n            name: title,\r\n            type: propertyType || subType || 'Property',\r\n            details: subType || propertyType || '',\r\n            description,\r\n            bedrooms,\r\n            bathrooms,\r\n            areaSqft,\r\n            city,\r\n            region,\r\n            currentPrice,\r\n            originalPrice: undefined,\r\n            rating,\r\n            image,\r\n            images,\r\n            amenities,\r\n            status,\r\n            address,\r\n          };\r\n        });\r\n\r\n        // Client-side pagination for non-coordinate searches\r\n        const totalProperties = mapped.length;\r\n        const start = (currentPage - 1) * itemsPerPage;\r\n        const paginatedProperties = mapped.slice(start, start + itemsPerPage);\r\n        const totalPages = Math.ceil(totalProperties / itemsPerPage);\r\n\r\n        setPropertyItems(paginatedProperties);\r\n        setPagination({\r\n          total: totalProperties,\r\n          page: currentPage,\r\n          limit: itemsPerPage,\r\n          totalPages: totalPages,\r\n          hasNextPage: currentPage < totalPages,\r\n          hasPrevPage: currentPage > 1\r\n        });\r\n        setHasLoaded(true);\r\n      } else {\r\n        // No properties found\r\n        setPropertyItems([]);\r\n        setPagination({\r\n          total: 0,\r\n          page: 1,\r\n          limit: itemsPerPage,\r\n          totalPages: 0,\r\n          hasNextPage: false,\r\n          hasPrevPage: false\r\n        });\r\n        setHasLoaded(true);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching properties:', err);\r\n      setPropertyItems([]);\r\n      setHasLoaded(true);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch properties when any filter changes or on initial mount (like BrokersComponent)\r\n  useEffect(() => {\r\n    // Debounce the API call to prevent multiple rapid calls (like BrokersComponent)\r\n    const timeoutId = setTimeout(() => {\r\n     \r\n      fetchProperties();\r\n    }, 800); // 800ms debounce delay for price input\r\n\r\n    // Cleanup timeout on unmount or dependency change\r\n    return () => clearTimeout(timeoutId);\r\n  }, [\r\n    currentPage,\r\n    itemsPerPage,\r\n    filters,\r\n    secondaryFilters,\r\n    selectedRegion,\r\n    sortBy,\r\n    sortOrder,\r\n    urlLatitude,\r\n    urlLongitude\r\n  ]);\r\n\r\n  // Handle sort change from TabsBar\r\n  const handleSortChange = (newSortBy, newSortOrder) => {\r\n    setSortBy(newSortBy);\r\n    setSortOrder(newSortOrder);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Reset to page 1 when filters change (but not on initial load)\r\n  useEffect(() => {\r\n    if (hasLoaded) {\r\n      setCurrentPage(1);\r\n    }\r\n  }, [filters, secondaryFilters, selectedRegion, sortBy, sortOrder]);\r\n\r\n  // Auto-rotate property images per card (independent timers per card)\r\n  useEffect(() => {\r\n    // clear old timers\r\n    Object.values(timersRef.current).forEach((t) => clearInterval(t));\r\n    timersRef.current = {};\r\n    // create timers per property with random stagger to avoid sync\r\n    (propertyItems || []).forEach((p, idx) => {\r\n      const imgs = Array.isArray(p.images) ? p.images : [p.image];\r\n      if (!imgs || imgs.length <= 1) return;\r\n      const delay = 2800 + Math.floor(Math.random() * 1700); // 2.8s - 4.5s\r\n      timersRef.current[p.id] = setInterval(() => {\r\n        setImageIndexById((prev) => ({\r\n          ...prev,\r\n          [p.id]: ((prev[p.id] ?? 0) + 1) % imgs.length,\r\n        }));\r\n      }, delay);\r\n    });\r\n    return () => {\r\n      Object.values(timersRef.current).forEach((t) => clearInterval(t));\r\n      timersRef.current = {};\r\n    };\r\n  }, [propertyItems]);\r\n\r\n  const reactSelectStyles = {\r\n    control: (base) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      borderColor: '#d1d5db',\r\n      boxShadow: 'none',\r\n      minHeight: 38,\r\n      ':hover': { borderColor: '#0A421E' }\r\n    }),\r\n    option: (base, state) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      backgroundColor: state.isSelected ? '#0A421E' : state.isFocused ? '#ECFDF5' : 'white',\r\n      color: state.isSelected ? 'white' : '#111827'\r\n    }),\r\n    singleValue: (base) => ({ ...base, color: '#111827', fontSize: 12 }),\r\n    placeholder: (base) => ({ ...base, color: '#6b7280', fontSize: 12 }),\r\n    input: (base) => ({ ...base, fontSize: 12 }),\r\n    indicatorSeparator: () => ({ display: 'none' })\r\n  };\r\n\r\n  const categories = ['Residential', 'Commercial', 'Plot', 'Other'];\r\n  const bedroomOptions = ['1', '2', '3', '4', '5+'];\r\n  const amenitiesOptions = ['Gym', 'Swimming Pool', 'Parking', 'Security', 'Balcony'];\r\n\r\n  // Using API-backed propertyItems state instead of hardcoded list\r\n\r\n  const handleCategoryChange = (category) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      categories: prev.categories[0] === category ? [] : [category]\r\n    }));\r\n  };\r\n\r\n  const handleBedroomChange = (bedroom) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      bedrooms: prev.bedrooms === bedroom ? null : bedroom // Single select - toggle off if same, select if different\r\n    }));\r\n  };\r\n\r\n\r\n\r\n  const getAmenityIcon = (amenity) => {\r\n    const name = amenity.toLowerCase();\r\n    if (name.includes('gym')) return <FaDumbbell className=\"w-3 h-3\" />;\r\n    if (name.includes('pool')) return <FaSwimmingPool className=\"w-3 h-3\" />;\r\n    if (name.includes('parking')) return <FaCar className=\"w-3 h-3\" />;\r\n    if (name.includes('security')) return <FaShieldAlt className=\"w-3 h-3\" />;\r\n    if (name.includes('power')) return <FaBolt className=\"w-3 h-3\" />;\r\n    if (name.includes('lift') || name.includes('elevator')) return <FaArrowUp className=\"w-3 h-3\" />;\r\n    if (name.includes('garden') || name.includes('park')) return <FaTree className=\"w-3 h-3\" />;\r\n    if (name.includes('water')) return <FaTint className=\"w-3 h-3\" />;\r\n    if (name.includes('club')) return <FaGlassCheers className=\"w-3 h-3\" />;\r\n    return <FaBuilding className=\"w-3 h-3\" />;\r\n  };\r\n\r\n  const handleAmenityChange = (amenity) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      amenities: prev.amenities.includes(amenity)\r\n        ? prev.amenities.filter(a => a !== amenity)\r\n        : [...prev.amenities, amenity]\r\n    }));\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      search: \"\",\r\n      categories: [],\r\n      priceRange: [5000, 100000000],\r\n      bedrooms: null, // Changed to null for single select\r\n      amenities: [],\r\n      city: '' // Reset city filter if it exists\r\n    });\r\n    // Reset price input fields\r\n    setPriceMinInput('');\r\n    setPriceMaxInput('');\r\n    setIsEditingMin(false);\r\n    setIsEditingMax(false);\r\n    // Reset secondary filters (clear broker filter on reset)\r\n    setSecondaryFilters({\r\n      bathrooms: null,\r\n      furnishingType: null,\r\n      facingDirection: null,\r\n      possessionStatus: null,\r\n      postedBy: null,\r\n      broker: null, // Clear broker filter on reset\r\n      verificationStatus: null\r\n    });\r\n    // Reset region selection\r\n    setSelectedRegion(null);\r\n    // Reset sorting\r\n    setSortBy(null);\r\n    setSortOrder(null);\r\n    // Reset pagination\r\n    setCurrentPage(1);\r\n    // Reset secondary filters visibility\r\n    setShowSecondaryFilters(false);\r\n\r\n    // Clear coordinate-based filters\r\n    setUrlLatitude(null);\r\n    setUrlLongitude(null);\r\n\r\n    // Clear URL-based search parameters (latitude, longitude)\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        sp.delete('latitude');\r\n        sp.delete('longitude');\r\n        const newUrl = window.location.pathname + (sp.toString() ? `?${sp.toString()}` : '');\r\n        window.history.replaceState({}, '', newUrl);\r\n      } catch (error) {\r\n        console.error('Error clearing URL parameters:', error);\r\n      }\r\n    }\r\n\r\n    // Dispatch event to clear navbar search bar\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('clearNavbarSearch'));\r\n    }\r\n  };\r\n\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(price);\r\n  };\r\n\r\n  // Handle price min input on blur\r\n  const handlePriceMinInput = (value) => {\r\n    const numValue = parseInt(value?.toString().replace(/[^0-9]/g, '') || '0');\r\n    const min = Math.max(5000, Math.min(numValue, filters.priceRange[1], 100000000));\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      priceRange: [min, prev.priceRange[1]]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Handle price max input on blur\r\n  const handlePriceMaxInput = (value) => {\r\n    const numValue = parseInt(value?.toString().replace(/[^0-9]/g, '') || '0');\r\n    const max = Math.min(100000000, Math.max(numValue, filters.priceRange[0], 5000));\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      priceRange: [prev.priceRange[0], max]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col md:grid md:grid-cols-12 gap-4 md:gap-4 lg:gap-8\">\r\n        {/* Filter Sidebar - 3 columns */}\r\n        <div className=\"w-full md:col-span-3\">\r\n          {isLoading ? (\r\n            <div className=\"bg-white rounded-lg p-6\">\r\n              <div className=\"space-y-6\">\r\n                {/* Filter Header Skeleton */}\r\n                <div className=\"flex items-center mb-6 pb-4 border-b border-gray-200\">\r\n                  <div className=\"w-5 h-5 bg-gray-200 rounded mr-2\"></div>\r\n                  <div className=\"h-6 bg-gray-200 rounded w-32\"></div>\r\n                </div>\r\n\r\n                {/* Category Filter Skeleton */}\r\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-16 mb-4\"></div>\r\n                  <div className=\"space-y-3\">\r\n                  {[1,2,3,4,5].map((i) => (\r\n                      <div key={i} className=\"flex items-center\">\r\n                        <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                        <div className=\"ml-3 h-4 bg-gray-200 rounded w-20\"></div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Price Filter Skeleton */}\r\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-12 mb-4\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-32 mb-4\"></div>\r\n                  <div className=\"h-2 bg-gray-200 rounded\"></div>\r\n                </div>\r\n\r\n                {/* Bedrooms Filter Skeleton */}\r\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-20 mb-4\"></div>\r\n                  <div className=\"space-y-3\">\r\n                  {[1,2,3,4].map((i) => (\r\n                      <div key={i} className=\"flex items-center\">\r\n                        <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                        <div className=\"ml-3 h-4 bg-gray-200 rounded w-16\"></div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Amenities Filter Skeleton */}\r\n                <div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-20 mb-4\"></div>\r\n                  <div className=\"space-y-3\">\r\n                    {[1, 2, 3, 4, 5].map((i) => (\r\n                      <div key={i} className=\"flex items-center\">\r\n                        <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                        <div className=\"ml-3 h-4 bg-gray-200 rounded w-24\"></div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white rounded-lg p-3 md:p-4 shadow-sm border border-gray-200 space-y-4 md:space-y-5\">\r\n\r\n              {/* Filter Results Heading */}\r\n              <div className=\"flex items-center gap-2 mb-3 md:mb-4 pb-3 md:pb-4 border-b border-gray-200\">\r\n                <svg className=\"w-4 h-4 md:w-5 md:h-5 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\r\n                </svg>\r\n                <h2 className=\"text-[18px] md:text-[20px] leading-[24px] md:leading-[28px] font-semibold\" style={{ fontWeight: '600', color: '#171A1FFF' }}>Filter Results</h2>\r\n              </div>\r\n\r\n\r\n              {/* Property Type Filter */}\r\n              <div className=\"mb-5\">\r\n                <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Property Type</h3>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {categories.map((category) => {\r\n                    const selected = filters.categories[0] === category;\r\n                    return (\r\n                      <button\r\n                        key={category}\r\n                        type=\"button\"\r\n                        onClick={() => handleCategoryChange(category)}\r\n                        style={{\r\n                          fontFamily: 'Inter',\r\n                          fontSize: '11px',\r\n                          lineHeight: '20px',\r\n                          fontWeight: '500',\r\n                          color: '#171A1FFF',\r\n                          background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                          borderRadius: '6px',\r\n                          transition: 'all 0.2s',\r\n                        }}\r\n                        className={`p-[10px] transition-colors ${selected\r\n                          ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                          : 'hover:bg-[#B8BECAFF]'\r\n                          }`}\r\n                      >\r\n                        {category}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Region/Location Filter */}\r\n              <div className=\"mb-5\">\r\n                <h3 className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Region/Location</h3>\r\n                <Select\r\n                  instanceId=\"property-region-select\"\r\n                  styles={reactSelectStyles}\r\n                  className=\"cursor-pointer\"\r\n                  options={regions}\r\n                  value={selectedRegion}\r\n                  onChange={(option) => setSelectedRegion(option)}\r\n                  placeholder={regionsLoading ? \"Loading regions...\" : \"Select Region\"}\r\n                  isSearchable\r\n                  isClearable\r\n                  isLoading={regionsLoading}\r\n                />\r\n              </div>\r\n\r\n              {/* Price/Budget Range (INR) Filter */}\r\n              <div className=\"mb-5\">\r\n                <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Budget Range</h3>\r\n                <div className=\"relative\">\r\n                  {/* Min and Max Value Display - Editable Inputs */}\r\n                  <div className=\"flex justify-between gap-4 mb-3\">\r\n                    <div className=\"flex-1\">\r\n                      <label className=\"block text-xs mb-1\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '14px', fontWeight: '400', color: '#565D6DFF' }}>Min</label>\r\n                      <div className=\"relative\">\r\n                        <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#171A1FFF' }}></span>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={isEditingMin ? priceMinInput : filters.priceRange[0].toLocaleString()}\r\n                          onChange={(e) => {\r\n                            const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                            setPriceMinInput(rawValue);\r\n                            if (rawValue !== '') {\r\n                              const numValue = parseInt(rawValue);\r\n                              if (!isNaN(numValue)) {\r\n                                const min = Math.max(5000, Math.min(numValue, filters.priceRange[1], 100000000));\r\n                                setFilters(prev => ({\r\n                                  ...prev,\r\n                                  priceRange: [min, prev.priceRange[1]]\r\n                                }));\r\n                                setCurrentPage(1);\r\n                              }\r\n                            }\r\n                          }}\r\n                          onFocus={(e) => {\r\n                            setIsEditingMin(true);\r\n                            setPriceMinInput(filters.priceRange[0].toString());\r\n                            e.target.select();\r\n                          }}\r\n                          onBlur={(e) => {\r\n                            setIsEditingMin(false);\r\n                            const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                            const numValue = rawValue === '' ? 5000 : parseInt(rawValue);\r\n                            handlePriceMinInput(numValue);\r\n                            setPriceMinInput('');\r\n                          }}\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                              e.target.blur();\r\n                            }\r\n                          }}\r\n                          className=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                          style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#9CA3AF' }}\r\n                          placeholder=\"5,000\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <label className=\"block text-xs mb-1\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '14px', fontWeight: '400', color: '#565D6DFF' }}>Max</label>\r\n                      <div className=\"relative\">\r\n                        <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#171A1FFF' }}></span>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={isEditingMax ? priceMaxInput : filters.priceRange[1].toLocaleString()}\r\n                          onChange={(e) => {\r\n                            const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                            setPriceMaxInput(rawValue);\r\n                            if (rawValue !== '') {\r\n                              const numValue = parseInt(rawValue);\r\n                              if (!isNaN(numValue)) {\r\n                                const max = Math.min(100000000, Math.max(numValue, filters.priceRange[0], 5000));\r\n                                setFilters(prev => ({\r\n                                  ...prev,\r\n                                  priceRange: [prev.priceRange[0], max]\r\n                                }));\r\n                                setCurrentPage(1);\r\n                              }\r\n                            }\r\n                          }}\r\n                          onFocus={(e) => {\r\n                            setIsEditingMax(true);\r\n                            setPriceMaxInput(filters.priceRange[1].toString());\r\n                            e.target.select();\r\n                          }}\r\n                          onBlur={(e) => {\r\n                            setIsEditingMax(false);\r\n                            const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                            const numValue = rawValue === '' ? 100000000 : parseInt(rawValue);\r\n                            handlePriceMaxInput(numValue);\r\n                            setPriceMaxInput('');\r\n                          }}\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                              e.target.blur();\r\n                            }\r\n                          }}\r\n                          className=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                          style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#9CA3AF' }}\r\n                          placeholder=\"100,000,000\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Slider Container */}\r\n                  <div className=\"relative h-2 rounded-lg overflow-visible\" style={{ backgroundColor: '#B2F0C8' }}>\r\n                    {/* Active Range Indicator (dark green) with soft glow */}\r\n                    <div\r\n                      className=\"h-2 absolute rounded-lg pointer-events-none\"\r\n                      style={{\r\n                        backgroundColor: '#1C5032',\r\n                        left: `${((filters.priceRange[0] - 5000) / (100000000 - 5000)) * 100}%`,\r\n                        width: `${((filters.priceRange[1] - filters.priceRange[0]) / (100000000 - 5000)) * 100}%`,\r\n                        transition: 'all 0.1s ease',\r\n                        zIndex: 1,\r\n                        boxShadow: '0 0 6px rgba(28, 80, 50, 0.4), 0 0 2px rgba(28, 80, 50, 0.2)',\r\n                        filter: 'blur(0.3px)'\r\n                      }}\r\n                    ></div>\r\n\r\n                    {/* Min Range Input - Left slider (hidden/disabled) */}\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"5000\"\r\n                      max=\"100000000\"\r\n                      step=\"5000\"\r\n                      value={filters.priceRange[0]}\r\n                      onChange={(e) => {\r\n                        const val = Math.min(parseInt(e.target.value), filters.priceRange[1]);\r\n                        setFilters(prev => ({\r\n                          ...prev,\r\n                          priceRange: [val, prev.priceRange[1]]\r\n                        }));\r\n                        if (!isEditingMin) {\r\n                          setPriceMinInput('');\r\n                        }\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      disabled\r\n                      className=\"absolute top-1 w-full h-2 bg-transparent appearance-none slider-min hidden\"\r\n                      style={{\r\n                        zIndex: 2,\r\n                        pointerEvents: 'none'\r\n                      }}\r\n                    />\r\n\r\n                    {/* Max Range Input - Right slider (full width for interaction) */}\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"5000\"\r\n                      max=\"100000000\"\r\n                      step=\"5000\"\r\n                      value={filters.priceRange[1]}\r\n                      onChange={(e) => {\r\n                        const val = Math.max(parseInt(e.target.value), filters.priceRange[0]);\r\n                        setFilters(prev => ({\r\n                          ...prev,\r\n                          priceRange: [prev.priceRange[0], val]\r\n                        }));\r\n                        if (!isEditingMax) {\r\n                          setPriceMaxInput('');\r\n                        }\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      className=\"absolute top-1 w-full h-2 bg-transparent appearance-none cursor-pointer slider-max\"\r\n                      style={{\r\n                        zIndex: 3,\r\n                        pointerEvents: 'auto'\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Bedrooms (BHK) Filter */}\r\n              <div className=\"mb-5\">\r\n                <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Bedrooms (BHK)</h3>\r\n                <div className=\"flex w-full gap-2\">\r\n                  {bedroomOptions.map((bedroom) => {\r\n                    const selected = filters.bedrooms === bedroom; // Single select - check equality\r\n                    return (\r\n                      <button\r\n                        key={bedroom}\r\n                        type=\"button\"\r\n                        onClick={() => handleBedroomChange(bedroom)}\r\n                        style={{\r\n                          fontFamily: 'Inter',\r\n                          fontSize: '11px',\r\n                          lineHeight: '20px',\r\n                          fontWeight: '500',\r\n                          color: '#171A1FFF',\r\n                          background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                          borderRadius: '6px',\r\n                          transition: 'all 0.2s',\r\n                        }}\r\n                        className={`p-[10px] flex-1 text-center transition-colors ${selected\r\n                          ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                          : 'hover:bg-[#B8BECAFF]'\r\n                          }`}\r\n                      >\r\n                        {bedroom}\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              {/* More Filters Toggle */}\r\n              <div className=\"pt-4 border-t border-gray-200\">\r\n                <button\r\n                  onClick={() => setShowSecondaryFilters(!showSecondaryFilters)}\r\n                  className=\"flex items-center justify-between w-full text-sm font-medium text-gray-700 hover:text-gray-900\"\r\n                  style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '20px', fontWeight: '500', color: '#171A1FFF' }}\r\n                >\r\n                  <span>More Filters</span>\r\n                  <svg className=\"w-4 h-4 transition-transform\" style={{ transform: showSecondaryFilters ? 'rotate(180deg)' : 'rotate(0deg)' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Secondary Filters Content */}\r\n              {showSecondaryFilters && (\r\n                <div className=\"space-y-5 pt-4\">\r\n                 \r\n\r\n                  {/* Bathrooms */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Bathrooms</h3>\r\n                    <div className=\"flex w-full gap-2\">\r\n                      {['1', '2', '3', '4+'].map((bath) => {\r\n                        const selected = secondaryFilters.bathrooms === bath;\r\n                        return (\r\n                          <button\r\n                            key={bath}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, bathrooms: prev.bathrooms === bath ? null : bath }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] flex-1 text-center transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {bath}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Furnishing Type */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Furnishing Type</h3>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {['Furnished', 'Semi-Furnished', 'Unfurnished'].map((type) => {\r\n                        const selected = secondaryFilters.furnishingType === type;\r\n                        return (\r\n                          <button\r\n                            key={type}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, furnishingType: prev.furnishingType === type ? null : type }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {type}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Amenities (Checkboxes) */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Amenities</h3>\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      {['Parking', 'Security', 'Power Backup', 'Gym', 'Lift', 'Water Supply', 'Garden', 'Swimming Pool'].map((amenity) => (\r\n                        <label key={amenity} className=\"flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={filters.amenities.includes(amenity)}\r\n                            onChange={() => handleAmenityChange(amenity)}\r\n                            className=\"w-4 h-4 text-green-900 accent-green-900 border-gray-300 rounded focus:ring-green-900\"\r\n                          />\r\n                          <span className=\"ml-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '400', color: '#171A1FFF' }}>{amenity}</span>\r\n                        </label>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Facing Direction */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Facing Direction</h3>\r\n                    <div className=\"flex w-full gap-2\">\r\n                      {['North', 'East', 'South', 'West'].map((direction) => {\r\n                        const selected = secondaryFilters.facingDirection === direction;\r\n                        return (\r\n                          <button\r\n                            key={direction}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, facingDirection: prev.facingDirection === direction ? null : direction }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] flex-1 text-center transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {direction}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Possession Status */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Possession Status</h3>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {['Ready to Move', 'Under Construction', 'Upcoming'].map((status) => {\r\n                        const selected = secondaryFilters.possessionStatus === status;\r\n                        return (\r\n                          <button\r\n                            key={status}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, possessionStatus: prev.possessionStatus === status ? null : status }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {status}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Posted By */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Posted By</h3>\r\n                    <div className=\"flex w-full gap-2\">\r\n                      {['Broker', 'Admin'].map((postedBy) => {\r\n                        const selected = secondaryFilters.postedBy === postedBy;\r\n                        return (\r\n                          <button\r\n                            key={postedBy}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, postedBy: prev.postedBy === postedBy ? null : postedBy }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] flex-1 text-center transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {postedBy}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                 \r\n\r\n                  {/* Verification Status */}\r\n                  <div>\r\n                    <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Verification Status</h3>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {['Verified', 'Unverified'].map((status) => {\r\n                        const selected = secondaryFilters.verificationStatus === status;\r\n                        return (\r\n                          <button\r\n                            key={status}\r\n                            type=\"button\"\r\n                            onClick={() => setSecondaryFilters(prev => ({ ...prev, verificationStatus: prev.verificationStatus === status ? null : status }))}\r\n                            style={{\r\n                              fontFamily: 'Inter',\r\n                              fontSize: '11px',\r\n                              lineHeight: '20px',\r\n                              fontWeight: '500',\r\n                              color: '#171A1FFF',\r\n                              background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                              borderRadius: '6px',\r\n                              transition: 'all 0.2s',\r\n                            }}\r\n                            className={`p-[10px] transition-colors ${selected\r\n                              ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                              : 'hover:bg-[#B8BECAFF]'\r\n                              }`}\r\n                          >\r\n                            {status}\r\n                          </button>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n              )}\r\n\r\n              {/* Action Buttons - Always Visible */}\r\n              <div className=\"pt-4 border-t border-gray-200 mt-5\">\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={resetFilters}\r\n                    style={{\r\n                      fontFamily: 'Inter',\r\n                      fontSize: '12px',\r\n                      lineHeight: '22px',\r\n                      fontWeight: '500',\r\n                      color: '#171A1FFF'\r\n                    }}\r\n                    className=\"w-full py-1 border border-gray-300 text-[12px] font-medium rounded-lg bg-white hover:bg-white hover:border-gray-300 active:bg-white transition-colors\"\r\n                  >\r\n                    Reset\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Properties Grid - 9 columns */}\r\n        <div className=\"w-full md:col-span-9\">\r\n          {/* Tabs Bar */}\r\n          <TabsBar\r\n            activeTab={activeTab}\r\n            setActiveTab={setActiveTab}\r\n            sortBy={sortBy}\r\n            sortOrder={sortOrder}\r\n            onSortChange={handleSortChange}\r\n          />\r\n\r\n          {/* Properties Grid */}\r\n          {isLoading ? (\r\n            <div className=\"space-y-4 md:space-y-6\">\r\n              {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                <div key={i} className=\"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden\">\r\n                  <div className=\"flex flex-col md:flex-row\">\r\n                    {/* Image Section Skeleton - Left */}\r\n                    <div className=\"relative w-full md:w-[300px] lg:w-[400px] h-[200px] md:h-[260px] flex-shrink-0\">\r\n                      <ContentLoader\r\n                        speed={2}\r\n                        width={400}\r\n                        height={260}\r\n                        viewBox=\"0 0 400 260\"\r\n                        backgroundColor=\"#f3f3f3\"\r\n                        foregroundColor=\"#ecebeb\"\r\n                        className=\"rounded-l-xl\"\r\n                      >\r\n                        {/* Main image */}\r\n                        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"400\" height=\"260\" />\r\n                        {/* Tag overlay top-left */}\r\n                        <rect x=\"16\" y=\"16\" rx=\"12\" ry=\"12\" width=\"60\" height=\"24\" />\r\n                        {/* Rating badge top-right */}\r\n                        <circle cx=\"370\" cy=\"24\" r=\"16\" />\r\n                        <rect x=\"340\" y=\"20\" rx=\"4\" ry=\"4\" width=\"24\" height=\"8\" />\r\n                        {/* Price pill bottom-left */}\r\n                        <rect x=\"16\" y=\"228\" rx=\"12\" ry=\"12\" width=\"90\" height=\"24\" />\r\n                        {/* Share button bottom-right */}\r\n                        <circle cx=\"370\" cy=\"232\" r=\"20\" />\r\n                      </ContentLoader>\r\n                    </div>\r\n\r\n                    {/* Details Section Skeleton - Right */}\r\n                    <div className=\"flex-1 p-4 md:p-4 lg:p-5 min-h-[200px] md:h-[260px] flex flex-col md:min-w-0\">\r\n                      <ContentLoader\r\n                        speed={2}\r\n                        width={500}\r\n                        height={260}\r\n                        viewBox=\"0 0 500 260\"\r\n                        backgroundColor=\"#f3f3f3\"\r\n                        foregroundColor=\"#ecebeb\"\r\n                      >\r\n                        {/* Title */}\r\n                        <rect x=\"0\" y=\"0\" rx=\"4\" ry=\"4\" width=\"200\" height=\"20\" />\r\n                        {/* Verified badge */}\r\n                        <rect x=\"210\" y=\"2\" rx=\"4\" ry=\"4\" width=\"16\" height=\"16\" />\r\n\r\n                        {/* Description */}\r\n                        <rect x=\"0\" y=\"32\" rx=\"4\" ry=\"4\" width=\"418\" height=\"12\" />\r\n                        <rect x=\"0\" y=\"50\" rx=\"4\" ry=\"4\" width=\"350\" height=\"12\" />\r\n                        <rect x=\"0\" y=\"68\" rx=\"4\" ry=\"4\" width=\"300\" height=\"12\" />\r\n\r\n                        {/* Location icon and text */}\r\n                        <circle cx=\"6\" cy=\"100\" r=\"6\" />\r\n                        <rect x=\"18\" y=\"96\" rx=\"4\" ry=\"4\" width=\"100\" height=\"14\" />\r\n\r\n                        <circle cx=\"6\" cy=\"120\" r=\"6\" />\r\n                        <rect x=\"18\" y=\"116\" rx=\"4\" ry=\"4\" width=\"250\" height=\"14\" />\r\n\r\n                        {/* Features label */}\r\n                        <rect x=\"0\" y=\"150\" rx=\"4\" ry=\"4\" width=\"60\" height=\"14\" />\r\n                        {/* Bedroom badge */}\r\n                        <rect x=\"0\" y=\"172\" rx=\"12\" ry=\"12\" width=\"70\" height=\"28\" />\r\n                        {/* Bathroom badge */}\r\n                        <rect x=\"78\" y=\"172\" rx=\"12\" ry=\"12\" width=\"70\" height=\"28\" />\r\n\r\n                        {/* Amenities label */}\r\n                        <rect x=\"0\" y=\"220\" rx=\"4\" ry=\"4\" width=\"70\" height=\"14\" />\r\n                        {/* Amenity pills */}\r\n                        <rect x=\"0\" y=\"242\" rx=\"12\" ry=\"12\" width=\"60\" height=\"20\" />\r\n                        <rect x=\"68\" y=\"242\" rx=\"12\" ry=\"12\" width=\"60\" height=\"20\" />\r\n                        <rect x=\"136\" y=\"242\" rx=\"12\" ry=\"12\" width=\"70\" height=\"20\" />\r\n                        <rect x=\"214\" y=\"242\" rx=\"12\" ry=\"12\" width=\"80\" height=\"20\" />\r\n                      </ContentLoader>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {/* Results Heading */}\r\n              <div className=\"mb-4 md:mb-6\">\r\n                <h2 className=\"text-[16px] md:text-[18px] font-semibold text-gray-900\">\r\n                  {propertyItems.length} Property Found\r\n                  <p className=\"text-[10px] md:text-[12px] text-gray-600\">\r\n                    Experts that match your selected region & specialization.\r\n                  </p>\r\n                </h2>\r\n\r\n              </div>\r\n\r\n              {!isLoading && hasLoaded && propertyItems.length === 0 ? (\r\n                <div className=\"flex items-center justify-center \">\r\n                  <div className=\"w-full mx-auto px-6 py-12 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50\">\r\n                    <div className=\"flex flex-col items-center justify-center text-center\">\r\n                      {/* Image/Icon */}\r\n                      <div className=\"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center mb-6\">\r\n                        <svg\r\n                          className=\"w-12 h-12 text-gray-400\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth=\"2\"\r\n                            d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                          />\r\n                        </svg>\r\n                      </div>\r\n                      {/* Primary Message */}\r\n                      <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                        No properties found\r\n                      </h3>\r\n                      {/* Secondary Message */}\r\n                      <p className=\"text-sm text-gray-500 mb-6 max-w-md\">\r\n                        {filters.categories.length > 0 ||\r\n                          filters.bedrooms !== null ||\r\n                          filters.amenities.length > 0 ||\r\n                          filters.priceRange[0] > 5000 ||\r\n                          filters.priceRange[1] < 100000000 ||\r\n                          filters.search ||\r\n                          selectedRegion ||\r\n                          Object.values(secondaryFilters).some(v => v !== null)\r\n                          ? \"No properties match your current search filters. Try removing some filters or adjusting your search criteria to see more results.\"\r\n                          : \"No properties are currently available. Please check back later or contact us for assistance.\"}\r\n                      </p>\r\n                      {/* Action Buttons */}\r\n                      {(filters.categories.length > 0 ||\r\n                        filters.bedrooms !== null ||\r\n                        filters.amenities.length > 0 ||\r\n                        filters.priceRange[0] > 5000 ||\r\n                        filters.priceRange[1] < 100000000 ||\r\n                        filters.search ||\r\n                        selectedRegion ||\r\n                        Object.values(secondaryFilters).some(v => v !== null)) && (\r\n                          <button\r\n                            onClick={resetFilters}\r\n                            className=\"inline-flex items-center px-6 py-2.5 bg-green-900 text-white text-sm font-semibold rounded-lg hover:bg-green-950 transition-colors\"\r\n                          >\r\n                            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                            Clear All Filters\r\n                          </button>\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"space-y-4 md:space-y-6\">\r\n                    {/* Property cards - horizontal layout */}\r\n                    {propertyItems.map((property) => (\r\n                      <Link key={property.id} href={`/property-details/${property.id}`} className=\"block\">\r\n                        <div className=\"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden\">\r\n                          <div className=\"flex flex-col md:flex-row\">\r\n                            {/* Image Section - Left */}\r\n                            <div className=\"relative w-full md:w-[300px] lg:w-[400px] h-[200px] md:h-[260px] flex-shrink-0\">\r\n                              {/* Image carousel */}\r\n                              <div className=\"relative w-full h-full overflow-hidden rounded-t-xl md:rounded-l-xl md:rounded-t-none\">\r\n                                {(() => {\r\n                                  const imgs = Array.isArray(property.images) ? property.images : [property.image];\r\n                                  const idx = imageIndexById[property.id] ?? 0;\r\n                                  return (\r\n                                    <>\r\n                                      {imgs.map((src, i) => (\r\n                                        <div key={i} className={`absolute inset-0 transition-opacity duration-700 ease-in-out ${idx === i ? 'opacity-100' : 'opacity-0'}`}>\r\n                                          <img src={src} alt={`${property.name}-${i}`} className=\"block w-full h-full object-cover\" />\r\n                                        </div>\r\n                                      ))}\r\n                                    </>\r\n                                  );\r\n                                })()}\r\n                              </div>\r\n                              {/* Tag overlay - top-left */}\r\n                              <div className=\"absolute top-2 md:top-4 left-2 md:left-4\">\r\n                                <span\r\n                                  className=\"inline-flex items-center justify-center rounded-full h-[18px] md:h-[22px] px-2 md:p-[10px] whitespace-nowrap\"\r\n                                  style={{ fontFamily: 'Inter', fontSize: '10px', lineHeight: '16px', fontWeight: '600', background: '#FDC700', color: '#1b1d20ff' }}\r\n                                >\r\n                                  {property.type}\r\n                                </span>\r\n                              </div>\r\n                              {/* Rating - top-right */}\r\n                              <div className=\"absolute top-2 md:top-4 right-2 md:right-4 flex items-center bg-[#FDC700] rounded-full px-2 py-1 shadow-sm\">\r\n                                <FaStar className=\"w-3 h-3 text-black mr-1\" />\r\n                                <span className=\"text-[10px] md:text-xs font-bold text-black\">{property.rating}</span>\r\n                              </div>\r\n                              {/* Price pill bottom-left */}\r\n                              <div className=\"absolute bottom-2 md:bottom-4 left-2 md:left-4 z-10\">\r\n                                <span className=\"inline-flex items-center justify-center rounded-full h-[18px] md:h-[22px] px-2 md:p-[10px] whitespace-nowrap\"\r\n                                  style={{ fontFamily: 'Inter', fontSize: '10px', lineHeight: '16px', fontWeight: '600', background: '#FDC700', color: '#1b1d20ff' }}\r\n                                >\r\n                                  {property.currentPrice}\r\n                                </span>\r\n                              </div>\r\n                              {/* Share icon bottom-right */}\r\n                              <button\r\n                                aria-label=\"Share\"\r\n                                onClick={(e) => {\r\n                                  e.preventDefault();\r\n                                  e.stopPropagation();\r\n                                  setCurrentShareUrl(`${window.location.origin}/property-details/${property.id}`);\r\n                                  setShareModalOpen(true);\r\n                                }}\r\n                                className=\"absolute bottom-2 md:bottom-4 right-2 md:right-4 w-8 h-8 md:w-10 md:h-10 rounded-full bg-white shadow-md flex items-center justify-center text-gray-500 hover:text-gray-700 z-10 cursor-pointer hover:bg-gray-50 transition-colors border border-gray-100\"\r\n                              >\r\n                                <svg className=\"w-4 h-4 md:w-5 md:h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367 2.684z\" />\r\n                                </svg>\r\n                              </button>\r\n                            </div>\r\n\r\n                            {/* Details Section - Right */}\r\n                            <div className=\"flex-1 p-4 md:p-4 lg:p-5 min-h-[200px] md:h-[260px] flex flex-col md:min-w-0\">\r\n                              {/* Title */}\r\n                              <h3 className=\"mb-2 flex items-center gap-2 text-[14px] md:text-[14px] lg:text-[16px] leading-[20px] md:leading-[20px] lg:leading-[22px] font-semibold\" style={{ fontWeight: '600', color: '#171A1FFF' }}>\r\n                                <span className=\"truncate\">{property.name}</span>\r\n                                <svg className=\"w-3 h-3 md:w-3 md:h-3 lg:w-3.5 lg:h-3.5 text-[#0A421E] flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth=\"2.5\" strokeLinecap=\"round\">\r\n                                  <path d=\"M7 17l10-10M7 7h10v10\" />\r\n                                </svg>\r\n                              </h3>\r\n\r\n                              {/* Description */}\r\n                              <p className=\"mb-2 md:mb-2 lg:mb-3 text-[11px] md:text-[11px] lg:text-[12px] leading-[15px] md:leading-[15px] lg:leading-[16px] line-clamp-2 md:line-clamp-2 lg:line-clamp-3\" style={{ fontFamily: 'Inter', fontWeight: '400', color: '#565D6DFF' }}>\r\n                                {property.description || `A spacious and well-lit property in a prime location, perfect for families. Enjoy modern amenities and easy access to city facilities.`}\r\n                              </p>\r\n\r\n                              {/* Location Details */}\r\n                              <div className=\"flex flex-col gap-1.5 md:gap-1.5 lg:gap-2 mb-2 md:mb-2 lg:mb-3\">\r\n                                {/* <div className=\"flex items-center text-[12px] text-gray-600\">\r\n                        <svg className=\"w-4 h-4 mr-1 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                        </svg>\r\n                        {property.city || 'Agra'}\r\n                </div> */}\r\n                                <div className=\"flex items-center text-[11px] md:text-[11px] lg:text-[12px] text-[#0A421E] font-medium min-w-0\">\r\n                                  <svg className=\"w-3 h-3 md:w-3.5 md:h-3.5 lg:w-4 lg:h-4 mr-1 text-[#0A421E] flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                                  </svg>\r\n                                  <span className=\"truncate min-w-0\">{Array.isArray(property.region)\r\n                                    ? property.region.map(r => (typeof r === 'string' ? r : r?.name)).filter(Boolean).join(', ')\r\n                                    : (typeof property.region === 'string' ? property.region : property.region?.name) || 'Electronic City, Noida, Uttar Pradesh, India'}</span>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Features */}\r\n                              <div className=\"mb-1.5 md:mb-1.5 lg:mb-2\">\r\n                                <div className=\"text-[11px] md:text-[11px] lg:text-[12px] font-semibold text-gray-900 mb-1.5 md:mb-1.5 lg:mb-2\">Features</div>\r\n                                <div className=\"flex flex-wrap gap-1.5 md:gap-1.5 lg:gap-2\">\r\n                                  {property.bedrooms && (\r\n                                    <span className=\"inline-flex items-center gap-0.5 md:gap-0.5 lg:gap-1 px-2 md:px-2 lg:px-2.5 py-0.5 md:py-0.5 lg:py-1\" style={{ background: '#EDFDF4FF', borderRadius: '9999px', borderWidth: '1px', borderColor: '#00000000', borderStyle: 'solid' }}>\r\n                                      <svg className=\"w-3 h-3 md:w-3.5 md:h-3.5 lg:w-4 lg:h-4\" style={{ color: '#19191FFF' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth=\"2\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 12h18M3 12l-1 8a2 2 0 002 2h16a2 2 0 002-2l-1-8M3 12V9a2 2 0 012-2h5m0 0h6a2 2 0 012 2v3m0 0v3a2 2 0 01-2 2h-6v0M9 21h6\" />\r\n                                      </svg>\r\n                                      <span className=\"text-[11px] md:text-[11px] lg:text-[12px] leading-[14px] md:leading-[14px] lg:leading-[16px] font-semibold\" style={{ fontFamily: 'Inter', fontWeight: '600', color: '#19191FFF' }}>{property.bedrooms} bd</span>\r\n                                    </span>\r\n                                  )}\r\n                                  {property.bathrooms && (\r\n                                    <span className=\"inline-flex items-center gap-0.5 md:gap-0.5 lg:gap-1 px-2 md:px-2 lg:px-2.5 py-0.5 md:py-0.5 lg:py-1\" style={{ background: '#EDFDF4FF', borderRadius: '9999px', borderWidth: '1px', borderColor: '#00000000', borderStyle: 'solid' }}>\r\n                                      <svg className=\"w-3 h-3 md:w-3.5 md:h-3.5 lg:w-4 lg:h-4\" style={{ color: '#19191FFF' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth=\"2\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2m0 0h4a2 2 0 012 2v8a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2h8zm0 0v4\" />\r\n                                      </svg>\r\n                                      <span className=\"text-[11px] md:text-[11px] lg:text-[12px] leading-[14px] md:leading-[14px] lg:leading-[16px] font-semibold\" style={{ fontFamily: 'Inter', fontWeight: '600', color: '#19191FFF' }}>{property.bathrooms} bt</span>\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Amenities */}\r\n                              <div className=\"mt-auto\">\r\n                                <div className=\"text-[11px] md:text-[11px] lg:text-[12px] font-semibold text-gray-900 mb-1.5 md:mb-1.5 lg:mb-2\">Amenities</div>\r\n                                <div className=\"flex flex-wrap gap-1.5 md:gap-1.5 lg:gap-2 text-[10px] md:text-[10px] lg:text-[11px]\">\r\n                                  {(() => {\r\n                                    const amenitiesList = Array.isArray(property.amenities) && property.amenities.length > 0 ? property.amenities : ['Gym', 'Parking', 'Security', 'Swimming Pool', 'Clubhouse'];\r\n                                    const displayCount = amenitiesList.length > 4 ? 4 : amenitiesList.length;\r\n                                    const remainingCount = amenitiesList.length - displayCount;\r\n\r\n                                    return (\r\n                                      <>\r\n                                        {amenitiesList.slice(0, displayCount).map((amenity, idx) => (\r\n                                          <span\r\n                                            key={idx}\r\n                                            className=\"inline-flex items-center gap-1 px-2 md:px-2 lg:px-2.5 py-0.5 md:py-0.5 lg:py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200\"\r\n                                          >\r\n                                            {getAmenityIcon(amenity)}\r\n                                            {amenity}\r\n                                          </span>\r\n                                        ))}\r\n                                        {remainingCount > 0 && (\r\n                                          <span className=\"inline-flex items-center px-2 md:px-2 lg:px-2.5 py-0.5 md:py-0.5 lg:py-1 rounded-full bg-gray-100 text-gray-700 border border-gray-200 font-medium\">\r\n                                            +{remainingCount}\r\n                                          </span>\r\n                                        )}\r\n                                      </>\r\n                                    );\r\n                                  })()}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </Link>\r\n                    ))}\r\n                  </div>\r\n\r\n                  {/* Share Modal */}\r\n                  <ShareModal\r\n                    isOpen={shareModalOpen}\r\n                    onClose={() => setShareModalOpen(false)}\r\n                    url={currentShareUrl}\r\n                  />\r\n\r\n                  {/* Pagination */}\r\n                  {pagination.total > 0 && pagination.totalPages > 1 && (\r\n                    <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mt-4 md:mt-6\">\r\n                      <p className=\"text-xs md:text-sm text-gray-600\">\r\n                        Showing {((pagination.page - 1) * pagination.limit) + 1}-{Math.min(pagination.page * pagination.limit, pagination.total)} of {pagination.total} results\r\n                      </p>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                          onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                          disabled={!pagination.hasPrevPage}\r\n                          className={`w-8 h-8 rounded-md border flex items-center justify-center ${!pagination.hasPrevPage\r\n                            ? 'bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed'\r\n                            : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\r\n                            }`}\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\r\n                          </svg>\r\n                        </button>\r\n                        {Array.from({ length: Math.min(5, pagination.totalPages) }, (_, i) => {\r\n                          let page;\r\n                          if (pagination.totalPages <= 5) {\r\n                            page = i + 1;\r\n                          } else if (pagination.page <= 3) {\r\n                            page = i + 1;\r\n                          } else if (pagination.page >= pagination.totalPages - 2) {\r\n                            page = pagination.totalPages - 4 + i;\r\n                          } else {\r\n                            page = pagination.page - 2 + i;\r\n                          }\r\n                          return (\r\n                            <button\r\n                              key={page}\r\n                              onClick={() => setCurrentPage(page)}\r\n                              className={`w-8 h-8 rounded-md border flex items-center justify-center ${pagination.page === page\r\n                                ? 'bg-green-900 text-white border-green-900'\r\n                                : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\r\n                                }`}\r\n                            >\r\n                              {page}\r\n                            </button>\r\n                          );\r\n                        })}\r\n                        <button\r\n                          onClick={() => setCurrentPage(prev => Math.min(pagination.totalPages, prev + 1))}\r\n                          disabled={!pagination.hasNextPage}\r\n                          className={`w-8 h-8 rounded-md border flex items-center justify-center ${!pagination.hasNextPage\r\n                            ? 'bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed'\r\n                            : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\r\n                            }`}\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .slider-single {\r\n          background: transparent;\r\n        }\r\n        .slider-single::-webkit-slider-thumb {\r\n          appearance: none;\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: white;\r\n          cursor: pointer;\r\n          border: 2px solid #0A421E;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n        }\r\n        .slider-single::-moz-range-thumb {\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: white;\r\n          cursor: pointer;\r\n          border: 2px solid #0A421E;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n        }\r\n        .slider-single::-webkit-slider-track {\r\n          background: transparent;\r\n        }\r\n        .slider-single::-moz-range-track {\r\n          background: transparent;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PropertiesComponent;\r\n\r\n","'use client'\r\nimport React, { useState, useRef, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\n\r\nconst TabsBar = ({ activeTab, setActiveTab, sortBy, sortOrder, onSortChange }) => {\r\n  const router = useRouter()\r\n  const [isSortDropdownOpen, setIsSortDropdownOpen] = useState(false)\r\n  const sortDropdownRef = useRef(null)\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (sortDropdownRef.current && !sortDropdownRef.current.contains(event.target)) {\r\n        setIsSortDropdownOpen(false)\r\n      }\r\n    }\r\n\r\n    if (isSortDropdownOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [isSortDropdownOpen])\r\n\r\n  const handleTabClick = (tabId) => {\r\n    // Update state immediately to prevent flicker\r\n    setActiveTab(tabId)\r\n    \r\n    // Update URL with tab query parameter (use replaceState to avoid history entry)\r\n    if (typeof window !== 'undefined') {\r\n      const url = new URL(window.location)\r\n      url.searchParams.set('tab', tabId)\r\n      // Use replaceState instead of push to avoid creating history entries and prevent flicker\r\n      window.history.replaceState({}, '', url.toString())\r\n      \r\n      // Dispatch custom event to notify parent component of manual tab change\r\n      // This helps prevent URL polling from overriding the manual change\r\n      window.dispatchEvent(new CustomEvent('tabChanged', { detail: { tab: tabId } }));\r\n    }\r\n  }\r\n\r\n  // Get sort display text\r\n  const getSortDisplayText = () => {\r\n    if (!sortBy || sortBy === 'default' || sortBy === null) {\r\n      // Default text based on active tab\r\n      if (activeTab === 'properties') return 'Newest First'\r\n      if (activeTab === 'brokers') return 'Top Rated'\r\n      if (activeTab === 'leads') return 'Newest'\r\n      return 'Sort'\r\n    }\r\n    \r\n    if (sortBy === 'price') {\r\n      return sortOrder === 'asc' ? 'Price: Low to High' : 'Price: High to Low'\r\n    }\r\n    if (sortBy === 'createdAt' || sortBy === 'date-added') {\r\n      return sortOrder === 'desc' ? 'Newest First' : 'Oldest First'\r\n    }\r\n    if (sortBy === 'bedrooms') {\r\n      return sortOrder === 'desc' ? 'Bedrooms: High to Low' : 'Bedrooms: Low to High'\r\n    }\r\n    if (sortBy === 'rating') {\r\n      return sortOrder === 'desc' || sortOrder === 'high' ? 'Top Rated' : 'Lowest Rated'\r\n    }\r\n    if (sortBy === 'name') {\r\n      return sortOrder === 'asc' ? 'Name (A-Z)' : 'Name (Z-A)'\r\n    }\r\n    \r\n    // Default text based on active tab\r\n    if (activeTab === 'properties') return 'Newest First'\r\n    if (activeTab === 'brokers') return 'Top Rated'\r\n    if (activeTab === 'leads') return 'Newest'\r\n    return 'Sort'\r\n  }\r\n\r\n  // Get sort options based on active tab (without Relevance)\r\n  const getSortOptions = () => {\r\n    switch (activeTab) {\r\n      case 'properties':\r\n        return [\r\n          { value: 'createdAt-desc', label: 'Newest First', sortBy: 'createdAt', sortOrder: 'desc' },\r\n          { value: 'createdAt-asc', label: 'Oldest First', sortBy: 'createdAt', sortOrder: 'asc' },\r\n          { value: 'price-asc', label: 'Price: Low to High', sortBy: 'price', sortOrder: 'asc' },\r\n          { value: 'price-desc', label: 'Price: High to Low', sortBy: 'price', sortOrder: 'desc' },\r\n          { value: 'bedrooms-desc', label: 'Bedrooms: High to Low', sortBy: 'bedrooms', sortOrder: 'desc' },\r\n          { value: 'bedrooms-asc', label: 'Bedrooms: Low to High', sortBy: 'bedrooms', sortOrder: 'asc' }\r\n        ]\r\n      case 'brokers':\r\n        return [\r\n          { value: 'rating-high', label: 'Top Rated', sortBy: 'rating', sortOrder: 'desc' },\r\n          { value: 'rating-low', label: 'Lowest Rated', sortBy: 'rating', sortOrder: 'asc' },\r\n          { value: 'newest', label: 'Newest', sortBy: 'createdAt', sortOrder: 'desc' },\r\n          { value: 'oldest', label: 'Oldest', sortBy: 'createdAt', sortOrder: 'asc' }\r\n        ]\r\n      case 'leads':\r\n        return [\r\n          { value: 'newest', label: 'Newest', sortBy: 'createdAt', sortOrder: 'desc' },\r\n          { value: 'oldest', label: 'Oldest', sortBy: 'createdAt', sortOrder: 'asc' }\r\n        ]\r\n      default:\r\n        return []\r\n    }\r\n  }\r\n\r\n  const handleSortSelect = (option) => {\r\n    if (onSortChange) {\r\n      onSortChange(option.sortBy, option.sortOrder);\r\n    } else {\r\n      console.warn(' onSortChange is not defined');\r\n    }\r\n    setIsSortDropdownOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\" bg-white mb-4\">\r\n      <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-0 px-2 md:px-0\">\r\n        {/* ==== Left Tabs ==== */}\r\n      <div className=\"flex items-center bg-[#F3F4F6FF] overflow-hidden w-full sm:w-auto\">\r\n  {[\r\n    { id: 'brokers', label: 'Broker' },\r\n    { id: 'leads', label: 'Enquiries' },\r\n    { id: 'properties', label: 'Property Details' },\r\n  ].map((tab) => (\r\n    <button\r\n      key={tab.id}\r\n      onClick={() => handleTabClick(tab.id)}\r\n      className={`px-3 md:px-4 py-2 font-inter text-xs md:text-sm font-medium leading-[20px] md:leading-[22px] transition-colors\r\n        ${\r\n          activeTab === tab.id\r\n            ? 'bg-[#0A421E] text-white'\r\n            : 'bg-transparent text-[#565D6D] hover:text-[#171A1F]'\r\n        }`}\r\n    >\r\n      {tab.label}\r\n    </button>\r\n  ))}\r\n</div>\r\n\r\n        {/* ==== Right Controls ==== */}\r\n        <div className=\"flex items-center gap-2 w-full sm:w-auto\">\r\n          {/* Sort By Dropdown */}\r\n          <div className=\"relative flex-1 sm:flex-initial\" ref={sortDropdownRef}>\r\n            <button\r\n              onClick={() => setIsSortDropdownOpen(!isSortDropdownOpen)}\r\n              className=\"flex items-center justify-center gap-2 w-full sm:w-[183.3px] h-10 px-3 rounded-md border border-[#DEE1E6FF] bg-white\r\n                         font-inter text-sm leading-[22px] font-medium text-[#171A1FFF]\r\n                         hover:bg-white hover:text-[#171A1FFF]\r\n                         active:bg-white active:text-[#171A1FFF]\r\n                         disabled:opacity-40 transition-colors\"\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4 fill-[#171A1FFF]\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\"\r\n                />\r\n              </svg>\r\n              <span className=\"flex-1 text-left\">{getSortDisplayText()}</span>\r\n              <svg\r\n                className={`w-3 h-3 transition-transform ${isSortDropdownOpen ? 'rotate-180' : ''}`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </button>\r\n\r\n            {/* Sort Dropdown Menu */}\r\n            {isSortDropdownOpen && (\r\n              <div className=\"absolute right-0 mt-2 w-[200px] bg-white border border-[#DEE1E6FF] rounded-lg shadow-xl z-50 overflow-hidden\">\r\n                <div className=\"py-1\">\r\n                  {getSortOptions().map((option, index) => {\r\n                    // Check if this option is selected\r\n                    // For brokers tab, if sortBy is null, first option (Top Rated) should be considered selected\r\n                    let isSelected = false;\r\n                    if (activeTab === 'brokers' && !sortBy && !sortOrder && index === 0) {\r\n                      // Default to \"Top Rated\" when no sort is selected\r\n                      isSelected = true;\r\n                    } else {\r\n                      isSelected = sortBy === option.sortBy && sortOrder === option.sortOrder;\r\n                    }\r\n                    \r\n                    return (\r\n                      <button\r\n                        key={option.value}\r\n                        onClick={() => handleSortSelect(option)}\r\n                        className={`w-full text-left px-4 py-2.5 text-sm font-inter leading-[20px] transition-colors ${\r\n                          isSelected \r\n                            ? 'text-[#0A421E] font-semibold bg-[#ECFDF5]' \r\n                            : 'text-[#171A1FFF] hover:bg-gray-50'\r\n                        } ${index === 0 ? '' : 'border-t border-gray-100'}`}\r\n                      >\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span>{option.label}</span>\r\n                          {isSelected && (\r\n                            <svg className=\"w-4 h-4 text-[#0A421E]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                            </svg>\r\n                          )}\r\n                        </div>\r\n                      </button>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Horizontal divider below tabs */}\r\n      <div className=\"border-b border-gray-200 my-4\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TabsBar\r\n","'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport Select, { components } from 'react-select';\r\nimport Link from 'next/link';\r\nimport TabsBar from './TabsBar';\r\n\r\nconst LeadsComponent = ({ activeTab, setActiveTab }) => {\r\n  const router = useRouter();\r\n  const [leadFilters, setLeadFilters] = useState({\r\n    leadStatus: [],\r\n    leadType: [],\r\n    requirement: [],\r\n    budgetRange: [5000, 100000000],\r\n    city: '',\r\n    location: '',\r\n    preferredLocationPrimary: '', // Added for Primary Preferred Location dropdown\r\n    preferredLocationSecondary: '', // Added for Secondary Preferred Location dropdown\r\n    dateAdded: {\r\n      start: '2024-06-01',\r\n      end: ''\r\n    },\r\n    datePosted: '',\r\n    brokerAgent: [],\r\n    priority: [],\r\n    verificationStatus: true // Default to verified only\r\n  });\r\n\r\n  const [sortBy, setSortBy] = useState('createdAt');\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [uiLoading, setUiLoading] = useState(false);\r\n  const [leads, setLeads] = useState([]);\r\n  const [allLeads, setAllLeads] = useState([]);\r\n  const [filteredSortedLeads, setFilteredSortedLeads] = useState([]); // For pagination\r\n  const [leadsError, setLeadsError] = useState('');\r\n  const [totalLeads, setTotalLeads] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [leadsPerPage] = useState(9);\r\n  const [regions, setRegions] = useState([]);\r\n  const [regionsLoading, setRegionsLoading] = useState(false);\r\n  const [allRegions, setAllRegions] = useState([]); // All regions for Preferred Location dropdowns\r\n  const [allRegionsLoading, setAllRegionsLoading] = useState(false);\r\n  const [cities, setCities] = useState([\r\n    { value: 'Agra', label: 'Agra' },\r\n    { value: 'Noida', label: 'Noida' }\r\n  ]);\r\n  const [brokersOptions, setBrokersOptions] = useState([]);\r\n  const [brokersLoading, setBrokersLoading] = useState(false);\r\n  const [showSecondaryFilters, setShowSecondaryFilters] = useState(false);\r\n  const [showDateRangePicker, setShowDateRangePicker] = useState(false);\r\n  const [budgetMinInputValue, setBudgetMinInputValue] = useState('');\r\n  const [budgetMaxInputValue, setBudgetMaxInputValue] = useState('');\r\n  const [isEditingMin, setIsEditingMin] = useState(false);\r\n  const [isEditingMax, setIsEditingMax] = useState(false);\r\n  const [path, setPath] = useState('');\r\n  // Store latitude and longitude from URL for geocoding-based search\r\n  const [urlLatitude, setUrlLatitude] = useState(null);\r\n  const [urlLongitude, setUrlLongitude] = useState(null);\r\n\r\n  const searchParams = useSearchParams();\r\n\r\n  // Trigger skeleton loader when switching between tabs from header\r\n  useEffect(() => {\r\n    setPath(window.location.pathname);\r\n    setUiLoading(true);\r\n    const t = setTimeout(() => setUiLoading(false), 500);\r\n    return () => clearTimeout(t);\r\n  }, [activeTab]);\r\n\r\n  // Initialize city from URL param ?regionCity=...\r\n  useEffect(() => {\r\n    try {\r\n      const regionCity = searchParams?.get('regionCity');\r\n      if (regionCity) {\r\n        setLeadFilters(prev => ({ ...prev, city: regionCity, location: '' }));\r\n        setCurrentPage(1);\r\n      }\r\n    } catch {}\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Listen for latitude and longitude from URL (for geocoding-based search)\r\n  // Read immediately on mount to ensure coordinates are available before API calls\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const updateFromURL = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const latitudeParam = sp.get('latitude');\r\n        const longitudeParam = sp.get('longitude');\r\n\r\n        if (latitudeParam && longitudeParam) {\r\n          const lat = parseFloat(latitudeParam);\r\n          const lng = parseFloat(longitudeParam);\r\n          if (!isNaN(lat) && !isNaN(lng)) {\r\n            setUrlLatitude(lat);\r\n            setUrlLongitude(lng);\r\n          }\r\n        } else {\r\n          setUrlLatitude(null);\r\n          setUrlLongitude(null);\r\n        }\r\n      } catch (error) {\r\n        // Error reading URL params\r\n      }\r\n    };\r\n    // Read immediately on mount\r\n    updateFromURL();\r\n    // Also listen for URL changes (popstate, pushState, etc.)\r\n    const handlePopState = () => updateFromURL();\r\n    window.addEventListener('popstate', handlePopState);\r\n    // Check periodically for URL changes (in case of programmatic navigation)\r\n    const interval = setInterval(updateFromURL, 500);\r\n    return () => {\r\n      clearInterval(interval);\r\n      window.removeEventListener('popstate', handlePopState);\r\n    };\r\n  }, []);\r\n\r\n  // Fetch leads from API (following BrokersComponent pattern exactly)\r\n  const fetchLeads = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setLeadsError('');\r\n\r\n      // Use environment variable for API URL following app pattern\r\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n\r\n      // Build base query parameters with all filters (like BrokersComponent)\r\n      const baseQueryParams = new URLSearchParams();\r\n\r\n      // Add latitude and longitude if present (priority over region - like BrokersComponent)\r\n      if (urlLatitude !== null && urlLongitude !== null) {\r\n        baseQueryParams.append('latitude', urlLatitude.toString());\r\n        baseQueryParams.append('longitude', urlLongitude.toString());\r\n        baseQueryParams.append('radius', '50');\r\n      } else if (leadFilters.location) {\r\n        // Add region filter if provided (only if no lat/lng - like BrokersComponent)\r\n        baseQueryParams.append('regionId', leadFilters.location);\r\n      }\r\n\r\n      // Add other filters (only if NOT using coordinates - like BrokersComponent)\r\n      if (!urlLatitude || !urlLongitude) {\r\n        // Add status filters to API call\r\n        if (leadFilters.leadStatus.length > 0) {\r\n          leadFilters.leadStatus.forEach(status => {\r\n            baseQueryParams.append('status', status);\r\n          });\r\n        }\r\n\r\n        // Add property type (single-select) to API call\r\n        if (leadFilters.leadType.length === 1) {\r\n          baseQueryParams.append('propertyType', leadFilters.leadType[0]);\r\n        }\r\n\r\n        // Requirement (single-select)\r\n        if (leadFilters.requirement.length === 1) {\r\n          baseQueryParams.append('requirement', leadFilters.requirement[0]);\r\n        }\r\n\r\n        // Preferred Location Primary\r\n        if (leadFilters.preferredLocationPrimary) {\r\n          baseQueryParams.append('primaryRegionId', leadFilters.preferredLocationPrimary);\r\n        }\r\n\r\n        // Preferred Location Secondary\r\n        if (leadFilters.preferredLocationSecondary) {\r\n          baseQueryParams.append('secondaryRegionId', leadFilters.preferredLocationSecondary);\r\n        }\r\n\r\n        // Budget Range Filter\r\n        if (leadFilters.budgetRange[0] > 5000) {\r\n          baseQueryParams.append('budgetMin', String(leadFilters.budgetRange[0]));\r\n        }\r\n        if (leadFilters.budgetRange[1] < 100000000) {\r\n          baseQueryParams.append('budgetMax', String(leadFilters.budgetRange[1]));\r\n        }\r\n\r\n        // Date Range Filter\r\n        if (leadFilters.datePosted) {\r\n          if (leadFilters.datePosted === 'Today') {\r\n            baseQueryParams.append('dateRange', 'today');\r\n          } else if (leadFilters.datePosted === 'Last 7 Days') {\r\n            baseQueryParams.append('dateRange', 'last7days');\r\n          } else if (leadFilters.datePosted === 'Last 30 Days') {\r\n            const today = new Date();\r\n            const thirtyDaysAgo = new Date(today);\r\n            thirtyDaysAgo.setDate(today.getDate() - 30);\r\n            baseQueryParams.append('fromDate', thirtyDaysAgo.toISOString().split('T')[0]);\r\n            baseQueryParams.append('toDate', today.toISOString().split('T')[0]);\r\n          } else if (leadFilters.datePosted === 'Custom Range') {\r\n            if (leadFilters.dateAdded.start) {\r\n              baseQueryParams.append('fromDate', leadFilters.dateAdded.start);\r\n            }\r\n            if (leadFilters.dateAdded.end) {\r\n              baseQueryParams.append('toDate', leadFilters.dateAdded.end);\r\n            }\r\n          }\r\n        } else if (leadFilters.dateAdded.start || leadFilters.dateAdded.end) {\r\n          if (leadFilters.dateAdded.start) {\r\n            baseQueryParams.append('fromDate', leadFilters.dateAdded.start);\r\n          }\r\n          if (leadFilters.dateAdded.end) {\r\n            baseQueryParams.append('toDate', leadFilters.dateAdded.end);\r\n          }\r\n        } else {\r\n          baseQueryParams.append('fromDate', '2024-06-01');\r\n        }\r\n\r\n        // Add createdBy if a broker is selected\r\n        if ((leadFilters.brokerAgent || []).length > 0) {\r\n          baseQueryParams.append('createdBy', String((leadFilters.brokerAgent || [])[0]));\r\n        }\r\n      }\r\n\r\n      // Fetch leads with a single API call first, then paginate if needed (like BrokersComponent)\r\n      let allLeads = [];\r\n      const isLatLngSearch = urlLatitude !== null && urlLongitude !== null;\r\n\r\n      // For lat/lng search, only use baseQueryParams (which already has lat/lng)\r\n      // For region search, use pagination\r\n      const limit = isLatLngSearch ? null : 100;\r\n\r\n      // Prepare headers with Authorization if token exists\r\n      const token = typeof window !== 'undefined' ? (localStorage.getItem('token') || localStorage.getItem('authToken') || '') : '';\r\n      const headers = { 'Content-Type': 'application/json', ...(token ? { Authorization: `Bearer ${token}` } : {}) };\r\n\r\n      // For lat/lng search, make single API call without page/limit (like BrokersComponent)\r\n      if (isLatLngSearch) {\r\n        const queryParams = new URLSearchParams(baseQueryParams);\r\n        // Don't add page, limit for lat/lng searches\r\n\r\n        // Add sorting (only if user has explicitly selected a sort option - like BrokersComponent)\r\n        if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n          queryParams.append('sortBy', sortBy);\r\n          if (sortOrder) {\r\n            queryParams.append('sortOrder', sortOrder);\r\n          }\r\n        }\r\n\r\n        const queryString = queryParams.toString();\r\n        const apiUrlWithParams = queryString ? `${apiUrl}/leads?${queryString}` : `${apiUrl}/leads`;\r\n\r\n         (' Fetching leads with lat/lng, URL:', apiUrlWithParams);\r\n\r\n        const response = await fetch(apiUrlWithParams, { method: 'GET', headers });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch leads: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        // Extract leads data (like BrokersComponent)\r\n        let leadsData = [];\r\n        if (data?.data?.items && Array.isArray(data.data.items)) {\r\n          leadsData = data.data.items;\r\n        } else if (Array.isArray(data?.data?.leads)) {\r\n          leadsData = data.data.leads;\r\n        } else if (Array.isArray(data?.leads)) {\r\n          leadsData = data.leads;\r\n        } else if (Array.isArray(data?.data)) {\r\n          leadsData = data.data;\r\n        } else if (Array.isArray(data)) {\r\n          leadsData = data;\r\n        }\r\n\r\n        if (leadsData.length > 0) {\r\n          allLeads = leadsData;\r\n        }\r\n      } else {\r\n        // For region-based search, use pagination (like BrokersComponent)\r\n        let pageToFetch = 1;\r\n        let hasMorePages = true;\r\n\r\n        while (hasMorePages) {\r\n          const queryParams = new URLSearchParams(baseQueryParams);\r\n          queryParams.append('page', String(pageToFetch));\r\n          queryParams.append('limit', String(limit));\r\n\r\n          // Add sorting (only if user has explicitly selected a sort option - like BrokersComponent)\r\n          if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n            queryParams.append('sortBy', sortBy);\r\n            if (sortOrder) {\r\n              queryParams.append('sortOrder', sortOrder);\r\n            }\r\n          } else {\r\n            // Default sorting for non-coordinate searches\r\n            queryParams.append('sortBy', 'createdAt');\r\n            queryParams.append('sortOrder', 'desc');\r\n          }\r\n\r\n          const queryString = queryParams.toString();\r\n          const apiUrlWithParams = queryString ? `${apiUrl}/leads?${queryString}` : `${apiUrl}/leads`;\r\n\r\n           (`Fetching leads page ${pageToFetch}, URL:`, apiUrlWithParams);\r\n\r\n          const response = await fetch(apiUrlWithParams, { method: 'GET', headers });\r\n\r\n          if (!response.ok) {\r\n            throw new Error(`Failed to fetch leads: ${response.status}`);\r\n          }\r\n\r\n          const data = await response.json();\r\n\r\n          // Extract leads data (like BrokersComponent)\r\n          let leadsData = [];\r\n          if (data?.data?.items && Array.isArray(data.data.items)) {\r\n            leadsData = data.data.items;\r\n          } else if (Array.isArray(data?.data?.leads)) {\r\n            leadsData = data.data.leads;\r\n          } else if (Array.isArray(data?.leads)) {\r\n            leadsData = data.leads;\r\n          } else if (Array.isArray(data?.data)) {\r\n            leadsData = data.data;\r\n          } else if (Array.isArray(data)) {\r\n            leadsData = data;\r\n          }\r\n\r\n          if (leadsData.length > 0) {\r\n            allLeads = allLeads.concat(leadsData);\r\n\r\n            // Check pagination info from API response (like BrokersComponent)\r\n            const pagination = data?.data?.pagination || data?.pagination;\r\n            const totalPages = pagination?.totalPages;\r\n            const hasNextPage = pagination?.hasNextPage !== false;\r\n\r\n            if (pagination && totalPages) {\r\n              if (pageToFetch >= totalPages || (hasNextPage === false)) {\r\n                hasMorePages = false;\r\n              } else {\r\n                pageToFetch++;\r\n                if (pageToFetch > 10) {\r\n                  hasMorePages = false;\r\n                }\r\n              }\r\n            } else {\r\n              // If no pagination info, stop after first page\r\n              hasMorePages = false;\r\n            }\r\n          } else {\r\n            hasMorePages = false;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Get current broker ID to filter out own leads\r\n      let currentBrokerId = '';\r\n      let currentUserId = '';\r\n      if (token) {\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]));\r\n          currentUserId = payload.brokerId || payload.userId || payload.id || payload.sub || '';\r\n\r\n          // Fetch broker details to get the actual broker _id\r\n          if (currentUserId) {\r\n            try {\r\n              const brokerRes = await fetch(`${apiUrl}/brokers/${currentUserId}`, {\r\n                headers: { 'Content-Type': 'application/json', ...(token ? { Authorization: `Bearer ${token}` } : {}) }\r\n              });\r\n              if (brokerRes.ok) {\r\n                const brokerData = await brokerRes.json();\r\n                const broker = brokerData?.data?.broker || brokerData?.broker || brokerData?.data || brokerData;\r\n                currentBrokerId = broker?._id || broker?.id || '';\r\n              }\r\n            } catch (err) {\r\n              console.error('Error fetching broker details:', err);\r\n            }\r\n          }\r\n        } catch (err) {\r\n          // Error parsing token\r\n        }\r\n      }\r\n\r\n      // Filter out leads belonging to the logged-in broker\r\n      const filterOwnLeads = (leads) => {\r\n        if (!currentBrokerId && !currentUserId) return leads;\r\n\r\n        return leads.filter((lead) => {\r\n          let leadBrokerId = '';\r\n          const createdBy = lead.createdBy;\r\n\r\n          if (createdBy) {\r\n            if (typeof createdBy === 'string') {\r\n              leadBrokerId = createdBy;\r\n            } else if (typeof createdBy === 'object' && createdBy !== null) {\r\n              const obj = createdBy;\r\n              const userId = obj.userId;\r\n\r\n              if (userId && typeof userId === 'object' && userId !== null) {\r\n                leadBrokerId = userId._id || userId.id || '';\r\n              } else if (userId && typeof userId === 'string') {\r\n                leadBrokerId = userId;\r\n              }\r\n\r\n              if (!leadBrokerId) {\r\n                leadBrokerId = obj._id || obj.id || obj.brokerId || '';\r\n              }\r\n            }\r\n          }\r\n\r\n          const brokerIdStr = String(currentBrokerId || '').trim();\r\n          const userIdStr = String(currentUserId || '').trim();\r\n          const leadBrokerIdStr = String(leadBrokerId).trim();\r\n\r\n          const matchesBrokerId = brokerIdStr !== '' && leadBrokerIdStr === brokerIdStr;\r\n          const matchesUserId = userIdStr !== '' && leadBrokerIdStr === userIdStr;\r\n\r\n          return !matchesBrokerId && !matchesUserId; // Exclude if matches\r\n        });\r\n      };\r\n\r\n      // Process and set leads (like BrokersComponent)\r\n      if (allLeads.length > 0) {\r\n        // Filter out own leads\r\n        allLeads = filterOwnLeads(allLeads);\r\n         (' LeadsComponent: Filtered out own leads, remaining:', allLeads.length);\r\n\r\n        // For coordinate searches: use API response directly with pagination\r\n        if (isLatLngSearch) {\r\n          const totalCount = allLeads.length; // API should return all matching leads\r\n          setAllLeads(allLeads);\r\n          setFilteredSortedLeads(allLeads);\r\n          setTotalLeads(totalCount);\r\n          setLeadsError('');\r\n          setCurrentPage(1);\r\n          const itemsToDisplay = allLeads.slice(0, leadsPerPage);\r\n          setLeads(itemsToDisplay);\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n\r\n        // For non-coordinate searches: apply client-side filtering, sorting, pagination\r\n        let items = allLeads;\r\n\r\n        // Store full dataset for dependent dropdowns (city -> region)\r\n        setAllLeads(items);\r\n\r\n        // Apply client-side filtering (only for non-coordinate searches)\r\n        let filteredItems = items;\r\n\r\n        // Only apply filtering for non-coordinate searches (coordinate searches already returned early)\r\n        if (!isLatLngSearch) {\r\n          // Filter by Lead Status (client-side fallback if API filtering doesn't work properly)\r\n          if (leadFilters.leadStatus.length > 0) {\r\n            filteredItems = filteredItems.filter(lead => {\r\n              const leadStatus = lead.status || '';\r\n              return leadFilters.leadStatus.some(filterStatus => {\r\n                // Match exact status names (case-insensitive)\r\n                return leadStatus.toLowerCase() === filterStatus.toLowerCase();\r\n              });\r\n            });\r\n          }\r\n\r\n          // Client-side backup: filter by property type (single-select)\r\n          if (leadFilters.leadType.length === 1) {\r\n            const selectedType = leadFilters.leadType[0].toLowerCase();\r\n            filteredItems = filteredItems.filter(lead => (lead.propertyType || '').toLowerCase() === selectedType);\r\n          }\r\n\r\n          // Client-side backup if backend didn't apply requirement\r\n          if (leadFilters.requirement.length === 1) {\r\n            const selectedReq = leadFilters.requirement[0].toLowerCase();\r\n            const beforeCount = filteredItems.length;\r\n            const filtered = filteredItems.filter(lead => (lead.requirement || lead.req || '').toLowerCase() === selectedReq);\r\n            // Only override if backend didn't filter (sizes equal)\r\n            if (beforeCount === filteredItems.length) {\r\n              filteredItems = filtered;\r\n            }\r\n          }\r\n\r\n          // Filter by Priority\r\n          if (leadFilters.priority.length > 0) {\r\n            filteredItems = filteredItems.filter(lead => {\r\n              const leadPriority = lead.priority || lead.priorityLevel || '';\r\n              const priorityLower = leadPriority.toLowerCase();\r\n              return leadFilters.priority.some(filterPriority => {\r\n                const filterPriorityLower = filterPriority.toLowerCase();\r\n                return priorityLower.includes(filterPriorityLower);\r\n              });\r\n            });\r\n          }\r\n\r\n          // Skip client-side broker filtering if backend is already filtering via createdBy\r\n\r\n          // Filter by City (robust matching across fields)\r\n          if (leadFilters.city) {\r\n            const cityLower = leadFilters.city.toLowerCase();\r\n            filteredItems = filteredItems.filter(lead => {\r\n              const city = (lead.city || '').toString().toLowerCase();\r\n              const location = (lead.location || '').toString().toLowerCase();\r\n              const primaryRegion = (typeof lead.primaryRegion === 'string' ? lead.primaryRegion : lead.primaryRegion?.name || '').toString().toLowerCase();\r\n              const secondaryRegion = (typeof lead.secondaryRegion === 'string' ? lead.secondaryRegion : lead.secondaryRegion?.name || '').toString().toLowerCase();\r\n              const regionsArr = Array.isArray(lead.regions) ? lead.regions : [];\r\n\r\n              const match = (val) => !!val && (val === cityLower || val.includes(cityLower));\r\n              const regionsMatch = regionsArr.some(r => {\r\n                const name = (typeof r === 'string' ? r : r?.name || '').toString().toLowerCase();\r\n                return match(name);\r\n              });\r\n              return match(city) || match(location) || match(primaryRegion) || match(secondaryRegion) || regionsMatch;\r\n            });\r\n          }\r\n\r\n          // Filter by Region (robust matching by ID or name)\r\n          if (leadFilters.location) {\r\n            const regionFilterValue = leadFilters.location;\r\n            const isRegionID = typeof regionFilterValue === 'string' || typeof regionFilterValue === 'number';\r\n\r\n            filteredItems = filteredItems.filter(lead => {\r\n              // Check if lead has matching region ID\r\n              const primaryRegionID = lead.primaryRegion?._id || lead.primaryRegion?.id || lead.primaryRegion;\r\n              const secondaryRegionID = lead.secondaryRegion?._id || lead.secondaryRegion?.id || lead.secondaryRegion;\r\n\r\n              // Check if IDs match\r\n              if (isRegionID && String(regionFilterValue) === String(primaryRegionID) || String(regionFilterValue) === String(secondaryRegionID)) {\r\n                return true;\r\n              }\r\n\r\n              // Fallback: check names (case-insensitive)\r\n              const regionLower = String(regionFilterValue).toLowerCase();\r\n              const primaryRegion = (typeof lead.primaryRegion === 'string' ? lead.primaryRegion : lead.primaryRegion?.name || '').toString().toLowerCase();\r\n              const secondaryRegion = (typeof lead.secondaryRegion === 'string' ? lead.secondaryRegion : lead.secondaryRegion?.name || '').toString().toLowerCase();\r\n              const location = (lead.location || '').toString().toLowerCase();\r\n\r\n              return primaryRegion.includes(regionLower) || secondaryRegion.includes(regionLower) || location.includes(regionLower);\r\n            });\r\n          }\r\n\r\n          // Filter by Preferred Location Primary (client-side backup)\r\n          if (leadFilters.preferredLocationPrimary) {\r\n            filteredItems = filteredItems.filter(lead => {\r\n              const primaryRegionID = lead.primaryRegion?._id || lead.primaryRegion?.id || lead.primaryRegion;\r\n              return String(primaryRegionID) === String(leadFilters.preferredLocationPrimary);\r\n            });\r\n          }\r\n\r\n          // Filter by Preferred Location Secondary (client-side backup)\r\n          if (leadFilters.preferredLocationSecondary) {\r\n            filteredItems = filteredItems.filter(lead => {\r\n              const secondaryRegionID = lead.secondaryRegion?._id || lead.secondaryRegion?.id || lead.secondaryRegion;\r\n              return String(secondaryRegionID) === String(leadFilters.preferredLocationSecondary);\r\n            });\r\n          }\r\n        }\r\n\r\n        // Client-side sorting (fallback if API doesn't sort)\r\n        let sortedItems = [...filteredItems];\r\n        const currentSortBy = sortBy || 'createdAt';\r\n        const currentSortOrder = sortOrder || 'desc';\r\n        if (currentSortBy && currentSortOrder) {\r\n          sortedItems.sort((a, b) => {\r\n            let aValue, bValue;\r\n\r\n            if (currentSortBy === 'createdAt') {\r\n              aValue = new Date(a.createdAt || a.created_at || 0);\r\n              bValue = new Date(b.createdAt || b.created_at || 0);\r\n            } else if (currentSortBy === 'name') {\r\n              aValue = (a.name || a.leadName || a.clientName || '').toLowerCase();\r\n              bValue = (b.name || b.leadName || b.clientName || '').toLowerCase();\r\n            } else {\r\n              aValue = a[currentSortBy] || '';\r\n              bValue = b[currentSortBy] || '';\r\n            }\r\n\r\n            if (currentSortBy === 'createdAt') {\r\n              return currentSortOrder === 'asc' ? aValue - bValue : bValue - aValue;\r\n            } else if (currentSortBy === 'name') {\r\n              if (currentSortOrder === 'asc') {\r\n                return aValue.localeCompare(bValue);\r\n              } else {\r\n                return bValue.localeCompare(aValue);\r\n              }\r\n            } else {\r\n              // Numeric or other comparison\r\n              if (typeof aValue === 'number' && typeof bValue === 'number') {\r\n                return currentSortOrder === 'asc' ? aValue - bValue : bValue - aValue;\r\n              } else {\r\n                const aStr = String(aValue).toLowerCase();\r\n                const bStr = String(bValue).toLowerCase();\r\n                if (currentSortOrder === 'asc') {\r\n                  return aStr.localeCompare(bStr);\r\n                } else {\r\n                  return bStr.localeCompare(aStr);\r\n                }\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // Store filtered/sorted data for pagination\r\n        // Coordinate searches already returned early, so this code only runs for non-coordinate searches\r\n        setFilteredSortedLeads(sortedItems);\r\n        setTotalLeads(sortedItems.length);\r\n        setLeadsError('');\r\n        // Reset to page 1 and set initial page of leads\r\n        setCurrentPage(1);\r\n        const itemsToDisplay = sortedItems.slice(0, leadsPerPage);\r\n        setLeads(itemsToDisplay);\r\n      } else {\r\n        // No leads found\r\n        setLeads([]);\r\n        setTotalLeads(0);\r\n        setLeadsError('');\r\n      }\r\n    } catch (error) {\r\n      setLeadsError(`Error loading leads: ${error.message || 'Network error'}`);\r\n      setLeads([]);\r\n      setTotalLeads(0);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch leads when filters change or on initial mount (NOT on page change)\r\n  useEffect(() => {\r\n    // Debounce the API call to prevent multiple rapid calls (like BrokersComponent)\r\n    const timeoutId = setTimeout(() => {\r\n      fetchLeads();\r\n    }, 300); // 300ms debounce delay\r\n\r\n    // Cleanup timeout on unmount or dependency change\r\n    return () => clearTimeout(timeoutId);\r\n  }, [\r\n    leadFilters,\r\n    sortBy,\r\n    sortOrder,\r\n    urlLatitude,\r\n    urlLongitude\r\n  ]);\r\n\r\n  // Handle pagination separately - just re-slice existing filtered/sorted data\r\n  useEffect(() => {\r\n    if (filteredSortedLeads.length > 0) {\r\n      const start = (currentPage - 1) * leadsPerPage;\r\n      const itemsToDisplay = filteredSortedLeads.slice(start, start + leadsPerPage);\r\n      setLeads(itemsToDisplay);\r\n    }\r\n  }, [currentPage, filteredSortedLeads, leadsPerPage]);\r\n\r\n  // Reset UI loading when filters change (but don't show loading for filter changes)\r\n  useEffect(() => {\r\n    setUiLoading(false);\r\n  }, [leadFilters]);\r\n\r\n  // Fetch all brokers to populate Broker/Agent filter dropdown\r\n  useEffect(() => {\r\n    const fetchAllBrokers = async () => {\r\n      try {\r\n        setBrokersLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const limit = 100;\r\n        let page = 1;\r\n        let aggregated = [];\r\n        let total = 0;\r\n        for (let i = 0; i < 5; i++) {\r\n          const params = new URLSearchParams();\r\n          params.set('limit', String(limit));\r\n          params.set('page', String(page));\r\n          const res = await fetch(`${apiUrl}/brokers?${params.toString()}`);\r\n          if (!res.ok) break;\r\n          const data = await res.json().catch(() => ({}));\r\n          let items = [];\r\n          if (Array.isArray(data?.data?.items)) items = data.data.items;\r\n          else if (Array.isArray(data?.data?.brokers)) items = data.data.brokers;\r\n          else if (Array.isArray(data?.data)) items = data.data;\r\n          else if (Array.isArray(data?.brokers)) items = data.brokers;\r\n          else if (Array.isArray(data)) items = data;\r\n          if (!Array.isArray(items) || items.length === 0) break;\r\n          aggregated = aggregated.concat(items);\r\n          total = data?.data?.pagination?.totalItems || data?.pagination?.totalItems || aggregated.length;\r\n          if (aggregated.length >= total) break;\r\n          page += 1;\r\n        }\r\n        const opts = aggregated\r\n          .map(b => ({\r\n            value: b._id || b.id || b.userId || b.brokerId || '',\r\n            label: b.name || b.fullName || b.firmName || b.email || 'Unknown'\r\n          }))\r\n          .filter(o => o.value);\r\n        setBrokersOptions(opts);\r\n      } catch {\r\n        setBrokersOptions([]);\r\n      } finally {\r\n        setBrokersLoading(false);\r\n      }\r\n    };\r\n    fetchAllBrokers();\r\n  }, []);\r\n\r\n  // Fetch regions for dropdown (API-sourced)\r\n  useEffect(() => {\r\n    const fetchRegions = async () => {\r\n      try {\r\n        setRegionsLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n\r\n        // If city is selected, fetch regions for that city\r\n        let url = `${apiUrl}/regions`;\r\n        if (leadFilters.city) {\r\n          url += `?city=${encodeURIComponent(leadFilters.city)}`;\r\n        }\r\n\r\n        const res = await fetch(url);\r\n        const data = await res.json().catch(() => ({}));\r\n        let list = [];\r\n        if (Array.isArray(data?.data?.regions)) list = data.data.regions;\r\n        else if (Array.isArray(data?.regions)) list = data.regions;\r\n        else if (Array.isArray(data?.data)) list = data.data;\r\n        else if (Array.isArray(data)) list = data;\r\n        const mapped = list\r\n          .map(r => ({\r\n            id: r._id || r.id || r.value || r.name || String(r),\r\n            name: r.name || r.label || String(r)\r\n          }))\r\n          .filter(r => r.name && r.name !== '');\r\n        setRegions(mapped);\r\n      } catch {\r\n        setRegions([]);\r\n      } finally {\r\n        setRegionsLoading(false);\r\n      }\r\n    };\r\n    fetchRegions();\r\n  }, [leadFilters.city]); // Re-fetch when city changes\r\n\r\n  // Fetch ALL regions for Preferred Location dropdowns (not filtered by city)\r\n  useEffect(() => {\r\n    const fetchAllRegions = async () => {\r\n      try {\r\n        setAllRegionsLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${apiUrl}/regions`);\r\n        const data = await res.json().catch(() => ({}));\r\n        let list = [];\r\n        if (Array.isArray(data?.data?.regions)) list = data.data.regions;\r\n        else if (Array.isArray(data?.regions)) list = data.regions;\r\n        else if (Array.isArray(data?.data)) list = data.data;\r\n        else if (Array.isArray(data)) list = data;\r\n        const mapped = list\r\n          .map(r => ({\r\n            value: r._id || r.id || r.value || r.name || String(r),\r\n            label: r.name || r.label || String(r)\r\n          }))\r\n          .filter(r => r.label && r.label !== '');\r\n        setAllRegions(mapped);\r\n      } catch {\r\n        setAllRegions([]);\r\n      } finally {\r\n        setAllRegionsLoading(false);\r\n      }\r\n    };\r\n    fetchAllRegions();\r\n  }, []); // Fetch once on mount\r\n\r\n  const leadStatusOptions = [\r\n    'New',\r\n    'Assigned',\r\n    'In Progress',\r\n    'Closed',\r\n    'Rejected'\r\n  ];\r\n  const leadTypeOptions = ['Residential', 'Commercial', 'Plot', 'Other'];\r\n  const requirementOptions = ['Buy', 'Rent', 'Sell', 'Other'];\r\n  const priorityOptions = ['High', 'Medium', 'Low'];\r\n\r\n  const resetFilters = () => {\r\n    setLeadFilters({\r\n      leadStatus: [],\r\n      leadType: [],\r\n      requirement: [],\r\n      budgetRange: [5000, 100000000],\r\n      city: '',\r\n      location: '',\r\n      preferredLocationPrimary: '',\r\n      preferredLocationSecondary: '',\r\n      dateAdded: { start: '2024-06-01', end: '' }, // Reset to original default\r\n      datePosted: '', // Reset date posted filter\r\n      brokerAgent: [],\r\n      priority: [],\r\n      verificationStatus: true // Reset to verified only\r\n    });\r\n    setSortBy('createdAt'); // Reset sorting to default\r\n    setSortOrder('desc'); // Reset sorting to default\r\n    setCurrentPage(1);\r\n    setShowDateRangePicker(false); // Reset date range picker visibility\r\n    setBudgetMinInputValue(''); // Reset budget input values\r\n    setBudgetMaxInputValue('');\r\n    setIsEditingMin(false);\r\n    setIsEditingMax(false);\r\n\r\n    // Clear coordinate-based filters\r\n    setUrlLatitude(null);\r\n    setUrlLongitude(null);\r\n\r\n    // Clear URL-based search parameters (latitude, longitude)\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        sp.delete('latitude');\r\n        sp.delete('longitude');\r\n        const newUrl = window.location.pathname + (sp.toString() ? `?${sp.toString()}` : '');\r\n        window.history.replaceState({}, '', newUrl);\r\n      } catch (error) {\r\n        console.error('Error clearing URL parameters:', error);\r\n      }\r\n    }\r\n\r\n    // Dispatch event to clear navbar search bar\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('clearNavbarSearch'));\r\n    }\r\n  };\r\n\r\n  // Pagination calculations\r\n  const totalPages = Math.ceil(totalLeads / leadsPerPage);\r\n  const startIndex = (currentPage - 1) * leadsPerPage;\r\n  const endIndex = Math.min(startIndex + leadsPerPage, totalLeads);\r\n\r\n  // Pagination handlers\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    // Scroll to top of leads section\r\n    window.scrollTo({ top: 200, behavior: 'smooth' });\r\n  };\r\n\r\n  const handlePreviousPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n      window.scrollTo({ top: 200, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n      window.scrollTo({ top: 200, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const reactSelectStyles = {\r\n    control: (base, state) => ({\r\n      ...base,\r\n      minHeight: 38,\r\n      fontSize: 12,\r\n      borderColor: state.isFocused ? '#eab308' : '#d1d5db', // yellow-500 focus\r\n      boxShadow: 'none',\r\n      cursor: 'pointer',\r\n      ':hover': { borderColor: state.isFocused ? '#eab308' : '#cbd5e1' }\r\n    }),\r\n    option: (base, state) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      backgroundColor: state.isSelected\r\n        ? '#14532d' // green-900\r\n        : state.isFocused\r\n          ? '#fffbeb' // yellow-50\r\n          : 'white',\r\n      color: state.isSelected ? 'white' : '#111827',\r\n      cursor: 'pointer'\r\n    }),\r\n    singleValue: (base) => ({ ...base, color: '#111827', fontSize: 12 }),\r\n    placeholder: (base) => ({ ...base, color: '#6b7280', fontSize: 12 }),\r\n    input: (base) => ({ ...base, fontSize: 12 }),\r\n    indicatorSeparator: () => ({ display: 'none' }),\r\n    menu: (base) => ({ ...base, zIndex: 50, maxHeight: 150 }),\r\n    menuList: (base) => ({ ...base, maxHeight: 150 }),\r\n    menuPortal: (base) => ({ ...base, zIndex: 50 })\r\n  };\r\n\r\n  // Helper function to get region names from lead data\r\n  const getRegionNames = (lead) => {\r\n    let primary = '';\r\n    let secondary = '';\r\n\r\n    // Handle different possible region field structures\r\n    if (lead.primaryRegion) {\r\n      primary = typeof lead.primaryRegion === 'string' ? lead.primaryRegion : lead.primaryRegion.name;\r\n    } else if (lead.region) {\r\n      primary = typeof lead.region === 'string' ? lead.region : lead.region.name;\r\n    } else if (lead.regions && Array.isArray(lead.regions) && lead.regions.length > 0) {\r\n      primary = lead.regions[0];\r\n    }\r\n\r\n    if (lead.secondaryRegion) {\r\n      secondary = typeof lead.secondaryRegion === 'string' ? lead.secondaryRegion : lead.secondaryRegion.name;\r\n    } else if (lead.regions && Array.isArray(lead.regions) && lead.regions.length > 1) {\r\n      secondary = lead.regions[1];\r\n    }\r\n\r\n    return { primary, secondary };\r\n  };\r\n\r\n  // Helper function to get avatar color\r\n  const getAvatarColor = (seed) => {\r\n    if (!seed) return { bg: 'bg-gray-200', text: 'text-gray-600' };\r\n\r\n    const colors = [\r\n      { bg: 'bg-red-100', text: 'text-red-600' },\r\n      { bg: 'bg-blue-100', text: 'text-blue-600' },\r\n      { bg: 'bg-green-100', text: 'text-green-600' },\r\n      { bg: 'bg-yellow-100', text: 'text-yellow-600' },\r\n      { bg: 'bg-purple-100', text: 'text-purple-600' },\r\n      { bg: 'bg-pink-100', text: 'text-pink-600' },\r\n      { bg: 'bg-indigo-100', text: 'text-indigo-600' },\r\n      { bg: 'bg-orange-100', text: 'text-orange-600' }\r\n    ];\r\n\r\n    let hash = 0;\r\n    for (let i = 0; i < seed.length; i++) {\r\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    return colors[Math.abs(hash) % colors.length];\r\n  };\r\n\r\n\r\n  const handleLeadStatusChange = (status) => {\r\n    // Single-select behavior: either the clicked status or none\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      leadStatus: (prev.leadStatus[0] === status) ? [] : [status]\r\n    }));\r\n  };\r\n\r\n  const handleLeadTypeChange = (type) => {\r\n    // Single-select behavior\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      leadType: (prev.leadType[0] === type) ? [] : [type]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleRequirementChange = (req) => {\r\n    // Single-select behavior\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      requirement: (prev.requirement[0] === req) ? [] : [req]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handlePriorityChange = (priority) => {\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      priority: prev.priority.includes(priority)\r\n        ? prev.priority.filter(p => p !== priority)\r\n        : [...prev.priority, priority]\r\n    }));\r\n  };\r\n\r\n  const handleLeadBudgetChange = (value) => {\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      budgetRange: [parseInt(value), 20000000]\r\n    }));\r\n  };\r\n\r\n  const handleBudgetMinInput = (value) => {\r\n    const numValue = parseInt(value?.toString().replace(/[^0-9]/g, '') || '0');\r\n    const min = Math.max(5000, Math.min(numValue, leadFilters.budgetRange[1], 100000000));\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      budgetRange: [min, prev.budgetRange[1]]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleBudgetMaxInput = (value) => {\r\n    const numValue = parseInt(value?.toString().replace(/[^0-9]/g, '') || '0');\r\n    const max = Math.min(100000000, Math.max(numValue, leadFilters.budgetRange[0], 5000));\r\n    setLeadFilters(prev => ({\r\n      ...prev,\r\n      budgetRange: [prev.budgetRange[0], max]\r\n    }));\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0\r\n    }).format(price);\r\n  };\r\n\r\n  // Helper function to format budget based on value (thousands, lakhs, crores)\r\n  const formatBudget = (budget) => {\r\n    if (!budget || budget === 0) return \"\";\r\n    // Convert to number\r\n    const numBudget = typeof budget === 'string' ? parseFloat(budget.replace(/[,]/g, '')) : budget;\r\n    if (isNaN(numBudget) || numBudget === 0) return \"\";\r\n\r\n    // If budget is >= 1 crore (1,00,00,000)\r\n    if (numBudget >= 10000000) {\r\n      const crores = numBudget / 10000000;\r\n      return `${crores.toFixed(2)} Cr`;\r\n    }\r\n    // If budget is >= 1 lakh (1,00,000)\r\n    else if (numBudget >= 100000) {\r\n      const lakhs = numBudget / 100000;\r\n      return `${lakhs.toFixed(2)} Lakhs`;\r\n    }\r\n    // If budget is >= 1 thousand (1,000)\r\n    else if (numBudget >= 1000) {\r\n      const thousands = numBudget / 1000;\r\n      return `${thousands.toFixed(2)} K`;\r\n    }\r\n    // If budget is < 1 thousand, show as is\r\n    else {\r\n      return `${Math.round(numBudget).toLocaleString(\"en-IN\")}`;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Open':\r\n        return 'bg-emerald-50 text-[#0A421E]';\r\n      case 'In Progress':\r\n        return 'bg-[#ECFDF5] text-[#0A421E]';\r\n      case 'Closed':\r\n        return 'bg-gray-100 text-gray-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Gradient ribbon styles for status to match provided images\r\n  const getStatusRibbonStyle = (status) => {\r\n    if (!status) {\r\n      return { background: 'linear-gradient(90deg, #F59E0B 0%, #EF4444 100%)' };\r\n    }\r\n\r\n    const statusLower = status.toLowerCase().trim();\r\n\r\n    switch (statusLower) {\r\n      case 'open':\r\n      case 'new':\r\n        return {\r\n          background: 'linear-gradient(90deg, #F59E0B 0%, #EF4444 100%)',\r\n        };\r\n      case 'assigned':\r\n        return {\r\n          background: 'linear-gradient(90deg, #3B82F6 0%, #1D4ED8 100%)',\r\n        };\r\n      case 'in progress':\r\n      case 'inprogress':\r\n        return {\r\n          background: 'linear-gradient(90deg, #8B5CF6 0%, #7C3AED 100%)',\r\n        };\r\n      case 'closed':\r\n      case 'completed':\r\n        return {\r\n          background: 'linear-gradient(90deg, #10B981 0%, #059669 100%)',\r\n        };\r\n      case 'rejected':\r\n      case 'cancelled':\r\n        return {\r\n          background: 'linear-gradient(90deg, #EF4444 0%, #DC2626 100%)',\r\n        };\r\n      case 'transferred':\r\n        return {\r\n          background: 'linear-gradient(90deg, #F97316 0%, #EA580C 100%)',\r\n        };\r\n      case 'active':\r\n        return {\r\n          background: 'linear-gradient(90deg, #10B981 0%, #047857 100%)',\r\n        };\r\n      default:\r\n         ('Unknown status:', status);\r\n        return { background: 'linear-gradient(90deg, #F59E0B 0%, #EF4444 100%)' };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:grid md:grid-cols-12 gap-4 md:gap-8\">\r\n      {/* Filter Sidebar - 3 columns */}\r\n      <div className=\"w-full md:col-span-3\">\r\n        {false ? (\r\n          <div className=\"bg-white rounded-lg p-6\">\r\n            <div className=\"space-y-6\">\r\n              {/* Filter Header Skeleton */}\r\n              <div className=\"flex items-center mb-6 pb-4 border-b border-gray-200\">\r\n                <div className=\"w-5 h-5 bg-gray-200 rounded mr-2\"></div>\r\n                <div className=\"h-6 bg-gray-200 rounded w-32\"></div>\r\n              </div>\r\n\r\n\r\n\r\n              {/* Lead Type Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-16 mb-4\"></div>\r\n                <div className=\"space-y-3\">\r\n                  {[1,2,3,4,5].map((i) => (\r\n                    <div key={i} className=\"flex items-center\">\r\n                      <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                      <div className=\"ml-3 h-4 bg-gray-200 rounded w-20\"></div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Budget Range Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-24 mb-4\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-32 mb-4\"></div>\r\n                <div className=\"h-2 bg-gray-200 rounded\"></div>\r\n              </div>\r\n\r\n              {/* Location Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-16 mb-4\"></div>\r\n                <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n              </div>\r\n\r\n              {/* Date Added Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-20 mb-4\"></div>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n                  <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Broker/Agent Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-24 mb-4\"></div>\r\n                <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n              </div>\r\n\r\n              {/* Priority Filter Skeleton */}\r\n              <div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-16 mb-4\"></div>\r\n                <div className=\"space-y-3\">\r\n                  {[1,2,3].map((i) => (\r\n                    <div key={i} className=\"flex items-center\">\r\n                      <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                      <div className=\"ml-3 h-4 bg-gray-200 rounded w-16\"></div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"pt-5\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={resetFilters}\r\n                className=\"w-full text-white bg-green-900 cursor-pointer flex items-center justify-center px-4 py-2 rounded-lg transition-all duration-200 shadow\"\r\n                aria-label=\"Reset filters\"\r\n              >\r\n                <i className=\"fa-solid fa-arrows-rotate text-sm mr-2 text-white\" aria-hidden=\"true\"></i>\r\n                Reset Filters\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg p-3 md:p-4 shadow-sm border border-gray-200 space-y-4 md:space-y-5\">\r\n\r\n            {/* Filter Results Heading */}\r\n            <div className=\"flex items-center gap-2 mb-3 md:mb-4 pb-3 md:pb-4 border-b border-gray-200\">\r\n              <svg className=\"w-4 h-4 md:w-5 md:h-5 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\r\n              </svg>\r\n              <h2 style={{ fontSize: '18px', lineHeight: '24px', fontWeight: '600', color: '#171A1FFF' }} className=\"md:text-[20px] md:leading-[28px]\">Filter Results</h2>\r\n            </div>\r\n\r\n            {/* Requirement Filter */}\r\n            <div>\r\n              <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Requirement</h3>\r\n              <div className=\"flex w-full gap-2\">\r\n                {requirementOptions.map((req) => {\r\n                  const selected = leadFilters.requirement?.includes(req);\r\n                  return (\r\n                    <button\r\n                      key={req}\r\n                      type=\"button\"\r\n                      onClick={() => handleRequirementChange(req)}\r\n                      style={{\r\n                        fontFamily: 'Inter',\r\n                        fontSize: '12px',\r\n                        lineHeight: '16px',\r\n                        fontWeight: '500',\r\n                        color: '#171A1FFF',\r\n                        background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s',\r\n\r\n                      }}\r\n                    className={`p-[10px] flex-1 text-center transition-colors ${\r\n                      selected \r\n                          ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                          : 'hover:bg-[#B8BECAFF]'\r\n                        }`}\r\n                    >\r\n                      {req}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Property Type Filter */}\r\n            <div>\r\n              <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Property Type</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {leadTypeOptions.map((type) => {\r\n                  const selected = leadFilters.leadType?.includes(type);\r\n                  return (\r\n                    <button\r\n                      key={type}\r\n                      type=\"button\"\r\n                      onClick={() => handleLeadTypeChange(type)}\r\n                      style={{\r\n                        fontFamily: 'Inter',\r\n                        fontSize: '12px',\r\n                        lineHeight: '16px',\r\n                        fontWeight: '500',\r\n                        color: '#171A1FFF',\r\n                        background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s',\r\n                      }}\r\n                    className={`p-[10px] inline-block transition-colors ${\r\n                      selected \r\n                          ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                          : 'hover:bg-[#B8BECAFF]'\r\n                        }`}\r\n                    >\r\n                      {type}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Region/Area Filter */}\r\n            <div>\r\n              <h3 className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Region/Area</h3>\r\n              <Select\r\n                instanceId=\"leads-region-select\"\r\n                styles={reactSelectStyles}\r\n                className=\"cursor-pointer\"\r\n                options={regions.map(r => ({ value: r.id, label: r.name }))}\r\n                value={(() => {\r\n                  if (!leadFilters.location) return null;\r\n                  const region = regions.find(r => r.id === leadFilters.location || r.name === leadFilters.location);\r\n                  return region ? { value: region.id, label: region.name } : { value: leadFilters.location, label: leadFilters.location };\r\n                })()}\r\n                onChange={(opt) => {\r\n                  setLeadFilters(prev => ({ ...prev, location: opt?.value || '' }));\r\n                  setCurrentPage(1);\r\n                }}\r\n                isSearchable\r\n                isClearable\r\n                placeholder=\"Select Region\"\r\n              />\r\n            </div>\r\n\r\n\r\n\r\n            {/* Budget Range Filter */}\r\n            <div>\r\n              <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Budget Range</h3>\r\n              <div className=\"relative\">\r\n                {/* Min and Max Value Display - Editable Inputs */}\r\n                <div className=\"flex justify-between gap-4 mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <label className=\"block text-xs mb-1\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '14px', fontWeight: '400', color: '#565D6DFF' }}>Min</label>\r\n                    <div className=\"relative\">\r\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#171A1FFF' }}></span>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={isEditingMin ? budgetMinInputValue : leadFilters.budgetRange[0].toLocaleString()}\r\n                        onChange={(e) => {\r\n                          const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                          setBudgetMinInputValue(rawValue);\r\n                          if (rawValue !== '') {\r\n                            const numValue = parseInt(rawValue);\r\n                            if (!isNaN(numValue)) {\r\n                              const min = Math.max(5000, Math.min(numValue, leadFilters.budgetRange[1], 100000000));\r\n                              setLeadFilters(prev => ({\r\n                                ...prev,\r\n                                budgetRange: [min, prev.budgetRange[1]]\r\n                              }));\r\n                              setCurrentPage(1);\r\n                            }\r\n                          }\r\n                        }}\r\n                        onFocus={(e) => {\r\n                          setIsEditingMin(true);\r\n                          setBudgetMinInputValue(leadFilters.budgetRange[0].toString());\r\n                          e.target.select();\r\n                        }}\r\n                        onBlur={(e) => {\r\n                          setIsEditingMin(false);\r\n                          const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                          const numValue = rawValue === '' ? 5000 : parseInt(rawValue);\r\n                          handleBudgetMinInput(numValue);\r\n                          setBudgetMinInputValue('');\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            e.target.blur();\r\n                          }\r\n                        }}\r\n                        className=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                        style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#9CA3AF' }}\r\n                        placeholder=\"5,000\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <label className=\"block text-xs mb-1\" style={{ fontFamily: 'Inter', fontSize: '11px', lineHeight: '14px', fontWeight: '400', color: '#565D6DFF' }}>Max</label>\r\n                    <div className=\"relative\">\r\n                      <span className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#171A1FFF' }}></span>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={isEditingMax ? budgetMaxInputValue : leadFilters.budgetRange[1].toLocaleString()}\r\n                        onChange={(e) => {\r\n                          const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                          setBudgetMaxInputValue(rawValue);\r\n                          if (rawValue !== '') {\r\n                            const numValue = parseInt(rawValue);\r\n                            if (!isNaN(numValue)) {\r\n                              const max = Math.min(100000000, Math.max(numValue, leadFilters.budgetRange[0], 5000));\r\n                              setLeadFilters(prev => ({\r\n                                ...prev,\r\n                                budgetRange: [prev.budgetRange[0], max]\r\n                              }));\r\n                              setCurrentPage(1);\r\n                            }\r\n                          }\r\n                        }}\r\n                        onFocus={(e) => {\r\n                          setIsEditingMax(true);\r\n                          setBudgetMaxInputValue(leadFilters.budgetRange[1].toString());\r\n                          e.target.select();\r\n                        }}\r\n                        onBlur={(e) => {\r\n                          setIsEditingMax(false);\r\n                          const rawValue = e.target.value.replace(/[^0-9]/g, '');\r\n                          const numValue = rawValue === '' ? 100000000 : parseInt(rawValue);\r\n                          handleBudgetMaxInput(numValue);\r\n                          setBudgetMaxInputValue('');\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                          if (e.key === 'Enter') {\r\n                            e.target.blur();\r\n                          }\r\n                        }}\r\n                        className=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                        style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#9CA3AF' }}\r\n                        placeholder=\"100,000,000\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Slider Container */}\r\n                <div className=\"relative h-2 rounded-lg overflow-visible\" style={{ backgroundColor: '#B2F0C8' }}>\r\n                  {/* Active Range Indicator (dark green) with soft glow */}\r\n                  <div\r\n                    className=\"h-2 absolute rounded-lg pointer-events-none\"\r\n                    style={{\r\n                      backgroundColor: '#1C5032',\r\n                      left: `${((leadFilters.budgetRange[0] - 5000) / (100000000 - 5000)) * 100}%`,\r\n                      width: `${((leadFilters.budgetRange[1] - leadFilters.budgetRange[0]) / (100000000 - 5000)) * 100}%`,\r\n                      transition: 'all 0.1s ease',\r\n                      zIndex: 1,\r\n                      boxShadow: '0 0 6px rgba(28, 80, 50, 0.4), 0 0 2px rgba(28, 80, 50, 0.2)',\r\n                      filter: 'blur(0.3px)'\r\n                    }}\r\n                  ></div>\r\n\r\n                  {/* Min Range Input - Left slider (hidden/disabled) */}\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"5000\"\r\n                    max=\"100000000\"\r\n                    step=\"5000\"\r\n                    value={leadFilters.budgetRange[0]}\r\n                    onChange={(e) => {\r\n                      const val = Math.min(parseInt(e.target.value), leadFilters.budgetRange[1]);\r\n                      setLeadFilters(prev => ({\r\n                        ...prev,\r\n                        budgetRange: [val, prev.budgetRange[1]]\r\n                      }));\r\n                      // Update input value if not editing\r\n                      if (!isEditingMin) {\r\n                        setBudgetMinInputValue('');\r\n                      }\r\n                      setCurrentPage(1);\r\n                    }}\r\n                    disabled\r\n                    className=\"absolute top-1 w-full h-2 bg-transparent appearance-none slider-min hidden\"\r\n                    style={{\r\n                      zIndex: 2,\r\n                      pointerEvents: 'none'\r\n                    }}\r\n                  />\r\n\r\n                  {/* Max Range Input - Right slider (full width for interaction) */}\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"5000\"\r\n                    max=\"100000000\"\r\n                    step=\"5000\"\r\n                    value={leadFilters.budgetRange[1]}\r\n                    onChange={(e) => {\r\n                      const val = Math.max(parseInt(e.target.value), leadFilters.budgetRange[0]);\r\n                      setLeadFilters(prev => ({\r\n                        ...prev,\r\n                        budgetRange: [prev.budgetRange[0], val]\r\n                      }));\r\n                      // Update input value if not editing\r\n                      if (!isEditingMax) {\r\n                        setBudgetMaxInputValue('');\r\n                      }\r\n                      setCurrentPage(1);\r\n                    }}\r\n                  className=\"absolute top-1 w-full h-2 bg-transparent appearance-none cursor-pointer slider-max\"\r\n                    style={{\r\n                      zIndex: 3,\r\n                      pointerEvents: 'auto'\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Date Posted Filter */}\r\n            <div>\r\n              <h3 className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Date Posted</h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {['Today', 'Last 7 Days', 'Last 30 Days', 'Custom Range'].map((dateOption) => {\r\n                  const selected = leadFilters.datePosted === dateOption;\r\n                  return (\r\n                    <button\r\n                      key={dateOption}\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        if (dateOption === 'Custom Range') {\r\n                          setShowDateRangePicker(!showDateRangePicker);\r\n                          if (leadFilters.datePosted !== 'Custom Range') {\r\n                            setLeadFilters(prev => ({\r\n                              ...prev,\r\n                              datePosted: 'Custom Range'\r\n                            }));\r\n                          }\r\n                        } else {\r\n                          setShowDateRangePicker(false);\r\n                          setLeadFilters(prev => ({\r\n                            ...prev,\r\n                            datePosted: prev.datePosted === dateOption ? '' : dateOption,\r\n                            dateAdded: { start: '', end: '' } // Clear custom dates when selecting preset\r\n                          }));\r\n                        }\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      style={{\r\n                        fontFamily: 'Inter',\r\n                        fontSize: '12px',\r\n                        lineHeight: '16px',\r\n                        fontWeight: '500',\r\n                        color: '#171A1FFF',\r\n                        background: selected ? '#B8BECAFF' : '#F3F4F6FF',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s',\r\n                      }}\r\n                    className={`p-[10px] inline-flex whitespace-nowrap transition-colors items-center justify-center gap-2 focus:outline-none focus:ring-0 ${\r\n                      selected \r\n                          ? 'hover:bg-[#8791A5FF] hover:active:bg-[#8791A5FF]'\r\n                          : 'hover:bg-[#B8BECAFF]'\r\n                        }`}\r\n                    >\r\n                      {dateOption}\r\n                      {dateOption === 'Custom Range' && (\r\n                        <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Custom Date Range Picker */}\r\n              {showDateRangePicker && leadFilters.datePosted === 'Custom Range' && (\r\n                <div className=\"mt-3 p-4 border border-gray-300 rounded-lg bg-white shadow-lg z-10\">\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"block mb-2 text-xs font-medium text-gray-700\">Start Date</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={leadFilters.dateAdded.start || ''}\r\n                        onChange={(e) => {\r\n                          setLeadFilters(prev => ({\r\n                            ...prev,\r\n                            dateAdded: {\r\n                              ...prev.dateAdded,\r\n                              start: e.target.value\r\n                            }\r\n                          }));\r\n                          setCurrentPage(1);\r\n                        }}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block mb-2 text-xs font-medium text-gray-700\">End Date</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={leadFilters.dateAdded.end || ''}\r\n                        min={leadFilters.dateAdded.start || ''}\r\n                        onChange={(e) => {\r\n                          setLeadFilters(prev => ({\r\n                            ...prev,\r\n                            dateAdded: {\r\n                              ...prev.dateAdded,\r\n                              end: e.target.value\r\n                            }\r\n                          }));\r\n                          setCurrentPage(1);\r\n                        }}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-900 focus:border-green-900 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowDateRangePicker(false);\r\n                      }}\r\n                      className=\"w-full mt-2 px-4 py-2 bg-green-900 text-white text-sm font-medium rounded-lg hover:bg-green-800 transition-colors\"\r\n                    >\r\n                      Apply Date Range\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Secondary Filters Toggle */}\r\n            <div className=\"pt-4 border-t border-gray-200\">\r\n              <button\r\n                onClick={() => setShowSecondaryFilters(!showSecondaryFilters)}\r\n                className=\"flex items-center justify-between w-full text-[12px] font-medium text-gray-700 hover:text-gray-900\"\r\n              >\r\n                <span>Secondary Filters</span>\r\n                <svg className=\"w-4 h-4 transition-transform\" style={{ transform: showSecondaryFilters ? 'rotate(180deg)' : 'rotate(0deg)' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Secondary Filters Content */}\r\n            {showSecondaryFilters && (\r\n              <div className=\"space-y-5 pt-4\">\r\n                {/* Preferred Location (Primary) */}\r\n                <div>\r\n                  <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Preferred Location (Primary)</label>\r\n                  {allRegionsLoading ? (\r\n                    <div className=\"h-10 bg-gray-200 rounded-lg animate-pulse\" />\r\n                  ) : (\r\n                    <Select\r\n                      instanceId=\"preferred-location-primary-select\"\r\n                      styles={reactSelectStyles}\r\n                      className=\"cursor-pointer\"\r\n                      options={allRegions}\r\n                      value={leadFilters.preferredLocationPrimary ?\r\n                        allRegions.find(r => r.value === leadFilters.preferredLocationPrimary) || null\r\n                        : null}\r\n                      onChange={(opt) => {\r\n                        setLeadFilters(prev => ({\r\n                          ...prev,\r\n                          preferredLocationPrimary: opt?.value || ''\r\n                        }));\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      isSearchable\r\n                      isClearable\r\n                      placeholder=\"Select Preferred Location\"\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                {/* Preferred Location (Secondary) (Optional) */}\r\n                <div>\r\n                <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Preferred Location (Secondary) (Optional)</label>\r\n                  {allRegionsLoading ? (\r\n                    <div className=\"h-10 bg-gray-200 rounded-lg animate-pulse\" />\r\n                  ) : (\r\n                    <Select\r\n                      instanceId=\"preferred-location-secondary-select\"\r\n                      styles={reactSelectStyles}\r\n                      className=\"cursor-pointer\"\r\n                      options={allRegions}\r\n                      value={leadFilters.preferredLocationSecondary ?\r\n                        allRegions.find(r => r.value === leadFilters.preferredLocationSecondary) || null\r\n                        : null}\r\n                      onChange={(opt) => {\r\n                        setLeadFilters(prev => ({\r\n                          ...prev,\r\n                          preferredLocationSecondary: opt?.value || ''\r\n                        }));\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      isSearchable\r\n                      isClearable\r\n                      placeholder=\"Select Preferred Location \"\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                {/* Broker Assigned */}\r\n                <div>\r\n                  <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Broker Assigned</label>\r\n                  {(() => {\r\n                    if (brokersLoading) return <div className=\"h-8 bg-gray-200 rounded animate-pulse\" />;\r\n                    return (\r\n                      <Select\r\n                        instanceId=\"broker-assigned-select\"\r\n                        styles={{\r\n                          ...reactSelectStyles,\r\n                          menu: (base) => ({ ...base, zIndex: 50, maxHeight: 120 }),\r\n                          menuList: (base) => ({ ...base, maxHeight: 120 })\r\n                        }}\r\n                        className=\"cursor-pointer\"\r\n                        options={brokersOptions}\r\n                        value={(() => {\r\n                          const sel = (leadFilters.brokerAgent || [])[0];\r\n                          return brokersOptions.find(o => o.value === sel) || null;\r\n                        })()}\r\n                        onChange={(opt) => {\r\n                          setLeadFilters(prev => ({ ...prev, brokerAgent: opt?.value ? [opt.value] : [] }));\r\n                          setCurrentPage(1);\r\n                        }}\r\n                        isSearchable\r\n                        placeholder=\"Select Broker\"\r\n                      />\r\n                    );\r\n                  })()}\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                {/* Verification Status */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <label className=\"block\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Broker Verification Status: Verified</label>\r\n                  <div\r\n                    className=\"relative inline-block w-[44px] h-6 cursor-pointer\"\r\n                    onClick={() => {\r\n                      setLeadFilters(prev => ({ ...prev, verificationStatus: !prev.verificationStatus }));\r\n                      setCurrentPage(1);\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"sr-only\"\r\n                      checked={leadFilters.verificationStatus}\r\n                      onChange={(e) => {\r\n                        setLeadFilters(prev => ({ ...prev, verificationStatus: e.target.checked }));\r\n                        setCurrentPage(1);\r\n                      }}\r\n                    />\r\n                    <div className={`absolute inset-0 rounded-full transition-colors duration-200 ease-in-out ${leadFilters.verificationStatus ? 'bg-[#0D542B]' : 'bg-gray-200'}`}>\r\n                      <div className={`absolute top-[2px] left-[2px] w-5 h-5 bg-white rounded-full shadow-sm transform transition-transform duration-200 ${leadFilters.verificationStatus ? 'translate-x-[20px]' : 'translate-x-0'}`}></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons - Always Visible */}\r\n            <div className=\"pt-4\">\r\n              <button\r\n                onClick={resetFilters}\r\n                style={{\r\n                  fontFamily: 'Inter',\r\n                  fontSize: '12px',\r\n                  lineHeight: '22px',\r\n                  fontWeight: '500',\r\n                  color: '#171A1FFF'\r\n                }}\r\n                className=\"w-full py-2 border border-gray-300 text-[12px] font-medium rounded-lg bg-white hover:bg-gray-50 active:bg-gray-100 transition-colors\"\r\n              >\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Leads Grid - 9 columns */}\r\n      <div className=\"w-full md:col-span-9\">\r\n        {/* Tabs Bar */}\r\n        <TabsBar\r\n          activeTab={activeTab}\r\n          setActiveTab={setActiveTab}\r\n          sortBy={sortBy}\r\n          sortOrder={sortOrder}\r\n          onSortChange={(newSortBy, newSortOrder) => {\r\n            setSortBy(newSortBy || 'createdAt');\r\n            setSortOrder(newSortOrder || 'desc');\r\n            setCurrentPage(1);\r\n          }}\r\n        />\r\n\r\n        {/* Header with heading */}\r\n        <div className=\"mb-4 md:mb-6\">\r\n          <h2 className=\"text-[16px] md:text-[18px] font-semibold text-gray-900\">\r\n            {totalLeads}    Query Found\r\n          </h2>\r\n          <p className=\"text-[10px] md:text-[12px] text-gray-600\">\r\n            Experts that match your selected region & specialization.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Leads Grid */}\r\n        {isLoading ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {[1,2,3,4,5,6,7,8,9].map((i) => (\r\n              <div key={i} className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n                {/* Profile and Status Skeleton */}\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-18 h-18 bg-gray-200 rounded-full\"></div>\r\n                    <div className=\"ml-3\">\r\n                      <div className=\"h-5 bg-gray-200 rounded w-24\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"h-6 bg-gray-200 rounded w-16\"></div>\r\n                </div>\r\n\r\n                {/* Lead Details Skeleton */}\r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex justify-between\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-8\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-12\"></div>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-12\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-24\"></div>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-10\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-32\"></div>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <div className=\"h-3 bg-gray-200 rounded w-14\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Interested Regions Skeleton */}\r\n                <div className=\"mb-4\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\r\n                  <div className=\"flex flex-wrap gap-1\">\r\n                    <div className=\"h-6 bg-gray-200 rounded-full w-16\"></div>\r\n                    <div className=\"h-6 bg-gray-200 rounded-full w-20\"></div>\r\n                    <div className=\"h-6 bg-gray-200 rounded-full w-18\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Action Buttons Skeleton */}\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n                  <div className=\"flex justify-end gap-4\">\r\n                    <div className=\"h-8 w-8 bg-gray-200 rounded\"></div>\r\n                    <div className=\"h-8 w-8 bg-gray-200 rounded\"></div>\r\n                    <div className=\"h-8 w-8 bg-gray-200 rounded\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : leadsError ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-red-600 mb-4\">\r\n              <svg className=\"w-12 h-12 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\r\n              </svg>\r\n              <p className=\"text-lg font-medium\">{leadsError}</p>\r\n              <button\r\n                onClick={fetchLeads}\r\n                className=\"mt-4 bg-[#0A421E] text-white px-4 py-2 rounded-md hover:bg-[#0b4f24] transition-colors\"\r\n              >\r\n                Try Again\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (leads.length === 0 && !isLoading) ? (\r\n          <div className=\"flex items-center justify-center \">\r\n            <div className=\"w-full mx-auto px-6 py-12 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50\">\r\n              <div className=\"flex flex-col items-center justify-center text-center\">\r\n                {/* Image/Icon */}\r\n                <div className=\"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center mb-6\">\r\n                  <svg\r\n                    className=\"w-12 h-12 text-gray-400\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                {/* Primary Message */}\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                  No leads found\r\n                </h3>\r\n                {/* Secondary Message */}\r\n                <p className=\"text-sm text-gray-500 mb-6 max-w-md\">\r\n                  {leadFilters.leadStatus.length > 0 ||\r\n                    leadFilters.leadType.length > 0 ||\r\n                    leadFilters.requirement.length > 0 ||\r\n                    leadFilters.priority.length > 0 ||\r\n                    leadFilters.city ||\r\n                    leadFilters.location ||\r\n                    leadFilters.brokerAgent.length > 0 ||\r\n                    leadFilters.budgetRange[0] !== 5000 ||\r\n                    leadFilters.budgetRange[1] !== 100000000 ||\r\n                    leadFilters.datePosted ||\r\n                    (leadFilters.dateAdded.start && leadFilters.dateAdded.start !== '2024-06-01') ||\r\n                    (leadFilters.dateAdded.end)\r\n                    ? \"No Enquiries found with the selected criteria. Please modify your filters or search terms to see more results.\"\r\n                    : \"No leads are available at the moment. Please check back later or contact us for assistance.\"}\r\n                </p>\r\n                {/* Action Buttons */}\r\n                {(leadFilters.leadStatus.length > 0 ||\r\n                  leadFilters.leadType.length > 0 ||\r\n                  leadFilters.requirement.length > 0 ||\r\n                  leadFilters.priority.length > 0 ||\r\n                  leadFilters.city ||\r\n                  leadFilters.location ||\r\n                  leadFilters.brokerAgent.length > 0 ||\r\n                  leadFilters.budgetRange[0] !== 5000 ||\r\n                  leadFilters.budgetRange[1] !== 100000000 ||\r\n                  leadFilters.datePosted ||\r\n                  (leadFilters.dateAdded.start && leadFilters.dateAdded.start !== '2024-06-01') ||\r\n                  (leadFilters.dateAdded.end)) && (\r\n                    <button\r\n                      onClick={resetFilters}\r\n                      className=\"inline-flex items-center px-6 py-2.5 bg-green-900 text-white text-sm font-semibold rounded-lg hover:bg-green-950 transition-colors\"\r\n                    >\r\n                      <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                      </svg>\r\n                      Clear All Filters\r\n                    </button>\r\n                  )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n            {leads.map((lead, index) => {\r\n              const { primary, secondary } = getRegionNames(lead);\r\n              const brokerImage = lead.createdBy?.brokerImage || lead.createdBy?.profileImage || lead.createdBy?.image;\r\n              const brokerName = lead.createdBy?.name || lead.createdBy?.fullName || lead.createdBy?.email || 'Unknown';\r\n\r\n              // Check if createdBy is admin\r\n              let isAdmin = false;\r\n              if (lead.createdBy) {\r\n                const createdByObj = lead.createdBy;\r\n                const userId = createdByObj.userId;\r\n                let role = '';\r\n\r\n                if (userId && typeof userId === 'object' && userId !== null) {\r\n                  role = userId.role || '';\r\n                }\r\n                role = role || createdByObj.role || '';\r\n                const roleLower = role ? role.toLowerCase() : '';\r\n                const name = createdByObj.name || createdByObj.fullName || createdByObj.email || \"\";\r\n\r\n                isAdmin =\r\n                  roleLower === 'admin' ||\r\n                  createdByObj.isAdmin === true ||\r\n                  createdByObj.isAdmin === 'true' ||\r\n                  (createdByObj.userType || '').toLowerCase() === 'admin' ||\r\n                  (createdByObj.type || '').toLowerCase() === 'admin' ||\r\n                  (name.toLowerCase().includes('admin') && !createdByObj.brokerImage && !createdByObj.profileImage) ||\r\n                  ((createdByObj.email || '').toLowerCase().includes('admin'));\r\n              }\r\n\r\n              // Also check if lead itself indicates admin creation\r\n              if (!isAdmin) {\r\n                const verificationStatus = lead.verificationStatus;\r\n                if (verificationStatus === 'Verified' || verificationStatus === 'verified') {\r\n                  isAdmin =\r\n                    lead.adminCreatedBy !== undefined ||\r\n                    lead.createdByAdmin === true ||\r\n                    lead.verifiedByAdmin === true ||\r\n                    (!lead.createdBy && verificationStatus === 'Verified'); // If verified but no createdBy, likely admin-created\r\n                }\r\n              }\r\n\r\n              // Extract broker ID for View button\r\n              let brokerId = null;\r\n              if (lead.createdBy && !isAdmin) {\r\n                if (typeof lead.createdBy === 'string') {\r\n                  brokerId = lead.createdBy;\r\n                } else if (typeof lead.createdBy === 'object' && lead.createdBy !== null) {\r\n                  const userId = lead.createdBy.userId;\r\n                  if (userId && typeof userId === 'object' && userId !== null) {\r\n                    brokerId = userId._id || userId.id;\r\n                  } else if (userId && typeof userId === 'string') {\r\n                    brokerId = userId;\r\n                  }\r\n                  if (!brokerId) {\r\n                    brokerId = lead.createdBy._id || lead.createdBy.id || lead.createdBy.brokerId || lead.createdBy.brokerDetailId || lead.createdBy.brokerDetailsId;\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Helper function to format region names\r\n              const regionName = (region) => {\r\n                if (!region) return null;\r\n                if (typeof region === 'string') return region;\r\n                if (typeof region === 'object') {\r\n                  return region.name || region.city || region.state || null;\r\n                }\r\n                return null;\r\n              };\r\n\r\n              // Helper function for ago\r\n              const ago = (dateString) => {\r\n                if (!dateString) return '';\r\n                const date = new Date(dateString);\r\n                const now = new Date();\r\n                const diffMs = now.getTime() - date.getTime();\r\n                const diffMins = Math.floor(diffMs / 60000);\r\n                const diffHours = Math.floor(diffMins / 60);\r\n                const diffDays = Math.floor(diffHours / 24);\r\n                if (diffMins < 1) return 'Just now';\r\n                if (diffMins < 60) return `${diffMins}m ago`;\r\n                if (diffHours < 24) return `${diffHours}h ago`;\r\n                if (diffDays < 7) return `${diffDays}d ago`;\r\n                return date.toLocaleDateString();\r\n              };\r\n\r\n              // Helper function for INR formatting\r\n              const INR = new Intl.NumberFormat('en-IN', {\r\n                maximumFractionDigits: 0,\r\n              });\r\n\r\n              return (\r\n                <Link\r\n                  key={lead._id || lead.id || index}\r\n                  href={`/lead-details/${lead._id || lead.id || index}`}\r\n                  className=\"block h-full\"\r\n                >\r\n                  <article\r\n                    className=\"group h-full relative rounded-2xl border border-gray-200 bg-white shadow-sm transition-all duration-300 overflow-hidden hover:-translate-y-1 hover:shadow-lg cursor-pointer flex flex-col\"\r\n                  >\r\n                    <div className=\"p-4 md:p-6 flex flex-col flex-1\">\r\n                      {/* Top Section - Main Title */}\r\n                      <div className=\"mb-3 md:mb-4\">\r\n                      <h3 className=\"text-[14px] md:text-[16px] leading-[20px] md:leading-[22px] font-bold mb-2\" style={{  color: '#323743' }}>\r\n                          {lead.propertyType || \"Property\"} for {lead.requirement || lead.req || \"inquiry\"}\r\n                        </h3>\r\n\r\n                        {/* Tags and Time */}\r\n                        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2\">\r\n                          <div className=\"flex items-center gap-1.5 md:gap-2 flex-wrap\">\r\n                            <span className=\"inline-flex items-center justify-center rounded-full h-[16px] md:h-[18px] px-2 md:p-[10px] whitespace-nowrap\" style={{ fontFamily: 'Inter', fontSize: '10px', lineHeight: '14px', fontWeight: '600', background: '#0D542B', color: '#FFFFFF' }}>\r\n                              {lead.requirement || lead.req || \"\"}\r\n                            </span>\r\n                            <span className=\"inline-flex items-center justify-center rounded-full h-[16px] md:h-[18px] px-2 md:p-[10px] whitespace-nowrap\" style={{ fontFamily: 'Inter', fontSize: '10px', lineHeight: '14px', fontWeight: '600', background: '#FDC700', color: '#1b1d20ff' }}>\r\n                              {lead.propertyType || \"\"}\r\n                            </span>\r\n                          </div>\r\n                          {lead.createdAt && (\r\n                            <div className=\"flex items-center gap-1 text-[10px] md:text-[12px] leading-4 md:leading-5 font-normal whitespace-nowrap flex-shrink-0\" style={{ color: '#565D6D' }}>\r\n                              <svg\r\n                                className=\"h-3 w-3 md:h-4 md:w-4\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                strokeWidth=\"2\"\r\n                              >\r\n                                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                                <path d=\"M12 6v6l4 2\" />\r\n                              </svg>\r\n                              {ago(lead.createdAt)}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Horizontal Divider */}\r\n                      <div className=\"border-t border-gray-200 mb-3 \"></div>\r\n\r\n                      {/* Middle Section - Property Details */}\r\n                      <div className=\"space-y-2 md:space-y-3 mb-3 md:mb-4\">\r\n                        {/* Preferred Location */}\r\n                        <div className=\"flex items-center gap-1.5 md:gap-2\">\r\n                          <svg\r\n                            className=\"h-2.5 w-2.5 md:h-3 md:w-3 flex-shrink-0 text-[#565D6D]\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth=\"2\"\r\n                          >\r\n                            <path d=\"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z\" />\r\n                            <circle cx=\"12\" cy=\"10\" r=\"3\" />\r\n                          </svg>\r\n                          <div className=\"flex items-center flex-wrap gap-1 min-w-0\">\r\n                            <span className=\"font-inter text-[11px] md:text-[12px] leading-tight font-medium text-[#171A1FFF]\">Primary Location:</span>\r\n                            <span className=\"font-inter text-[11px] md:text-[12px] leading-tight font-normal capitalize text-[#565D6DFF] truncate\">\r\n                              {regionName(lead.primaryRegion) || primary || \"\"}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Secondary Location */}\r\n                        {(lead.secondaryRegion || secondary) && (\r\n                          <div className=\"flex items-center gap-1.5 md:gap-2\">\r\n                            <svg\r\n                              className=\"h-2.5 w-2.5 md:h-3 md:w-3 flex-shrink-0 text-[#565D6D]\"\r\n                              viewBox=\"0 0 24 24\"\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"2\"\r\n                            >\r\n                              <path d=\"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z\" />\r\n                              <circle cx=\"12\" cy=\"10\" r=\"3\" />\r\n                            </svg>\r\n                            <div className=\"flex items-center flex-wrap gap-1 min-w-0\">\r\n                              <span className=\"font-inter text-[11px] md:text-[12px] leading-tight font-medium text-[#171A1FFF]\">Secondary Location:</span>\r\n                              <span className=\"font-inter text-[11px] md:text-[12px] leading-tight leafont-normal capitalize text-[#565D6DFF] truncate\">\r\n                                {regionName(lead.secondaryRegion) || secondary || \"\"}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Budget */}\r\n                        <div className=\"flex items-center gap-1.5 md:gap-2\">\r\n                          <svg\r\n                            className=\"h-2.5 w-2.5 md:h-3 md:w-3 flex-shrink-0 text-[#565D6D]\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth=\"2\"\r\n                          >\r\n                            <rect x=\"3\" y=\"8\" width=\"18\" height=\"12\" rx=\"2\" />\r\n                            <path d=\"M3 12h18M9 8v8\" />\r\n                          </svg>\r\n                          <div className=\"flex items-center flex-wrap gap-1 min-w-0\">\r\n                            <span className=\"font-inter text-[11px] md:text-[12px] leading-4 md:leading-5 font-medium text-[#171A1FFF]\">Budget:</span>\r\n                            <span className=\"text-[11px] md:text-[12px] leading-4 md:leading-5 font-normal truncate\" style={{ color: '#565D6D' }}>\r\n                              {formatBudget(lead.budget)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Bottom Section - Broker Profile and Actions */}\r\n                      <div className=\"pt-3 md:pt-4 mt-auto border-t border-gray-200\">\r\n                        <div className=\"flex items-center justify-between gap-2 \">\r\n                          <div className=\"flex items-center gap-2 md:gap-3 min-w-0\">\r\n                            {/* Avatar - Show logo if admin, otherwise show broker image */}\r\n                            <div className=\"relative w-8 h-8 md:w-10 md:h-10 text-sm font-semibold flex-shrink-0\" style={{ color: '#323743' }}>\r\n                              {isAdmin ? (\r\n                                <div className=\"w-8 h-8 md:w-10 md:h-10 rounded-lg bg-white flex items-center justify-center border border-gray-200 relative p-1 md:p-1.5\">\r\n                                  <img\r\n                                    src=\"/BROKER_GULLY_FINAL_LOGO_ICON_JPG__1_-removebg-preview.png\"\r\n                                    alt=\"Broker Gully\"\r\n                                    className=\"w-full h-full object-contain\"\r\n                                    onError={(e) => {\r\n                                      e.currentTarget.style.display = 'none';\r\n                                    }}\r\n                                  />\r\n                                  <div className=\"absolute bottom-0 right-0 w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/4 translate-y-1/8\"></div>\r\n                                </div>\r\n                              ) : brokerImage ? (\r\n                                <>\r\n                                  <div className=\"w-8 h-8 md:w-10 md:h-10 rounded-full bg-[#E5FCE4FF] overflow-hidden\">\r\n                                    <img\r\n                                      src={brokerImage}\r\n                                      alt={brokerName}\r\n                                      className=\"w-full h-full object-cover\"\r\n                                      onError={(e) => {\r\n                                        e.currentTarget.style.display = 'none';\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"absolute bottom-0 right-0 w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/4 translate-y-1/8\"></div>\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <div className=\"w-8 h-8 md:w-10 md:h-10 rounded-full bg-[#E5FCE4FF] flex items-center justify-center text-xs md:text-sm\">\r\n                                    {brokerName\r\n                                      .split(' ')\r\n                                      .map((n) => n[0])\r\n                                      .slice(0, 2)\r\n                                      .join('')\r\n                                      .toUpperCase()}\r\n                                  </div>\r\n                                  <div className=\"absolute bottom-0 right-0 w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-[#1DD75BFF] border-[1.5px] border-white translate-x-1/2 translate-y-1/2\"></div>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n\r\n                            {/* Name and icons */}\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              {/* If admin, only show chip, no name or chat */}\r\n                              {isAdmin ? (\r\n                                <span className=\"inline-flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 rounded-full bg-green-50 border border-green-200\">\r\n                                  <svg className=\"w-2.5 h-2.5 md:w-3 md:h-3 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                                  </svg>\r\n                                  <span className=\"font-inter text-[9px] md:text-[10px] leading-3 md:leading-4 font-medium text-green-700\">Verified by Broker Gully</span>\r\n                                </span>\r\n                              ) : (\r\n                                <>\r\n                                  <p className=\"font-inter text-[11px] md:text-[12px] leading-4 md:leading-5 font-medium text-[#171A1FFF] truncate\">\r\n                                    {brokerName}\r\n                                  </p>\r\n\r\n                                  {/* Chat */}\r\n                                  <div className=\"flex items-center gap-2 md:gap-3 mt-0.5 md:mt-1\">\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        // Check if user is logged in\r\n                                        const token = typeof window !== 'undefined'\r\n                                          ? localStorage.getItem(\"token\") || localStorage.getItem(\"authToken\")\r\n                                          : null;\r\n\r\n                                        if (!token) {\r\n                                          // Redirect to login if not authenticated\r\n                                          router.push(`/login?redirect=${path}`);\r\n                                          return;\r\n                                        }\r\n\r\n                                        // If logged in, open chat\r\n                                        if (typeof window !== 'undefined') {\r\n                                          const win = window;\r\n                                          if (win.openChatWithBroker && lead.createdBy) {\r\n                                            // Ensure broker has correct status format for chat component\r\n                                            const chatBroker = {\r\n                                              ...lead.createdBy,\r\n                                              status: 'active', // Lowercase 'active' for chat component to show \"Active Now\"\r\n                                              brokerImage: lead.createdBy.brokerImage || lead.createdBy.profileImage || lead.createdBy.image,\r\n                                              name: lead.createdBy.name || lead.createdBy.fullName || lead.createdBy.email || 'Unknown'\r\n                                            };\r\n                                            win.openChatWithBroker({ broker: chatBroker });\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                      className=\"flex items-center gap-1 md:gap-2 cursor-pointer\"\r\n                                    >\r\n                                      <svg className=\"w-2.5 h-2.5 md:w-3 md:h-3 fill-none stroke-[#3B82F6]\" viewBox=\"0 0 24 24\" strokeWidth=\"2\">\r\n                                        <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\r\n                                      </svg>\r\n                                      <span className=\"font-inter text-[10px] md:text-xs  leading-tight font-normal text-[#3B82F6] hover:text-blue-700 transition-colors\">Chat</span>\r\n                                    </button>\r\n                                  </div>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* View button - Right side (only show if not admin) */}\r\n                          {!isAdmin && (\r\n                            <div className=\"flex-shrink-0\">\r\n                              {brokerId ? (\r\n                                <span\r\n                                  onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    e.preventDefault();\r\n                                    router.push(`/broker-details/${brokerId}`);\r\n                                  }}\r\n                                  className=\"text-[10px] md:text-[12px] font-normal text-[#3B82F6] hover:text-blue-700 transition-colors cursor-pointer\"\r\n                                >\r\n                                  View\r\n                                </span>\r\n                              ) : (\r\n                                <p className=\"text-[10px] md:text-[12px] font-normal text-[#3B82F6]\">View</p>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </article>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {!isLoading && !leadsError && totalLeads > 0 && totalPages > 1 && (\r\n          <div className=\"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-gray-200 pt-4\">\r\n            {/* Left: Results info */}\r\n            <div className=\"text-sm text-gray-600\">\r\n              Showing {startIndex + 1}-{Math.min(endIndex, totalLeads)} of {totalLeads} results\r\n            </div>\r\n\r\n            {/* Right: Pagination buttons */}\r\n            <div className=\"flex items-center gap-1\">\r\n              <button\r\n                onClick={handlePreviousPage}\r\n                disabled={currentPage === 1}\r\n                  className={`w-8 h-8 flex items-center justify-center rounded-md border ${\r\n                  currentPage === 1\r\n                    ? 'bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                  }`}\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\r\n                </svg>\r\n              </button>\r\n\r\n              <div className=\"flex items-center gap-1 overflow-x-auto\">\r\n                {/* Always show first page */}\r\n                <button\r\n                  onClick={() => handlePageChange(1)}\r\n                    className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                      currentPage === 1\r\n                      ? 'bg-[#0A421E] text-white'\r\n                      : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                    }`}\r\n                >\r\n                  1\r\n                </button>\r\n\r\n                {/* Show ellipsis if current page is far from start */}\r\n                {currentPage > 4 && (\r\n                  <span className=\"px-2 py-2 text-sm text-gray-500\">...</span>\r\n                )}\r\n\r\n                {/* Show pages around current page */}\r\n                {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n                  .filter(page => {\r\n                    // Don't show page 1 (already shown above)\r\n                    if (page === 1) return false;\r\n                    // Don't show last page (shown below)\r\n                    if (page === totalPages) return false;\r\n\r\n                    // Show pages 2-4 if current page is 1-3\r\n                    if (currentPage <= 3) {\r\n                      return page >= 2 && page <= 4;\r\n                    }\r\n                    // Show pages around current page\r\n                    if (currentPage > 3 && currentPage < totalPages - 2) {\r\n                      return page >= currentPage - 1 && page <= currentPage + 1;\r\n                    }\r\n                    // Show last few pages if current page is near end\r\n                    if (currentPage >= totalPages - 2) {\r\n                      return page >= totalPages - 3 && page < totalPages;\r\n                    }\r\n                    return false;\r\n                  })\r\n                  .map((page) => (\r\n                    <button\r\n                      key={page}\r\n                      onClick={() => handlePageChange(page)}\r\n                        className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                          currentPage === page\r\n                          ? 'bg-[#0A421E] text-white'\r\n                          : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                        }`}\r\n                    >\r\n                      {page}\r\n                    </button>\r\n                  ))}\r\n\r\n                {/* Show ellipsis if current page is far from end */}\r\n                {currentPage < totalPages - 3 && (\r\n                  <span className=\"px-2 py-2 text-sm text-gray-500\">...</span>\r\n                )}\r\n\r\n                {/* Always show last page if there's more than 1 page */}\r\n                {totalPages > 1 && (\r\n                  <button\r\n                    onClick={() => handlePageChange(totalPages)}\r\n                      className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                        currentPage === totalPages\r\n                        ? 'bg-[#0A421E] text-white'\r\n                        : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                  >\r\n                    {totalPages}\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleNextPage}\r\n                disabled={currentPage === totalPages}\r\n                  className={`w-8 h-8 flex items-center justify-center rounded-md border ${\r\n                  currentPage === totalPages\r\n                    ? 'bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                  }`}\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .slider-min,\r\n        .slider-max {\r\n          background: transparent;\r\n          cursor: pointer;\r\n          pointer-events: auto;\r\n        }\r\n        .slider-min::-webkit-slider-thumb {\r\n          appearance: none;\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: #FFFFFF;\r\n          cursor: grab;\r\n          border: 2px solid #1C5032;\r\n          box-shadow: 0 1px 3px rgba(0,0,0,0.12);\r\n          position: relative;\r\n          z-index: 30;\r\n          margin-top: -9px;\r\n        }\r\n        .slider-min::-webkit-slider-thumb:active {\r\n          cursor: grabbing;\r\n          transform: scale(1.05);\r\n        }\r\n        .slider-max::-webkit-slider-thumb {\r\n          appearance: none;\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: #FFFFFF;\r\n          cursor: grab;\r\n          border: 2px solid #1C5032;\r\n          box-shadow: 0 1px 3px rgba(0,0,0,0.12);\r\n          position: relative;\r\n          z-index: 31;\r\n          margin-top: -9px;\r\n        }\r\n        .slider-max::-webkit-slider-thumb:active {\r\n          cursor: grabbing;\r\n          transform: scale(1.05);\r\n        }\r\n        .slider-min::-moz-range-thumb {\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: #FFFFFF;\r\n          cursor: grab;\r\n          border: 2px solid #1C5032;\r\n          box-shadow: 0 1px 3px rgba(0,0,0,0.12);\r\n          position: relative;\r\n          z-index: 30;\r\n        }\r\n        .slider-max::-moz-range-thumb {\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: #FFFFFF;\r\n          cursor: grab;\r\n          border: 2px solid #1C5032;\r\n          box-shadow: 0 1px 3px rgba(0,0,0,0.12);\r\n          position: relative;\r\n          z-index: 31;\r\n        }\r\n        .slider-min::-webkit-slider-thumb:hover,\r\n        .slider-max::-webkit-slider-thumb:hover {\r\n          transform: scale(1.08);\r\n          box-shadow: 0 2px 5px rgba(0,0,0,0.15);\r\n        }\r\n        .slider-min::-moz-range-thumb:hover,\r\n        .slider-max::-moz-range-thumb:hover {\r\n          transform: scale(1.08);\r\n          box-shadow: 0 2px 5px rgba(0,0,0,0.15);\r\n        }\r\n        .slider-min::-webkit-slider-track,\r\n        .slider-max::-webkit-slider-track {\r\n          background: transparent;\r\n          height: 2px;\r\n        }\r\n        .slider-min::-moz-range-track,\r\n        .slider-max::-moz-range-track {\r\n          background: transparent;\r\n          height: 2px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeadsComponent;\r\n","'use client';\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Select, { components } from 'react-select';\r\nimport TabsBar from './TabsBar';\r\nimport { useAuth } from '@/app/contexts/AuthContext';\r\n\r\nconst BrokersComponent = ({ activeTab, setActiveTab, initialSearchQuery = ''  }) => {\r\n  const router = useRouter();\r\n  const { user, isBroker } = useAuth();\r\n  const [brokerFilters, setBrokerFilters] = useState({\r\n    region: [],\r\n    experienceRange: [0, 20],\r\n    brokerType: [],\r\n    ratingRange: [0, 5],\r\n    languages: [],\r\n    showVerifiedOnly: false,\r\n    city: ''\r\n  });\r\n\r\n  const [sortBy, setSortBy] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [regions, setRegions] = useState([]);\r\n  const [cities, setCities] = useState([\r\n    { value: 'Agra', label: 'Agra' },\r\n    { value: 'Noida', label: 'Noida' }\r\n  ]);\r\n  const [regionsLoading, setRegionsLoading] = useState(true);\r\n\r\n  const [path, setPath] = useState('');\r\n  \r\n  // New search states\r\n  const [nameSearchTerm, setNameSearchTerm] = useState('');\r\n  const [regionSearchTerm, setRegionSearchTerm] = useState('');\r\n  \r\n  // Store full region objects for ID mapping\r\n  const [regionsData, setRegionsData] = useState([]);\r\n  \r\n  // Broker ratings API state\r\n  const [brokerRatings, setBrokerRatings] = useState({}); // Map of brokerId -> average rating\r\n  const [ratingsLoading, setRatingsLoading] = useState(false);\r\n  \r\n  // Brokers API state\r\n  const [brokers, setBrokers] = useState([]);\r\n  const [brokersLoading, setBrokersLoading] = useState(true);\r\n  \r\n  // Pagination state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(9);\r\n  \r\n  // Secondary filters state\r\n  const [showSecondaryFilters, setShowSecondaryFilters] = useState(false);\r\n  const [secondaryFilters, setSecondaryFilters] = useState({\r\n    brokerName: '', // Don't set from initialSearchQuery here - let useEffect handle it after checking if it's a region\r\n    language: '',\r\n    brokerStatus: '', // Changed from array to single string\r\n    responseRate: [],\r\n    joinedDate: '',\r\n    sortBy: 'rating-high'\r\n  });\r\n\r\n  // Track if we've processed the initial search query to avoid re-processing\r\n  const [hasProcessedInitialQuery, setHasProcessedInitialQuery] = useState(false);\r\n  const [lastProcessedQuery, setLastProcessedQuery] = useState('');\r\n  \r\n  // Store regionId from URL to use for filtering (must be declared before useEffects that use it)\r\n  const [urlRegionId, setUrlRegionId] = useState(null);\r\n  \r\n  // Store latitude and longitude from URL for geocoding-based search\r\n  const [urlLatitude, setUrlLatitude] = useState(null);\r\n  const [urlLongitude, setUrlLongitude] = useState(null);\r\n\r\n  // Listen to URL changes for search query updates (when typing in navbar search)\r\n  useEffect(() => {\r\n    setPath(window.location.pathname);\r\n    if (typeof window === 'undefined') return;\r\n    const checkURL = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const q = sp.get('q');\r\n        if (q && q !== lastProcessedQuery) {\r\n          // Reset processing flag when URL query changes\r\n          setHasProcessedInitialQuery(false);\r\n          setLastProcessedQuery('');\r\n        } else if (!q && lastProcessedQuery) {\r\n          // Clear filters if query is removed\r\n          setHasProcessedInitialQuery(false);\r\n          setLastProcessedQuery('');\r\n          setBrokerFilters(prev => ({ ...prev, region: [] }));\r\n          setSecondaryFilters(prev => ({ ...prev, brokerName: '' }));\r\n        }\r\n      } catch {}\r\n    };\r\n    checkURL();\r\n    // Check URL changes periodically (when navbar search updates)\r\n    const interval = setInterval(checkURL, 200);\r\n    return () => clearInterval(interval);\r\n  }, [lastProcessedQuery]);\r\n\r\n  // Reset processing flag when search query changes\r\n  useEffect(() => {\r\n    if (initialSearchQuery !== lastProcessedQuery) {\r\n      setHasProcessedInitialQuery(false);\r\n      // Clear filters when new search comes in\r\n      if (initialSearchQuery !== lastProcessedQuery && lastProcessedQuery !== '') {\r\n        setBrokerFilters(prev => ({ ...prev, region: [] }));\r\n        setSecondaryFilters(prev => ({ ...prev, brokerName: '' }));\r\n      }\r\n    }\r\n  }, [initialSearchQuery, lastProcessedQuery]);\r\n\r\n  // Initialize search query - check if it's a region name or broker name\r\n  useEffect(() => {\r\n    // Skip if we've already processed this query or if urlRegionId is set (handled separately)\r\n    if (urlRegionId || hasProcessedInitialQuery) return;\r\n    \r\n    // Get current query from URL (in case it changed via navbar search)\r\n    let currentQuery = initialSearchQuery;\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const q = sp.get('q');\r\n        if (q) {\r\n          currentQuery = q;\r\n        }\r\n      } catch {}\r\n    }\r\n    \r\n    if (currentQuery && currentQuery.trim() && regionsData.length > 0) {\r\n      const queryLower = currentQuery.toLowerCase().trim();\r\n      \r\n      // Check if query matches any region name (case-insensitive, exact or partial match)\r\n      const matchedRegion = regionsData.find(region => {\r\n        const regionName = typeof region === 'string' \r\n          ? region \r\n          : (region.name || region.city || region.state || '');\r\n        const regionNameLower = regionName.toLowerCase().trim();\r\n        // Exact match or if query is contained in region name (case-insensitive)\r\n        return regionNameLower === queryLower || regionNameLower.includes(queryLower) || queryLower.includes(regionNameLower);\r\n      });\r\n      \r\n      if (matchedRegion) {\r\n        // If it's a region match, set region filter and CLEAR broker name\r\n        const regionName = typeof matchedRegion === 'string' \r\n          ? matchedRegion \r\n          : (matchedRegion.name || matchedRegion.city || matchedRegion.state || '');\r\n        if (regionName) {\r\n          setBrokerFilters(prev => ({\r\n            ...prev,\r\n            region: [regionName]\r\n          }));\r\n          // Clear broker name filter when region is matched\r\n          setSecondaryFilters(prev => ({ ...prev, brokerName: '' }));\r\n          setShowSecondaryFilters(true);\r\n          setHasProcessedInitialQuery(true);\r\n          setLastProcessedQuery(currentQuery);\r\n        }\r\n      } else {\r\n        // Otherwise, use it for broker name search and clear region filter\r\n        setSecondaryFilters(prev => ({ ...prev, brokerName: currentQuery.trim() }));\r\n        setBrokerFilters(prev => ({ ...prev, region: [] }));\r\n        setShowSecondaryFilters(true);\r\n        setHasProcessedInitialQuery(true);\r\n        setLastProcessedQuery(currentQuery);\r\n      }\r\n    } else if (currentQuery && currentQuery.trim() && !hasProcessedInitialQuery) {\r\n      // If regions not loaded yet, wait for them to load before deciding\r\n      // Don't set broker name yet - will be re-evaluated when regions load\r\n    }\r\n  }, [initialSearchQuery, regionsData, urlRegionId, hasProcessedInitialQuery]);\r\n\r\n  // Enable skeleton loader on Brokers page when switching tabs\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const t = setTimeout(() => setIsLoading(false), 500);\r\n    return () => clearTimeout(t);\r\n  }, [activeTab]);\r\n\r\n  // Initialize regionId from URL query parameter on mount and remove it from URL\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    try {\r\n      const sp = new URLSearchParams(window.location.search);\r\n      const regionIdParam = sp.get('regionId');\r\n      if (regionIdParam) {\r\n        // Store the regionId for filtering\r\n        setUrlRegionId(regionIdParam);\r\n        \r\n        // Remove regionId from URL without reloading page\r\n        sp.delete('regionId');\r\n        const newUrl = window.location.pathname + (sp.toString() ? `?${sp.toString()}` : '');\r\n        window.history.replaceState({}, '', newUrl);\r\n      }\r\n    } catch {}\r\n  }, []);\r\n\r\n  // Listen for latitude and longitude from URL (for geocoding-based search)\r\n  // Read immediately on mount to ensure coordinates are available before API calls\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    const updateFromURL = () => {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        const latitudeParam = sp.get('latitude');\r\n        const longitudeParam = sp.get('longitude');\r\n        \r\n        if (latitudeParam && longitudeParam) {\r\n          const lat = parseFloat(latitudeParam);\r\n          const lng = parseFloat(longitudeParam);\r\n          if (!isNaN(lat) && !isNaN(lng)) {\r\n            setUrlLatitude(lat);\r\n            setUrlLongitude(lng);\r\n          }\r\n        } else {\r\n          setUrlLatitude(null);\r\n          setUrlLongitude(null);\r\n        }\r\n      } catch (error) {\r\n        // Error reading URL params\r\n      }\r\n    };\r\n    // Read immediately on mount\r\n    updateFromURL();\r\n    // Also listen for URL changes (popstate, pushState, etc.)\r\n    const handlePopState = () => updateFromURL();\r\n    window.addEventListener('popstate', handlePopState);\r\n    // Check periodically for URL changes (in case of programmatic navigation)\r\n    const interval = setInterval(updateFromURL, 500);\r\n    return () => {\r\n      clearInterval(interval);\r\n      window.removeEventListener('popstate', handlePopState);\r\n    };\r\n  }, []);\r\n\r\n  // Once regions data is loaded, try to find and set the region name from stored regionId\r\n  useEffect(() => {\r\n    if (urlRegionId && regionsData.length > 0 && regions.length > 0 && !hasProcessedInitialQuery) {\r\n      const region = regionsData.find(r => {\r\n        if (typeof r === 'object' && r !== null) {\r\n          return (r._id === urlRegionId || r.id === urlRegionId);\r\n        }\r\n        return false;\r\n      });\r\n      if (region) {\r\n        // Extract region name using the same logic as in fetchRegions\r\n        let regionName = '';\r\n        if (typeof region === 'string') {\r\n          regionName = region;\r\n        } else if (typeof region === 'object' && region !== null) {\r\n          regionName = region.name || region.city || region.state || region._id || String(region);\r\n        }\r\n        \r\n        // Find the exact match in the regions array to ensure consistency\r\n        const matchingRegionInArray = regions.find(r => {\r\n          const rName = typeof r === 'string' ? r : String(r);\r\n          return rName === regionName || rName.toLowerCase() === regionName.toLowerCase();\r\n        });\r\n        \r\n        // Use the exact name from regions array if found, otherwise use extracted name\r\n        const finalRegionName = matchingRegionInArray || regionName;\r\n        \r\n        if (finalRegionName) {\r\n          setBrokerFilters(prev => ({\r\n            ...prev,\r\n            region: [finalRegionName]\r\n          }));\r\n          // Clear broker name filter when regionId is set\r\n          setSecondaryFilters(prev => ({ ...prev, brokerName: '' }));\r\n          setShowSecondaryFilters(true);\r\n          setHasProcessedInitialQuery(true);\r\n          setLastProcessedQuery(''); // Mark as processed with regionId\r\n        }\r\n      }\r\n    }\r\n  }, [urlRegionId, regionsData, regions, hasProcessedInitialQuery]);\r\n\r\n  // Fetch regions from API (refetch when city changes)\r\n  useEffect(() => {\r\n    const fetchRegions = async () => {\r\n      try {\r\n        setRegionsLoading(true);\r\n        \r\n        // Use environment variable for API URL following app pattern\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        let url = `${apiUrl}/regions`;\r\n        if (brokerFilters.city) {\r\n          url += `?city=${encodeURIComponent(brokerFilters.city)}`;\r\n        }\r\n        const response = await fetch(url, { method: 'GET' });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch regions: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        // Extract regions data following app pattern\r\n        let regionsData = [];\r\n        \r\n        if (Array.isArray(data?.data)) {\r\n          regionsData = data.data;\r\n        } else if (Array.isArray(data?.regions)) {\r\n          regionsData = data.regions;\r\n        } else if (Array.isArray(data)) {\r\n          regionsData = data;\r\n        } else if (data?.data?.regions && Array.isArray(data.data.regions)) {\r\n          regionsData = data.data.regions;\r\n        }\r\n        \r\n        if (Array.isArray(regionsData) && regionsData.length > 0) {\r\n          // Store full region objects for ID mapping\r\n          setRegionsData(regionsData);\r\n          \r\n          // Extract region names from objects if they are objects\r\n          const regionNames = regionsData.map(region => {\r\n            if (typeof region === 'string') {\r\n              return region;\r\n            } else if (typeof region === 'object' && region !== null) {\r\n              return region.name || region.city || region.state || region._id || String(region);\r\n            }\r\n            return String(region);\r\n          });\r\n          setRegions(regionNames);\r\n        } else {\r\n          throw new Error('No valid regions data received');\r\n        }\r\n      } catch (error) {\r\n        // Fallback to hardcoded regions if API fails\r\n        const fallbackRegions = ['Mumbai', 'Delhi', 'Bengaluru', 'Gurugram', 'Pune', 'Noida ', 'Chennai', 'Hyderabad', 'Kolkata'];\r\n        setRegions(fallbackRegions);\r\n      } finally {\r\n        setRegionsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRegions();\r\n  }, [brokerFilters.city]);\r\n\r\n  // Fetch broker ratings from API\r\n  useEffect(() => {\r\n    const fetchRatings = async () => {\r\n      try {\r\n        setRatingsLoading(true);\r\n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${apiUrl}/broker-ratings/all`);\r\n        if (res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          let ratingsList = [];\r\n          if (Array.isArray(data?.data?.items)) ratingsList = data.data.items;\r\n          else if (Array.isArray(data?.data?.ratings)) ratingsList = data.data.ratings;\r\n          else if (Array.isArray(data?.data)) ratingsList = data.data;\r\n          else if (Array.isArray(data?.ratings)) ratingsList = data.ratings;\r\n          else if (Array.isArray(data)) ratingsList = data;\r\n          \r\n          // Group ratings by brokerId and calculate average\r\n          const ratingsMap = {};\r\n          ratingsList.forEach(rating => {\r\n            // Normalize brokerId to string for consistent lookup\r\n            const brokerIdRaw = rating.brokerId || rating.broker?._id || rating.broker?.id || rating.userId || rating.userId?._id || rating.userId?.id;\r\n            const brokerId = brokerIdRaw ? String(brokerIdRaw) : null;\r\n            if (brokerId) {\r\n              if (!ratingsMap[brokerId]) {\r\n                ratingsMap[brokerId] = {\r\n                  total: 0,\r\n                  count: 0,\r\n                  average: 0\r\n                };\r\n              }\r\n              const ratingValue = typeof rating.rating === 'number' ? rating.rating : parseFloat(rating.rating) || 0;\r\n              if (ratingValue > 0) {\r\n                ratingsMap[brokerId].total += ratingValue;\r\n                ratingsMap[brokerId].count += 1;\r\n              }\r\n            }\r\n          });\r\n          \r\n          // Calculate averages\r\n          const averagesMap = {};\r\n          Object.keys(ratingsMap).forEach(brokerId => {\r\n            const { total, count } = ratingsMap[brokerId];\r\n            if (count > 0) {\r\n              averagesMap[brokerId] = (total / count).toFixed(1);\r\n            }\r\n          });\r\n          \r\n          setBrokerRatings(averagesMap);\r\n        }\r\n      } catch (err) {\r\n        setBrokerRatings({});\r\n      } finally {\r\n        setRatingsLoading(false);\r\n      }\r\n    };\r\n    fetchRatings();\r\n  }, []);\r\n\r\n  // Fetch brokers from API with all filters\r\n  const fetchBrokers = async (regionIds = null) => {\r\n    try {\r\n      setBrokersLoading(true);\r\n      \r\n      // Use environment variable for API URL following app pattern\r\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || '';\r\n      \r\n      // Build base query parameters with all filters\r\n      const baseQueryParams = new URLSearchParams();\r\n      \r\n      // Add latitude and longitude if present (priority over region)\r\n      if (urlLatitude !== null && urlLongitude !== null) {\r\n        baseQueryParams.append('latitude', urlLatitude.toString());\r\n        baseQueryParams.append('longitude', urlLongitude.toString());\r\n        baseQueryParams.append('radius', '50'); // Add radius=50 for coordinate-based search\r\n      } else if (regionIds && regionIds.length > 0) {\r\n        // Add region filter if provided (only if no lat/lng)\r\n        // Use the first valid region ID for API call\r\n        const validRegionId = regionIds[0];\r\n        baseQueryParams.append('regionId', validRegionId);\r\n      }\r\n\r\n      // Add city filter\r\n      if (brokerFilters.city) {\r\n        baseQueryParams.append('city', brokerFilters.city);\r\n      }\r\n\r\n      // Add verification status filter (only if checkbox is checked)\r\n      if (brokerFilters.showVerifiedOnly) {\r\n        baseQueryParams.append('verificationStatus', 'Verified');\r\n      }\r\n\r\n      // Add status filter (only if selected - not by default)\r\n      // Removed default status=Active - only send if user selects it\r\n\r\n      // Add rating filters (only if user has changed from default [0, 5])\r\n      if (brokerFilters.ratingRange[0] > 0) {\r\n        baseQueryParams.append('minRating', String(brokerFilters.ratingRange[0]));\r\n      }\r\n      if (brokerFilters.ratingRange[1] < 5) {\r\n        baseQueryParams.append('maxRating', String(brokerFilters.ratingRange[1]));\r\n      }\r\n\r\n      // Add experience filters (only if user has changed from default [0, 20])\r\n      if (brokerFilters.experienceRange[0] > 0) {\r\n        baseQueryParams.append('minExperience', String(brokerFilters.experienceRange[0]));\r\n      }\r\n      if (brokerFilters.experienceRange[1] < 20 && brokerFilters.experienceRange[1] !== 20) {\r\n        baseQueryParams.append('maxExperience', String(brokerFilters.experienceRange[1]));\r\n      }\r\n\r\n      // Add broker name search filter (only if NOT using lat/lng search)\r\n      // Lat/lng searches should not include search parameter\r\n      if (!urlLatitude || !urlLongitude) {\r\n        if (secondaryFilters.brokerName && secondaryFilters.brokerName.trim()) {\r\n          baseQueryParams.append('search', secondaryFilters.brokerName.trim());\r\n        }\r\n      }\r\n\r\n      // Add status filter (if selected in secondary filters)\r\n      // Send the actual selected status value to the API\r\n      if (secondaryFilters.brokerStatus && secondaryFilters.brokerStatus.trim() !== '') {\r\n        const selectedStatus = secondaryFilters.brokerStatus;\r\n        // Send the status value as-is (lowercase for API consistency)\r\n        baseQueryParams.append('status', selectedStatus.toLowerCase());\r\n      }\r\n\r\n      // Add specialization filter (if any selected)\r\n      // Note: API expects specialization as a comma-separated string\r\n      // If not supported, client-side filtering will handle it\r\n      if (brokerFilters.brokerType.length > 0) {\r\n        // Send specializations as comma-separated string\r\n        baseQueryParams.append('specialization', brokerFilters.brokerType.join(','));\r\n      }\r\n      \r\n      // Fetch brokers with a single API call first, then paginate if needed\r\n      let allBrokers = [];\r\n      const isLatLngSearch = urlLatitude !== null && urlLongitude !== null;\r\n      \r\n      // For lat/lng search, only use baseQueryParams (which already has lat/lng)\r\n      // For region search, use pagination\r\n      const limit = isLatLngSearch ? null : 100;\r\n      \r\n      // For lat/lng search, make single API call without page/limit\r\n      if (isLatLngSearch) {\r\n        const queryParams = new URLSearchParams(baseQueryParams);\r\n        // Don't add page, limit, or search for lat/lng searches\r\n        \r\n        // Add sorting (only if user has explicitly selected a sort option)\r\n        if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n          queryParams.append('sortBy', sortBy);\r\n          if (sortOrder) {\r\n            queryParams.append('sortOrder', sortOrder);\r\n          }\r\n        }\r\n        \r\n        const queryString = queryParams.toString();\r\n        const apiUrlWithParams = queryString ? `${apiUrl}/brokers?${queryString}` : `${apiUrl}/brokers`;\r\n        \r\n        const response = await fetch(apiUrlWithParams, { method: 'GET' });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch brokers: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        // Extract brokers data\r\n        let brokersData = [];\r\n        if (data?.data?.brokers && Array.isArray(data.data.brokers)) {\r\n          brokersData = data.data.brokers;\r\n        } else if (Array.isArray(data?.brokers)) {\r\n          brokersData = data.brokers;\r\n        } else if (Array.isArray(data?.data)) {\r\n          brokersData = data.data;\r\n        } else if (Array.isArray(data)) {\r\n          brokersData = data;\r\n        }\r\n        \r\n        if (brokersData.length > 0) {\r\n          allBrokers = brokersData;\r\n        }\r\n      } else {\r\n        // For region-based search, use pagination\r\n        let pageToFetch = 1;\r\n        let hasMorePages = true;\r\n        \r\n        while (hasMorePages) {\r\n          const queryParams = new URLSearchParams(baseQueryParams);\r\n          queryParams.append('page', String(pageToFetch));\r\n          queryParams.append('limit', String(limit));\r\n\r\n        // Add sorting (only if user has explicitly selected a sort option)\r\n        if (sortBy && sortBy !== 'default' && sortBy !== null) {\r\n          queryParams.append('sortBy', sortBy);\r\n          if (sortOrder) {\r\n            queryParams.append('sortOrder', sortOrder);\r\n          }\r\n        }\r\n      \r\n          const queryString = queryParams.toString();\r\n          const apiUrlWithParams = queryString ? `${apiUrl}/brokers?${queryString}` : `${apiUrl}/brokers`;\r\n          \r\n          const response = await fetch(apiUrlWithParams, { method: 'GET' });\r\n          \r\n          if (!response.ok) {\r\n            throw new Error(`Failed to fetch brokers: ${response.status}`);\r\n          }\r\n          \r\n          const data = await response.json();\r\n          \r\n          // Extract brokers data following app pattern\r\n          let brokersData = [];\r\n          \r\n          // Try different data structures based on your JSON format\r\n          // Priority: data.data.brokers > data.brokers > data.data > data (direct array)\r\n          if (data?.data?.brokers && Array.isArray(data.data.brokers)) {\r\n            brokersData = data.data.brokers;\r\n          } else if (Array.isArray(data?.brokers)) {\r\n            brokersData = data.brokers;\r\n          } else if (Array.isArray(data?.data)) {\r\n            brokersData = data.data;\r\n          } else if (Array.isArray(data)) {\r\n            brokersData = data;\r\n          }\r\n          \r\n          if (brokersData.length > 0) {\r\n            allBrokers = allBrokers.concat(brokersData);\r\n            \r\n            // Check pagination info from API response\r\n            const pagination = data?.data?.pagination || data?.pagination;\r\n            const totalPages = pagination?.totalPages;\r\n            const hasNextPage = pagination?.hasNextPage !== false; // Default to true if not specified\r\n            \r\n            if (pagination && totalPages) {\r\n              // Use API pagination info\r\n              if (pageToFetch >= totalPages || (hasNextPage === false)) {\r\n                hasMorePages = false;\r\n              } else {\r\n                pageToFetch++;\r\n                // Safety check: stop after 10 pages to prevent infinite loops\r\n                if (pageToFetch > 10) {\r\n                  hasMorePages = false;\r\n                }\r\n              }\r\n            } else {\r\n              // Fallback: check if we got fewer brokers than the limit\r\n              if (brokersData.length < limit) {\r\n                hasMorePages = false;\r\n              } else {\r\n                pageToFetch++;\r\n                // Safety check: stop after 10 pages\r\n                if (pageToFetch > 10) {\r\n                  hasMorePages = false;\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            hasMorePages = false;\r\n          }\r\n        }\r\n      }\r\n      \r\n      if (allBrokers.length > 0) {\r\n        // Helper to compute a stable rating based on available broker data\r\n        const computeRating = (raw) => {\r\n          const leadsCount = raw?.leadsCreated?.count || 0;\r\n          const hasSpecializations = Array.isArray(raw?.specializations) && raw.specializations.length > 0;\r\n          const hasFirmName = typeof raw?.firmName === 'string' && raw.firmName.trim() !== '';\r\n          const isVerified = raw?.approvedByAdmin === 'unblocked';\r\n          let rating = 3.0;\r\n          if (leadsCount > 0) rating += 0.5;\r\n          if (hasSpecializations) rating += 0.3;\r\n          if (hasFirmName) rating += 0.2;\r\n          if (isVerified) rating += 0.5;\r\n          return Math.min(rating, 5.0);\r\n        };\r\n        \r\n        // Transform API data to match our component structure\r\n        const transformedBrokers = allBrokers.map((broker, index) => {\r\n          // Get broker ID for rating lookup (try multiple possible ID fields)\r\n          // Normalize to string for consistent comparison with ratings map\r\n          const userIdRaw = (broker?.userId && typeof broker.userId === 'object') ? broker.userId._id : broker.userId;\r\n          const brokerIdRaw = broker._id || broker.id || userIdRaw || null;\r\n          const brokerId = brokerIdRaw ? String(brokerIdRaw) : null;\r\n          \r\n          // Priority: 1. Rating from broker object itself, 2. Rating from brokerRatings map, 3. Computed rating\r\n          const brokerObjectRating = typeof broker.rating === 'number' ? broker.rating : (broker.rating ? parseFloat(broker.rating) : null);\r\n          const ratingsMapRating = brokerId && brokerRatings[brokerId] ? parseFloat(brokerRatings[brokerId]) : null;\r\n          const computedRating = computeRating(broker);\r\n          \r\n          const finalRating = brokerObjectRating !== null && brokerObjectRating > 0 \r\n            ? brokerObjectRating \r\n            : (ratingsMapRating !== null ? ratingsMapRating : computedRating);\r\n          \r\n          return {\r\n            // Include all raw broker fields first\r\n            ...broker,\r\n            // Then override with transformed/calculated fields\r\n            _id: broker._id || broker.id || undefined,\r\n            userIdRaw: (broker?.userId && typeof broker.userId === 'object') ? broker.userId._id : broker.userId,\r\n            id: broker._id || broker.id,\r\n            name: broker.name || 'Unknown Broker',\r\n            profileImage: broker.brokerImage || '/images/user-1.webp',\r\n            brokerImage: broker.brokerImage || broker.profileImage || '/images/user-1.webp', // For chat component\r\n            rating: finalRating,\r\n            email: broker.email || '',\r\n            phone: broker.phone || broker.whatsappNumber || '',\r\n            status: broker.approvedByAdmin === 'unblocked' ? 'Verified' : 'Active',\r\n            statusForChat: 'active', // Lowercase 'active' for chat component\r\n            locations: broker.region ? broker.region.map(r => r.name) : [broker.city || 'Unknown'],\r\n            agency: broker.firmName || 'Unknown Agency',\r\n            experience: (() => {\r\n              if (typeof broker?.experience === 'number') return Math.max(0, Math.floor(broker.experience));\r\n              if (broker?.experience && typeof broker.experience === 'object' && typeof broker.experience.years === 'number') {\r\n                return Math.max(0, Math.floor(broker.experience.years));\r\n              }\r\n              if (!broker.createdAt) return 0;\r\n              const createdDate = new Date(broker.createdAt);\r\n              const currentDate = new Date();\r\n              const diffMs = currentDate - createdDate;\r\n              if (isNaN(diffMs) || diffMs <= 0) return 0;\r\n              const years = diffMs / (1000 * 60 * 60 * 24 * 365);\r\n              return Math.max(0, Math.floor(years));\r\n            })(),\r\n            languages: ['English', 'Hindi'], // Default languages\r\n            address: broker.address || broker.centerLocation || 'Unknown Address',\r\n            brokerTypes: broker.specializations || ['Real Estate Consulting'], // Map specializations to broker types\r\n            // Add the missing fields for proper data binding - use the raw broker data directly\r\n            specializations: broker.specializations || [],\r\n            firmName: broker.firmName || '',\r\n            leadsCreated: broker.leadsCreated || { count: 0, items: [] },\r\n            approvedByAdmin: broker.approvedByAdmin || '',\r\n            createdAt: broker.createdAt || ''\r\n          };\r\n        });\r\n        \r\n        setBrokers(transformedBrokers);\r\n      } else {\r\n        throw new Error('No valid brokers data received');\r\n      }\r\n    } catch (error) {\r\n      // Set empty array instead of fallback data\r\n      setBrokers([]);\r\n    } finally {\r\n      setBrokersLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch brokers when any filter changes or on initial mount (with debouncing)\r\n  useEffect(() => {\r\n    // Skip if we have lat/lng but they're not ready yet, or if we need regions but they're not loaded\r\n    if (urlLatitude === null && urlLongitude === null && regionsData.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // Debounce the API call to prevent multiple rapid calls\r\n    const timeoutId = setTimeout(() => {\r\n      // Convert region names to region IDs for API filtering (only if regionsData is available and no lat/lng)\r\n      let regionIds = [];\r\n      if (urlLatitude === null && urlLongitude === null && regionsData.length > 0 && brokerFilters.region.length > 0) {\r\n        regionIds = brokerFilters.region.map(regionName => {\r\n        const region = regionsData.find(r => {\r\n          if (typeof r === 'object' && r !== null) {\r\n            const regionNameFromData = r.name || r.city || r.state || r._id || String(r);\r\n            return regionNameFromData === regionName;\r\n          }\r\n          return String(r) === regionName;\r\n        });\r\n        \r\n        if (region && region._id && /^[0-9a-fA-F]{24}$/.test(region._id)) {\r\n          return region._id;\r\n        }\r\n        return null;\r\n      }).filter(Boolean);\r\n      }\r\n      \r\n      fetchBrokers(regionIds);\r\n    }, 800); // 800ms debounce delay for input fields\r\n\r\n    // Cleanup timeout on unmount or dependency change\r\n    return () => clearTimeout(timeoutId);\r\n  }, [\r\n    brokerFilters.region, \r\n    brokerFilters.city, \r\n    brokerFilters.showVerifiedOnly, \r\n    brokerFilters.ratingRange, \r\n    brokerFilters.experienceRange,\r\n    brokerFilters.brokerType, \r\n    secondaryFilters.brokerName,\r\n    secondaryFilters.brokerStatus,\r\n    secondaryFilters.joinedDate,\r\n    sortBy, \r\n    sortOrder,\r\n    currentPage,\r\n    regionsData.length,\r\n    urlLatitude,\r\n    urlLongitude\r\n  ]);\r\n\r\n  // Update broker ratings when ratings data is loaded (without re-fetching brokers)\r\n  useEffect(() => {\r\n    if (brokers.length > 0) {\r\n      setBrokers(prevBrokers => \r\n        prevBrokers.map(broker => {\r\n          // Priority: 1. Rating from broker object itself, 2. Rating from brokerRatings map\r\n          const brokerObjectRating = typeof broker.rating === 'number' ? broker.rating : (broker.rating ? parseFloat(broker.rating) : null);\r\n          \r\n          // Only update if broker object doesn't have a rating or if we have a better rating from the map\r\n          if (brokerObjectRating === null || brokerObjectRating === 0) {\r\n            // Get broker ID for rating lookup (try multiple possible ID fields)\r\n            // Normalize to string for consistent comparison with ratings map\r\n            const brokerIdRaw = broker._id || broker.id || broker.userIdRaw || broker.userId || (broker.userId && typeof broker.userId === 'object' ? broker.userId._id : null);\r\n            const brokerId = brokerIdRaw ? String(brokerIdRaw) : null;\r\n            const ratingsMapRating = brokerId && brokerRatings[brokerId] ? parseFloat(brokerRatings[brokerId]) : null;\r\n            \r\n            if (ratingsMapRating !== null) {\r\n              return {\r\n                ...broker,\r\n                rating: ratingsMapRating\r\n              };\r\n            }\r\n          }\r\n          return broker;\r\n        })\r\n      );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [brokerRatings]);\r\n\r\n  // Specialization options - matching the dropdown/image\r\n  const specializationOptions = [\r\n    'Residential Sales',\r\n    'Commercial Leasing',\r\n    'Luxury Homes', \r\n    'Investment Properties',\r\n    'Rental Properties',\r\n    'Land Development',\r\n    'Property Management',\r\n    'Real Estate Consulting'\r\n  ];\r\n\r\n  const resetFilters = () => {\r\n    // Reset all filters to defaults\r\n    setNameSearchTerm('');\r\n    setRegionSearchTerm('');\r\n    setSortBy(null);\r\n    setSortOrder(null);\r\n    setCurrentPage(1);\r\n    setItemsPerPage(9);\r\n\r\n    // Reset main filters\r\n    setBrokerFilters({\r\n      region: [],\r\n      experienceRange: [0, 20],\r\n      brokerType: [],\r\n      ratingRange: [0, 5],\r\n      languages: [],\r\n      showVerifiedOnly: false,\r\n      city: ''\r\n    });\r\n\r\n    // Reset secondary filters\r\n    setSecondaryFilters({\r\n      brokerName: '',\r\n      language: '',\r\n      brokerStatus: '', // Changed to empty string for single select\r\n      responseRate: [],\r\n      joinedDate: '',\r\n      sortBy: 'rating-high'\r\n    });\r\n\r\n    // Reset secondary filters visibility\r\n    setShowSecondaryFilters(false);\r\n\r\n    // Clear URL-based search parameters (latitude, longitude, q)\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        const sp = new URLSearchParams(window.location.search);\r\n        sp.delete('latitude');\r\n        sp.delete('longitude');\r\n        sp.delete('q');\r\n        const newUrl = window.location.pathname + (sp.toString() ? `?${sp.toString()}` : '');\r\n        window.history.replaceState({}, '', newUrl);\r\n      } catch (error) {\r\n        // Error clearing URL parameters\r\n      }\r\n    }\r\n\r\n    // Clear URL-based state\r\n    setUrlLatitude(null);\r\n    setUrlLongitude(null);\r\n    setLastProcessedQuery('');\r\n    setHasProcessedInitialQuery(false);\r\n\r\n    // Dispatch event to clear navbar search bar\r\n    if (typeof window !== 'undefined') {\r\n      window.dispatchEvent(new CustomEvent('clearNavbarSearch'));\r\n    }\r\n\r\n    // Don't trigger fetch - let user apply filters manually or search again\r\n    // The useEffect will handle fetching if there are still active search parameters\r\n  };\r\n\r\n  const reactSelectStyles = {\r\n    control: (base, state) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      borderColor: state.isFocused ? '#3b82f6' : '#d1d5db', // blue-500 focus\r\n      boxShadow: 'none',\r\n      minHeight: 38,\r\n      cursor: 'pointer',\r\n      ':hover': { borderColor: '#60a5fa' } // blue-400 hover\r\n    }),\r\n    option: (base, state) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      backgroundColor: state.isSelected ? '#3b82f6' : state.isFocused ? '#eff6ff' : 'white', // blue-50 focus\r\n      color: state.isSelected ? 'white' : '#111827',\r\n      cursor: 'pointer'\r\n    }),\r\n    singleValue: (base) => ({ ...base, color: '#111827', fontSize: 12 }),\r\n    placeholder: (base) => ({ ...base, color: '#6b7280', fontSize: 12 }),\r\n    input: (base) => ({ ...base, fontSize: 12 }),\r\n    indicatorSeparator: () => ({ display: 'none' }),\r\n    multiValue: (base) => ({\r\n      ...base,\r\n      backgroundColor: '#dbeafe', // blue-100\r\n      borderRadius: 9999\r\n    }),\r\n    multiValueLabel: (base) => ({\r\n      ...base,\r\n      fontSize: 12,\r\n      color: '#1e3a8a', // blue-900\r\n      fontWeight: 600\r\n    }),\r\n    multiValueRemove: (base) => ({\r\n      ...base,\r\n      color: '#3b82f6',\r\n      ':hover': { backgroundColor: '#bfdbfe', color: '#1d4ed8' }\r\n    })\r\n  };\r\n\r\n\r\n  const handleBrokerTypeChange = (type) => {\r\n    setBrokerFilters(prev => ({\r\n      ...prev,\r\n      brokerType: prev.brokerType.includes(type)\r\n        ? prev.brokerType.filter(t => t !== type)\r\n        : [...prev.brokerType, type]\r\n    }));\r\n  };\r\n\r\n  const handleLanguageChange = (language) => {\r\n    setBrokerFilters(prev => ({\r\n      ...prev,\r\n      languages: prev.languages.includes(language)\r\n        ? prev.languages.filter(l => l !== language)\r\n        : [...prev.languages, language]\r\n    }));\r\n  };\r\n\r\n  const handleExperienceChange = (index, value) => {\r\n    const newRange = [...brokerFilters.experienceRange];\r\n    newRange[index] = parseInt(value);\r\n    setBrokerFilters(prev => ({\r\n      ...prev,\r\n      experienceRange: newRange\r\n    }));\r\n  };\r\n\r\n  const handleRatingChange = (index, value) => {\r\n    const newRange = [...brokerFilters.ratingRange];\r\n    newRange[index] = parseFloat(value);\r\n    setBrokerFilters(prev => ({\r\n      ...prev,\r\n      ratingRange: newRange\r\n    }));\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Verified':\r\n        return 'bg-[#ECFDF5] text-[#0A421E]';\r\n      case 'Active':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'Inactive':\r\n        return 'bg-gray-100 text-gray-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Helper function to format budget based on value (thousands, lakhs, crores)\r\n  const formatBudget = (budget) => {\r\n    if (!budget || budget === 0) return \"\";\r\n    // Convert to number\r\n    const numBudget = typeof budget === 'string' ? parseFloat(budget.replace(/[,]/g, '')) : budget;\r\n    if (isNaN(numBudget) || numBudget === 0) return \"\";\r\n    \r\n    // If budget is >= 1 crore (1,00,00,000)\r\n    if (numBudget >= 10000000) {\r\n      const crores = numBudget / 10000000;\r\n      return `${crores.toFixed(2)} Cr`;\r\n    }\r\n    // If budget is >= 1 lakh (1,00,000)\r\n    else if (numBudget >= 100000) {\r\n      const lakhs = numBudget / 100000;\r\n      return `${lakhs.toFixed(2)} Lakhs`;\r\n    }\r\n    // If budget is >= 1 thousand (1,000)\r\n    else if (numBudget >= 1000) {\r\n      const thousands = numBudget / 1000;\r\n      return `${thousands.toFixed(2)} K`;\r\n    }\r\n    // If budget is < 1 thousand, show as is\r\n    else {\r\n      return `${Math.round(numBudget).toLocaleString(\"en-IN\")}`;\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    return [...Array(5)].map((_, i) => (\r\n      <svg\r\n        key={i}\r\n        className={`w-4 h-4 ${i < Math.floor(rating) ? 'text-yellow-400' : 'text-gray-300'}`}\r\n        fill=\"currentColor\"\r\n        viewBox=\"0 0 20 20\"\r\n      >\r\n        <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\r\n      </svg>\r\n    ));\r\n  };\r\n\r\n  const getRatingPillClasses = (rating) => {\r\n    // Always use gray color for rating chips as requested\r\n    return 'bg-gray-200 text-gray-700 border-gray-300';\r\n  };\r\n\r\n  // Compute region options based on selected city (mirror Leads behavior)\r\n  const regionOptionsForUI = useMemo(() => {\r\n    if (!brokerFilters.city) return regions;\r\n    const cityLower = brokerFilters.city.toLowerCase();\r\n    const collected = new Set();\r\n    try {\r\n      // Prefer extracting from current brokers data\r\n      (brokers || []).forEach(b => {\r\n        const locations = Array.isArray(b.locations) ? b.locations : [];\r\n        const address = (b.address || '').toLowerCase();\r\n        const cityMatch = address.includes(cityLower) || locations.some(l => (l || '').toLowerCase().includes(cityLower));\r\n        if (cityMatch) {\r\n          locations.forEach(l => { if (l) collected.add(l); });\r\n        }\r\n      });\r\n    } catch {}\r\n    if (collected.size > 0) return Array.from(collected);\r\n    // Fallback: filter master regions list by city token inclusion\r\n    return regions.filter(r => (r || '').toLowerCase().includes(cityLower));\r\n  }, [brokerFilters.city, brokers, regions]);\r\n\r\n  // Filter brokers based on selected filters (client-side filtering)\r\n  const filteredBrokers = brokers.filter(broker => {\r\n    // Filter out logged-in broker if user is a broker\r\n    if (isBroker() && user?.userId) {\r\n      const currentUserId = String(user.userId);\r\n      const brokerUserId = broker.userIdRaw ? String(broker.userIdRaw) : null;\r\n      const brokerId = broker._id ? String(broker._id) : (broker.id ? String(broker.id) : null);\r\n      const brokerUserIdField = broker.userId ? (typeof broker.userId === 'object' ? String(broker.userId._id || broker.userId.id) : String(broker.userId)) : null;\r\n      \r\n      // Check if this broker matches the logged-in user (check all possible ID fields)\r\n      if (\r\n        (brokerUserId && brokerUserId === currentUserId) ||\r\n        (brokerId && brokerId === currentUserId) ||\r\n        (brokerUserIdField && brokerUserIdField === currentUserId)\r\n      ) {\r\n        return false; // Hide the logged-in broker\r\n      }\r\n    }\r\n    \r\n    // City filter: backend already applies regionCity when city is selected.\r\n    // To avoid over-filtering due to string mismatches, skip client-side city filtering.\r\n    // Name search filter\r\n    if (nameSearchTerm.trim()) {\r\n      const nameMatch = broker.name.toLowerCase().includes(nameSearchTerm.toLowerCase().trim());\r\n      if (!nameMatch) return false;\r\n    }\r\n\r\n    // Region search filter\r\n    if (regionSearchTerm.trim()) {\r\n      const regionMatch = broker.locations.some(location => \r\n        location.toLowerCase().includes(regionSearchTerm.toLowerCase().trim())\r\n      );\r\n      if (!regionMatch) return false;\r\n    }\r\n\r\n    // Region filter (client-side backup - now using region IDs)\r\n    if (brokerFilters.region.length > 0) {\r\n      const hasMatchingRegion = brokerFilters.region.some(selectedRegion => \r\n        broker.locations.some(brokerLocation => {\r\n          const brokerLoc = brokerLocation.toLowerCase().trim();\r\n          const selectedLoc = selectedRegion.toLowerCase().trim();\r\n          \r\n          // Exact match\r\n          if (brokerLoc === selectedLoc) {\r\n            return true;\r\n          }\r\n          \r\n          // Check if broker location contains the selected region as a complete word\r\n          const brokerWords = brokerLoc.split(/\\s+/);\r\n          const selectedWords = selectedLoc.split(/\\s+/);\r\n          \r\n          // If selected region has multiple words, check if all words are in broker location\r\n          if (selectedWords.length > 1) {\r\n            const allWordsMatch = selectedWords.every(word => brokerWords.includes(word));\r\n            return allWordsMatch;\r\n          }\r\n          \r\n          // If selected region is a single word, check if it's a complete word in broker location\r\n          if (selectedWords.length === 1) {\r\n            const singleWordMatch = brokerWords.includes(selectedWords[0]);\r\n            return singleWordMatch;\r\n          }\r\n          \r\n          return false;\r\n        })\r\n      );\r\n      \r\n      if (!hasMatchingRegion) return false;\r\n    }\r\n\r\n    // Experience filter is handled by API (minExperience/maxExperience)\r\n    // No client-side filtering needed since API already filters by experience\r\n    // This prevents double-filtering which could remove valid results\r\n\r\n    // Broker name filter (client-side backup - API handles it via search parameter)\r\n    if (secondaryFilters.brokerName && secondaryFilters.brokerName.trim()) {\r\n      const searchTerm = secondaryFilters.brokerName.toLowerCase().trim();\r\n      const brokerName = (broker.name || '').toLowerCase();\r\n      if (!brokerName.includes(searchTerm)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Status filter (client-side backup)\r\n    if (secondaryFilters.brokerStatus && secondaryFilters.brokerStatus.trim() !== '') {\r\n      const selectedStatus = secondaryFilters.brokerStatus.toLowerCase();\r\n      const brokerStatus = (broker.status || '').toLowerCase();\r\n      \r\n      // Match exact status (API should handle this, but client-side backup)\r\n      if (brokerStatus !== selectedStatus) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Joined Date filter (client-side)\r\n    if (secondaryFilters.joinedDate && secondaryFilters.joinedDate.trim() !== '') {\r\n      const brokerDate = new Date(broker.createdAt || broker.joinedDate || 0);\r\n      const currentDate = new Date();\r\n      const daysDiff = Math.floor((currentDate - brokerDate) / (1000 * 60 * 60 * 24));\r\n      \r\n      if (secondaryFilters.joinedDate === 'recent') {\r\n        // Recently Joined: within last 30 days\r\n        if (daysDiff > 30 || isNaN(daysDiff)) {\r\n          return false;\r\n        }\r\n      } else if (secondaryFilters.joinedDate === 'newest') {\r\n        // Newest: within last 7 days\r\n        if (daysDiff > 7 || isNaN(daysDiff)) {\r\n          return false;\r\n        }\r\n      } else if (secondaryFilters.joinedDate === 'oldest') {\r\n        // Oldest: more than 1 year old\r\n        if (daysDiff < 365 || isNaN(daysDiff)) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // Broker type/specialization filter (client-side)\r\n    if (brokerFilters.brokerType.length > 0) {\r\n      // Check both brokerTypes and specializations fields from API\r\n      const brokerTypes = broker.brokerTypes || [];\r\n      const brokerSpecializations = broker.specializations || [];\r\n      const allBrokerTypes = [...brokerTypes, ...brokerSpecializations];\r\n      \r\n      const hasMatchingType = brokerFilters.brokerType.some(selectedType => {\r\n        // Case-insensitive matching\r\n        const selectedLower = selectedType.toLowerCase();\r\n        return allBrokerTypes.some(brokerType => \r\n          String(brokerType).toLowerCase() === selectedLower ||\r\n          String(brokerType).toLowerCase().includes(selectedLower)\r\n        );\r\n      });\r\n      \r\n      if (!hasMatchingType) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Rating filter\r\n    if (broker.rating < brokerFilters.ratingRange[0] || \r\n        broker.rating > brokerFilters.ratingRange[1]) {\r\n      return false;\r\n    }\r\n\r\n    // Verified only filter\r\n    if (brokerFilters.showVerifiedOnly && broker.status !== 'Verified') {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  // Handle sort change from TabsBar\r\n  const handleSortChange = (newSortBy, newSortOrder) => {\r\n    setSortBy(newSortBy);\r\n    setSortOrder(newSortOrder);\r\n    setCurrentPage(1); // Reset to first page when sorting changes\r\n  };\r\n\r\n  // Sort brokers based on selected sort option\r\n  // If joinedDate filter is applied, also sort by date accordingly\r\n  const sortedBrokers = [...filteredBrokers].sort((a, b) => {\r\n    // If joinedDate filter is active, apply date-based sorting\r\n    if (secondaryFilters.joinedDate && secondaryFilters.joinedDate.trim() !== '') {\r\n      const dateA = new Date(a.createdAt || a.joinedDate || 0);\r\n      const dateB = new Date(b.createdAt || b.joinedDate || 0);\r\n      \r\n      if (secondaryFilters.joinedDate === 'newest' || secondaryFilters.joinedDate === 'recent') {\r\n        // Sort newest first (descending)\r\n        return dateB - dateA;\r\n      } else if (secondaryFilters.joinedDate === 'oldest') {\r\n        // Sort oldest first (ascending)\r\n        return dateA - dateB;\r\n      }\r\n    }\r\n    \r\n    // Apply selected sort option\r\n    if (sortBy === 'rating') {\r\n      return sortOrder === 'desc' ? b.rating - a.rating : a.rating - b.rating;\r\n    }\r\n    if (sortBy === 'createdAt') {\r\n      const dateA = new Date(a.createdAt || a.joinedDate || 0);\r\n      const dateB = new Date(b.createdAt || b.joinedDate || 0);\r\n      return sortOrder === 'desc' ? dateB - dateA : dateA - dateB;\r\n    }\r\n    // Default: rating high to low\r\n    return b.rating - a.rating;\r\n  });\r\n\r\n  // Pagination calculations\r\n  const totalItems = sortedBrokers.length;\r\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const paginatedBrokers = sortedBrokers.slice(startIndex, endIndex);\r\n\r\n  // Reset to first page when filters change\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [brokerFilters, sortBy, secondaryFilters.brokerStatus, secondaryFilters.joinedDate]);\r\n\r\n  // Pagination handlers\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:grid md:grid-cols-12 gap-4 md:gap-8\">\r\n      {/* Filter Sidebar - 3 columns */}\r\n      <div className=\"w-full md:col-span-3\">\r\n        {isLoading ? (\r\n          <div className=\"bg-white rounded-lg p-6\">\r\n            <div className=\"space-y-6\">\r\n              {/* Filter Header Skeleton */}\r\n              <div className=\"flex items-center mb-6 pb-4 border-b border-orange-200\">\r\n                <div className=\"w-5 h-5 bg-gray-200 rounded mr-2\"></div>\r\n                <div className=\"h-6 bg-gray-200 rounded w-32\"></div>\r\n              </div>\r\n              \r\n              {/* Location/Region Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-orange-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-24 mb-4\"></div>\r\n                <div className=\"h-8 bg-gray-200 rounded w-full\"></div>\r\n              </div>\r\n              \r\n              {/* Experience Years Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-orange-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-28 mb-4\"></div>\r\n                <div className=\"h-2 bg-gray-200 rounded\"></div>\r\n              </div>\r\n              \r\n              \r\n              {/* Broker Type Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-orange-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-20 mb-4\"></div>\r\n                <div className=\"space-y-3\">\r\n                  {[1,2,3,4].map((i) => (\r\n                    <div key={i} className=\"flex items-center\">\r\n                      <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                      <div className=\"ml-3 h-4 bg-gray-200 rounded w-24\"></div>\r\n                    </div>\r\n                  ))}\r\n                  <div className=\"flex items-center mt-3\">\r\n                    <div className=\"w-4 h-4 bg-gray-200 rounded\"></div>\r\n                    <div className=\"ml-3 h-4 bg-gray-200 rounded w-32\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Rating Filter Skeleton */}\r\n              <div className=\"mb-6 pb-6 border-b border-orange-200\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-12 mb-4\"></div>\r\n                <div className=\"h-2 bg-gray-200 rounded\"></div>\r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg p-3 md:p-4 shadow-sm border border-gray-200 space-y-4 md:space-y-5\">\r\n          \r\n          {/* Filter Results Heading */}\r\n          <div className=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\r\n            <svg className=\"w-5 h-5 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\r\n            </svg>\r\n            <h3 style={{ fontSize: '20px', lineHeight: '28px', fontWeight: '600', color: '#171A1FFF' }}>Filter Results</h3>\r\n          </div>\r\n\r\n          {/* Region/Area */}\r\n          <div>\r\n            <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Region/Area</label>\r\n            {regionsLoading ? (\r\n              <div className=\"h-9 bg-gray-100 rounded border border-gray-200 animate-pulse\"></div>\r\n            ) : regions.length === 0 ? (\r\n              <div className=\"text-sm text-gray-500\">No regions available</div>\r\n            ) : (\r\n              <Select\r\n                instanceId=\"brokers-region-select\"\r\n                styles={reactSelectStyles}\r\n                className=\"cursor-pointer\"\r\n                options={regions.map(r => ({ value: r, label: r }))}\r\n                value={brokerFilters.region && brokerFilters.region.length > 0 ? { value: brokerFilters.region[0], label: brokerFilters.region[0] } : null}\r\n                onChange={(opt) => setBrokerFilters(prev => ({\r\n                  ...prev, \r\n                  region: opt ? [opt.value] : []\r\n                }))}\r\n                isSearchable\r\n                isClearable\r\n                placeholder=\"Select Region\"\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          {/* Specialization */}\r\n          <div>\r\n            <label className=\"block mb-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}> Expertise Areas</label>\r\n            <div className=\"space-y-2\">\r\n              {specializationOptions.map((spec) => {\r\n                const selected = brokerFilters.brokerType.includes(spec);\r\n                return (\r\n                  <label key={spec} className=\"flex items-center cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selected}\r\n                      onChange={() => handleBrokerTypeChange(spec)}\r\n                      className=\"w-4 h-4 text-green-900 accent-green-900 border-gray-300 rounded focus:ring-green-900\"\r\n                    />\r\n                    <span className=\"ml-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '400', color: '#171A1FFF' }}>{spec}</span>\r\n                  </label>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Rating */}\r\n          <div>\r\n            <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Rating</label>\r\n            <Select\r\n              instanceId=\"rating-select\"\r\n              styles={reactSelectStyles}\r\n              className=\"cursor-pointer\"\r\n              options={[\r\n                { value: '4', label: '4 and above' },\r\n                { value: '3', label: '3 and above' },\r\n                { value: '2', label: '2 and above' },\r\n                { value: '1', label: '1 and above' }\r\n              ]}\r\n              value={brokerFilters.ratingRange[0] >= 4 ? { value: '4', label: '4 and above' } : \r\n                     brokerFilters.ratingRange[0] >= 3 ? { value: '3', label: '3 and above' } :\r\n                     brokerFilters.ratingRange[0] >= 2 ? { value: '2', label: '2 and above' } :\r\n                     { value: '1', label: '1 and above' }}\r\n              onChange={(opt) => setBrokerFilters(prev => ({ ...prev, ratingRange: [parseFloat(opt?.value || 0), 5] }))}\r\n              placeholder=\"Select Rating\"\r\n            />\r\n          </div>\r\n\r\n          {/* Show Verified Brokers Only */}\r\n          <div>\r\n            <label className=\"flex items-center cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={brokerFilters.showVerifiedOnly}\r\n                onChange={(e) => setBrokerFilters(prev => ({ ...prev, showVerifiedOnly: e.target.checked }))}\r\n                className=\"w-4 h-4 text-green-900 accent-green-900 border-gray-300 rounded focus:ring-green-900\"\r\n              />\r\n              <span className=\"ml-3\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '400', color: '#171A1FFF' }}>Show Verified Brokers Only</span>\r\n            </label>\r\n          </div>\r\n\r\n          {/* Experience/Activity Level */}\r\n          <div>\r\n            <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Experience/Activity Level</label>\r\n            <Select\r\n              instanceId=\"experience-select\"\r\n              styles={reactSelectStyles}\r\n              className=\"cursor-pointer\"\r\n              options={[\r\n                { value: '0', label: '0+ Years' },\r\n                { value: '5', label: '5+ Years' },\r\n                { value: '10', label: '10+ Years' },\r\n                { value: '15', label: '15+ Years' },\r\n                { value: '20', label: '20+ Years' }\r\n              ]}\r\n              value={brokerFilters.experienceRange[0] >= 20 ? { value: '20', label: '20+ Years' } :\r\n                     brokerFilters.experienceRange[0] >= 15 ? { value: '15', label: '15+ Years' } :\r\n                     brokerFilters.experienceRange[0] >= 10 ? { value: '10', label: '10+ Years' } :\r\n                     brokerFilters.experienceRange[0] >= 5 ? { value: '5', label: '5+ Years' } :\r\n                     brokerFilters.experienceRange[0] >= 0 ? { value: '0', label: '0+ Years' } : null}\r\n              onChange={(opt) => setBrokerFilters(prev => ({ ...prev, experienceRange: [parseInt(opt?.value || 0), 20] }))}\r\n              placeholder=\"Select Experience\"\r\n            />\r\n          </div>\r\n\r\n          {/* Leads Closed/Deals Completed */}\r\n          {/* <div>\r\n            <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Leads Closed/Deals Completed</label>\r\n            <Select\r\n              instanceId=\"deals-select\"\r\n              styles={reactSelectStyles}\r\n              className=\"cursor-pointer\"\r\n              options={[\r\n                { value: '50', label: '50+' },\r\n                { value: '100', label: '100+' },\r\n                { value: '200', label: '200+' },\r\n                { value: '500', label: '500+' }\r\n              ]}\r\n              placeholder=\"Select Deals\"\r\n            />\r\n          </div> */}\r\n\r\n         \r\n\r\n          {/* Secondary Filters Toggle */}\r\n          <div className=\"pt-4 border-t border-gray-200\">\r\n            <button\r\n              onClick={() => setShowSecondaryFilters(!showSecondaryFilters)}\r\n              className=\"flex items-center justify-between w-full text-[12px] font-medium text-gray-700 hover:text-gray-900\"\r\n            >\r\n              <span>More Filters</span>\r\n              <svg className=\"w-4 h-4 transition-transform\" style={{ transform: showSecondaryFilters ? 'rotate(180deg)' : 'rotate(0deg)' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Secondary Filters */}\r\n          {showSecondaryFilters && (\r\n            <div className=\"space-y-5 pt-4\">\r\n              {/* Broker Name */}\r\n              <div>\r\n                <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Broker Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"e.g., John Doe\"\r\n                  value={secondaryFilters.brokerName}\r\n                  onChange={(e) => setSecondaryFilters(prev => ({ ...prev, brokerName: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-900 focus:border-transparent text-sm\"\r\n                />\r\n              </div>\r\n\r\n          \r\n\r\n             \r\n\r\n              \r\n\r\n              {/* Joined Date */}\r\n              {/* <div>\r\n                <label className=\"block mb-2\" style={{ fontFamily: 'Inter', fontSize: '13px', lineHeight: '16px', fontWeight: '500', color: '#565D6DFF' }}>Joined Date</label>\r\n                <Select\r\n                  instanceId=\"joined-date-select\"\r\n                  styles={reactSelectStyles}\r\n                  className=\"cursor-pointer\"\r\n                  options={[\r\n                    { value: 'newest', label: 'Newest' },\r\n                    { value: 'oldest', label: 'Oldest' },\r\n                    { value: 'recent', label: 'Recently Joined' }\r\n                  ]}\r\n                  value={secondaryFilters.joinedDate ? \r\n                    (() => {\r\n                      const option = [\r\n                        { value: 'newest', label: 'Newest' },\r\n                        { value: 'oldest', label: 'Oldest' },\r\n                        { value: 'recent', label: 'Recently Joined' }\r\n                      ].find(opt => opt.value === secondaryFilters.joinedDate);\r\n                      return option || null;\r\n                    })() \r\n                    : null}\r\n                  onChange={(opt) => setSecondaryFilters(prev => ({ ...prev, joinedDate: opt?.value || '' }))}\r\n                  placeholder=\"Select Date\"\r\n                  isClearable\r\n                />\r\n              </div> */}\r\n\r\n             \r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons - Always Visible */}\r\n          <div className=\"pt-4\">\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={resetFilters}\r\n                style={{\r\n                  fontFamily: 'Inter',\r\n                  fontSize: '12px',\r\n                  lineHeight: '22px',\r\n                  fontWeight: '500',\r\n                  color: '#171A1FFF'\r\n                }}\r\n                className=\"w-full text-[12px] py-1 border border-gray-300 font-medium rounded-lg bg-white hover:bg-white hover:border-gray-300 active:bg-white transition-colors\"\r\n              >\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Brokers Grid - 9 columns */}\r\n      <div className=\"w-full md:col-span-9\">\r\n        {/* Tabs Bar */}\r\n        <TabsBar \r\n          activeTab={activeTab} \r\n          setActiveTab={setActiveTab}\r\n          sortBy={sortBy}\r\n          sortOrder={sortOrder}\r\n          onSortChange={handleSortChange}\r\n        />\r\n\r\n        {/* Header with heading */}\r\n        <div className=\"mb-4 md:mb-6\">\r\n          <h2 className=\"text-[16px] md:text-[18px] font-semibold text-gray-900\">\r\n           {totalItems} Brokers Found\r\n           \r\n          </h2>\r\n           <p className=\"text-[10px] md:text-[12px] text-gray-600\">\r\n           Experts that match your selected region & specialization.\r\n          </p>\r\n        </div>\r\n        \r\n        {/* Brokers Grid */}\r\n        {isLoading || brokersLoading ? (\r\n          <div className=\"grid grid-cols-1 gap-4 lg:gap-6\">\r\n            {[1,2,3,4,5,6].map((i) => (\r\n              <div key={i} className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm\">\r\n                {/* Header: Avatar, name, rating pill */}\r\n                <div className=\"flex items-start gap-3 mb-4\">\r\n                  <div className=\"flex flex-col items-center\">\r\n                    <div className=\"w-18 h-18 bg-gray-200 rounded-full\"></div>\r\n                    <div className=\"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-full border bg-gray-100\">\r\n                      <div className=\"w-3 h-3 bg-gray-200 rounded\"></div>\r\n                      <div className=\"w-6 h-3 bg-gray-200 rounded\"></div>\r\n            </div>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\r\n                </div>\r\n              </div>\r\n                  \r\n                {/* Contact (aligned like live card) */}\r\n                <div className=\"ml-20 mt-2 space-y-2 mb-2\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-gray-200 rounded mr-2\"></div>\r\n                    <div className=\"h-4 bg-gray-200 rounded w-40\"></div>\r\n                  </div>\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-gray-200 rounded mr-2\"></div>\r\n                    <div className=\"h-4 bg-gray-200 rounded w-32\"></div>\r\n          </div>\r\n        </div>\r\n\r\n                {/* Status and Locations chips */}\r\n                <div className=\"ml-20 mb-3\">\r\n                  <div className=\"flex flex-wrap gap-1\">\r\n                    <div className=\"h-5 bg-gray-200 rounded-full w-16\"></div>\r\n                    <div className=\"h-5 bg-gray-200 rounded-full w-20\"></div>\r\n                    <div className=\"h-5 bg-gray-200 rounded-full w-16\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                \r\n\r\n                {/* Agency and Experience */}\r\n                <div className=\"ml-20 flex items-center mb-3\">\r\n                  <div className=\"w-4 h-4 bg-gray-200 rounded mr-2\"></div>\r\n                    <div>\r\n                    <div className=\"h-4 bg-gray-200 rounded w-28 mb-1\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                {/* Address */}\r\n                <div className=\"ml-20 mb-4\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"w-4 h-4 bg-gray-200 rounded mr-2\"></div>\r\n                    <div className=\"h-4 bg-gray-200 rounded w-40\"></div>\r\n                  </div>\r\n                  </div>\r\n                  \r\n                {/* Action Buttons (two) */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1 h-9 bg-gray-200 rounded-full mr-2\"></div>\r\n                  <div className=\"flex-1 h-9 bg-gray-200 rounded-full\"></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : totalItems === 0 ? (\r\n          <div className=\"flex items-center justify-center py-1\">\r\n            <div className=\"w-full mx-auto px-6 py-12 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50\">\r\n              <div className=\"flex flex-col items-center justify-center text-center\">\r\n                {/* Image/Icon */}\r\n                <div className=\"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center mb-6\">\r\n                  <svg\r\n                    className=\"w-12 h-12 text-gray-400\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                {/* Primary Message */}\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                  No brokers found\r\n                </h3>\r\n                {/* Secondary Message */}\r\n                <p className=\"text-sm text-gray-500 mb-6 max-w-md\">\r\n                  {brokerFilters.region.length > 0 || \r\n                   brokerFilters.brokerType.length > 0 || \r\n                   brokerFilters.ratingRange[0] !== 0 || \r\n                   brokerFilters.ratingRange[1] !== 5 ||\r\n                   brokerFilters.experienceRange[0] !== 0 || \r\n                   brokerFilters.experienceRange[1] !== 20 ||\r\n                   brokerFilters.showVerifiedOnly ||\r\n                   brokerFilters.city ||\r\n                   (secondaryFilters && Object.values(secondaryFilters).some(v => v !== null && v !== '' && (Array.isArray(v) ? v.length > 0 : true)))\r\n                    ? \"No brokers found with the selected criteria. Please modify your filters or search terms to see more results.\"\r\n                    : \"No brokers are available at the moment. Please check back later or contact us for assistance.\"}\r\n                </p>\r\n                {/* Action Buttons */}\r\n                {(brokerFilters.region.length > 0 || \r\n                  brokerFilters.brokerType.length > 0 || \r\n                  brokerFilters.ratingRange[0] !== 0 || \r\n                  brokerFilters.ratingRange[1] !== 5 ||\r\n                  brokerFilters.experienceRange[0] !== 0 || \r\n                  brokerFilters.experienceRange[1] !== 20 ||\r\n                  brokerFilters.showVerifiedOnly ||\r\n                  brokerFilters.city ||\r\n                  (secondaryFilters && Object.values(secondaryFilters).some(v => v !== null && v !== '' && (Array.isArray(v) ? v.length > 0 : true)))) && (\r\n                  <button\r\n                    onClick={resetFilters}\r\n                    className=\"inline-flex items-center px-6 py-2.5 bg-green-900 text-white text-sm font-semibold rounded-lg hover:bg-green-950 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                    Clear All Filters\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 gap-4 lg:gap-6\">\r\n            {paginatedBrokers.map((broker) => {\r\n              // Use raw broker data if transformed data is missing\r\n              const actualSpecializations = broker.specializations || [];\r\n              const actualFirmName = broker.firmName || '';\r\n              const actualLeadsCreated = broker.leadsCreated || { count: 0, items: [] };\r\n              const actualLocations = broker.locations || [];\r\n              \r\n              return (\r\n           <div\r\n  key={broker.id}\r\n  className=\"relative bg-white rounded-2xl p-4 md:p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-200 cursor-pointer\"\r\n  onClick={() => {\r\n    const brokerId = broker.userIdRaw || broker.userId || broker._id || broker.id;\r\n    router.push(`/broker-details/${brokerId}`);\r\n  }}\r\n  role=\"button\"\r\n  aria-label={`Open details for ${broker.name || 'broker'}`}\r\n>\r\n  {/* Header */}\r\n  <div className=\"flex items-start gap-3 md:gap-4 mb-4 md:mb-5\">\r\n    {/* Avatar + Rating */}\r\n    <div className=\"relative flex flex-col items-center flex-shrink-0\" style={{ border: '2px solid #d1d5db', borderRadius: '50%', padding: '4px' }}>\r\n      <img\r\n        src={broker.profileImage}\r\n        alt={broker.name}\r\n        className=\"w-14 h-14 md:w-18 md:h-18 rounded-full object-cover\"\r\n        \r\n      />\r\n\r\n      {/* Rating chip - positioned above image */}\r\n      <span\r\n        className={`mt-[-16px] md:mt-[-20px] inline-flex items-center gap-0.5 md:gap-1 px-1 md:px-1.5 text-[10px] md:text-[12px] rounded-lg bg-gray-100 border border-gray-200`}\r\n      >\r\n        <svg\r\n          className=\"w-2.5 h-2.5 md:w-3 md:h-3 text-yellow-500\"\r\n          fill=\"currentColor\"\r\n          viewBox=\"0 0 20 20\"\r\n        >\r\n          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\r\n        </svg>\r\n        <span className=\"text-[10px] md:text-[12px] font-semibold text-gray-800\">\r\n          {typeof broker.rating === 'number' ? broker.rating.toFixed(1) : (broker.rating || '3.0')}\r\n        </span>\r\n      </span>\r\n    </div>\r\n\r\n    {/* Name + Details */}\r\n    <div className=\"flex-1 min-w-0\">\r\n      {/* Name + verified */}\r\n      <div className=\"flex items-center gap-2 mb-1\">\r\n        <h3 className=\"font-inter text-[14px] md:text-[16px] leading-[20px] md:leading-[22px] font-semibold text-[#171A1FFF] truncate\">\r\n          {broker.name}\r\n        </h3>\r\n         {broker.approvedByAdmin === 'unblocked' && (\r\n           <span\r\n  className=\"inline-flex items-center justify-center w-5 h-5 rounded-full border border-[#12B76A] text-[#12B76A] bg-white\"\r\n  title=\"Verified\"\r\n  aria-label=\"Verified\"\r\n>\r\n  <svg\r\n    className=\"w-3 h-3\"\r\n    fill=\"none\"\r\n    stroke=\"currentColor\"\r\n    strokeWidth=\"2.5\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\r\n  </svg>\r\n</span>\r\n         )}\r\n      </div>\r\n\r\n      {/* Specialization */}\r\n      <div className=\"font-inter text-[11px] md:text-[12px] leading-[14px] md:leading-[16px] font-normal text-[#565D6DFF] mb-1\">\r\n        {actualSpecializations.length > 0 ? (\r\n          <>\r\n            {actualSpecializations.slice(0, 1).map((type, i) => (\r\n              <span key={i}>{type}</span>\r\n            ))}\r\n            {actualSpecializations.length > 1 && (\r\n              <span> +{actualSpecializations.length - 1} more</span>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <span>General Broker</span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Firm name */}\r\n      {/* Firm name + Experience (same row) */}\r\n<div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 mb-3\">\r\n  {/* Firm */}\r\n  <span className=\"inline-flex items-center gap-1.5\">\r\n    <svg className=\"w-3.5 h-3.5 md:w-4 md:h-4 text-[#565D6DFF]\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n    </svg>\r\n    <span className=\"font-inter text-[11px] md:text-[12px] leading-[14px] md:leading-[16px] font-normal text-[#565D6DFF] truncate\">\r\n      {actualFirmName || 'Independent Broker'}\r\n    </span>\r\n  </span>\r\n\r\n  {/* Experience */}\r\n  <span className=\"inline-flex items-center gap-1.5\">\r\n   \r\n    <span className=\"font-inter text-[11px] md:text-[12px] leading-[14px] md:leading-[16px] font-normal text-[#565D6DFF]\">\r\n      {`${Math.max(0, parseInt(broker.experience ?? 0))} years experience`}\r\n    </span>\r\n  </span>\r\n</div>\r\n\r\n\r\n      \r\n    </div>\r\n  </div>\r\n\r\n  {/* Address Chip */}\r\n  {broker.address && (\r\n    <div className=\"mb-3 px-3 md:px-4 py-1.5 md:py-2 rounded-md border border-yellow-300 bg-yellow-50\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <svg\r\n          className=\"w-3.5 h-3.5 md:w-4 md:h-4 text-[#171A1FFF] flex-shrink-0\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z\"\r\n          />\r\n          <circle cx=\"12\" cy=\"10\" r=\"3\" />\r\n        </svg>\r\n        <div className=\"font-inter text-[11px] md:text-[12px] leading-[14px] md:leading-[16px] font-normal text-[#19191FFF] truncate\">\r\n          {broker.address}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n\r\n  {/* Location + Leads */}\r\n  <div className=\"flex flex-wrap gap-1.5 md:gap-2 mb-3 md:mb-4\">\r\n    {actualLocations.slice(0, 1).map((location, i) => (\r\n      <span\r\n        key={i}\r\n        className=\"px-2 md:px-3 py-1 md:py-1.5 bg-gray-100 text-gray-700 text-[10px] md:text-xs font-medium rounded-md flex items-center gap-1.5 md:gap-2 border border-gray-200\"\r\n      >\r\n        <svg\r\n          className=\"w-3 h-3 md:w-4 md:h-4 text-gray-800 flex-shrink-0\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n          />\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n          />\r\n        </svg>\r\n        <span className=\"truncate\">{location}</span>\r\n      </span>\r\n    ))}\r\n\r\n    <span className=\"px-2 md:px-3 py-1 md:py-1.5 bg-gray-100 text-gray-700 text-[10px] md:text-xs font-medium rounded-md flex items-center gap-1.5 md:gap-2 border border-gray-200\">\r\n      <svg\r\n        className=\"w-3 h-3 md:w-4 md:h-4 text-gray-800 flex-shrink-0\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth=\"2\"\r\n          d=\"M3 12l9-9 9 9M5 10v10a1 1 0 001 1h3v-5a1 1 0 011-1h2a1 1 0 011 1v5h3a1 1 0 001-1V10\"\r\n        />\r\n      </svg>\r\n      <span>{(actualLeadsCreated.count || 0) === 0 ? 'New Broker' : `${actualLeadsCreated.count} queries`}</span>\r\n    </span>\r\n  </div>\r\n\r\n  {/* Top-right Actions */}\r\n  <div className=\"absolute top-3 right-3 md:top-6 md:right-6 flex items-center gap-1 md:gap-2\">\r\n    <button\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        const brokerId = broker.userIdRaw || broker.userId || broker._id || broker.id;\r\n        router.push(`/broker-details/${brokerId}`);\r\n      }}\r\n      className=\"p-1.5 md:p-2\"\r\n      title=\"View Details\"\r\n      aria-label=\"View Details\"\r\n    >\r\n      <svg\r\n        className=\"w-4 h-4 md:w-5 md:h-5 text-green-900\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.065 7-9.542 7s-8.268-2.943-9.542-7z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n      </svg>\r\n    </button>\r\n\r\n    <button\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        const token =\r\n                            typeof window !== \"undefined\"\r\n                              ? localStorage.getItem(\"token\") ||\r\n                                localStorage.getItem(\"authToken\")\r\n                              : null;\r\n\r\n                          if (!token) {\r\n                            // User not logged in, redirect to login page\r\n                            router.push(`/login?redirect=${path}`);\r\n                            return;\r\n                          }\r\n        if (typeof window !== 'undefined' && window.openChatWithBroker) {\r\n\r\n          const chatBroker = {\r\n            ...broker,\r\n            status: broker.statusForChat || 'active' // Use lowercase 'active' for chat\r\n          };\r\n          window.openChatWithBroker({ broker: chatBroker });\r\n        }\r\n      }}\r\n      className=\"p-1.5 md:p-2\"\r\n      title=\"Chat\"\r\n      aria-label=\"Chat\"\r\n    >\r\n      <svg\r\n        className=\"w-4 h-4 md:w-5 md:h-5 text-gray-600\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        viewBox=\"0 0 24 24\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"\r\n        />\r\n      </svg>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n            );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 border-t border-gray-200 pt-4\">\r\n            {/* Left: Results info */}\r\n            <div className=\"text-sm text-gray-600\">\r\n              Showing {startIndex + 1}-{Math.min(endIndex, totalItems)} of {totalItems} results\r\n            </div>\r\n\r\n            {/* Right: Pagination buttons */}\r\n            <div className=\"flex items-center gap-1\">\r\n              <button\r\n                onClick={handlePrevious}\r\n                disabled={currentPage === 1}\r\n                className={`w-8 h-8 flex items-center justify-center rounded-md border ${\r\n                  currentPage === 1\r\n                    ? 'bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\r\n                </svg>\r\n              </button>\r\n\r\n              <div className=\"flex items-center gap-1 overflow-x-auto\">\r\n                {/* Always show first page */}\r\n                <button\r\n                  onClick={() => handlePageChange(1)}\r\n                  className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                    currentPage === 1\r\n                      ? 'bg-[#0A421E] text-white'\r\n                      : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                  }`}\r\n                >\r\n                  1\r\n                </button>\r\n\r\n                {/* Show ellipsis if current page is far from start */}\r\n                {currentPage > 4 && (\r\n                  <span className=\"px-2 py-2 text-sm text-gray-500\">...</span>\r\n                )}\r\n\r\n                {/* Show pages around current page */}\r\n                {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n                  .filter(page => {\r\n                    // Don't show page 1 (already shown above)\r\n                    if (page === 1) return false;\r\n                    // Don't show last page (shown below)\r\n                    if (page === totalPages) return false;\r\n                    \r\n                    // Show pages 2-4 if current page is 1-3\r\n                    if (currentPage <= 3) {\r\n                      return page >= 2 && page <= 4;\r\n                    }\r\n                    // Show pages around current page\r\n                    if (currentPage > 3 && currentPage < totalPages - 2) {\r\n                      return page >= currentPage - 1 && page <= currentPage + 1;\r\n                    }\r\n                    // Show last few pages if current page is near end\r\n                    if (currentPage >= totalPages - 2) {\r\n                      return page >= totalPages - 3 && page < totalPages;\r\n                    }\r\n                    return false;\r\n                  })\r\n                  .map((page) => (\r\n                    <button\r\n                      key={page}\r\n                      onClick={() => handlePageChange(page)}\r\n                      className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                        currentPage === page\r\n                          ? 'bg-[#0A421E] text-white'\r\n                          : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      {page}\r\n                    </button>\r\n                  ))}\r\n\r\n                {/* Show ellipsis if current page is far from end */}\r\n                {currentPage < totalPages - 3 && (\r\n                  <span className=\"px-2 py-2 text-sm text-gray-500\">...</span>\r\n                )}\r\n\r\n                {/* Always show last page if there's more than 1 page */}\r\n                {totalPages > 1 && (\r\n                  <button\r\n                    onClick={() => handlePageChange(totalPages)}\r\n                    className={`w-8 h-8 flex items-center justify-center rounded-md font-medium ${\r\n                      currentPage === totalPages\r\n                        ? 'bg-[#0A421E] text-white'\r\n                        : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    {totalPages}\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleNext}\r\n                disabled={currentPage === totalPages}\r\n                className={`w-8 h-8 flex items-center justify-center rounded-md border ${\r\n                  currentPage === totalPages\r\n                    ? 'bg-gray-100 text-gray-400 border-gray-300 cursor-not-allowed'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .slider-single {\r\n          background: transparent;\r\n        }\r\n        /* Allow dragging both thumbs on overlapping dual sliders */\r\n        .slider-dual { pointer-events: none; }\r\n        .slider-dual::-webkit-slider-thumb { pointer-events: auto; }\r\n        .slider-dual::-moz-range-thumb { pointer-events: auto; }\r\n        .slider-single::-webkit-slider-thumb {\r\n          appearance: none;\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: white;\r\n          cursor: pointer;\r\n          border: 2px solid #0A421E;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n        }\r\n        .slider-single::-moz-range-thumb {\r\n          width: 20px;\r\n          height: 20px;\r\n          border-radius: 50%;\r\n          background: white;\r\n          cursor: pointer;\r\n          border: 2px solid #0A421E;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n        }\r\n        .slider-single::-webkit-slider-track {\r\n          background: transparent;\r\n        }\r\n        .slider-single::-moz-range-track {\r\n          background: transparent;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BrokersComponent;\r\n"],"names":[],"mappings":"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"}