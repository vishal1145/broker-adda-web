module.exports=[40268,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(64144),c=a.i(75055);let d=({className:a,style:c})=>(0,b.jsxs)("svg",{width:"120",height:"60",viewBox:"0 0 120 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:c,children:[(0,b.jsx)("circle",{cx:"10",cy:"20",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"25",cy:"10",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"40",cy:"25",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"60",cy:"15",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"80",cy:"30",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"100",cy:"20",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"20",cy:"40",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"35",cy:"50",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"55",cy:"40",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"75",cy:"50",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"15",cy:"30",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"30",cy:"20",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"50",cy:"10",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"65",cy:"35",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"90",cy:"40",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"110",cy:"30",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"5",cy:"50",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"45",cy:"55",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"70",cy:"45",r:"5",fill:"#E5E7EB",opacity:"0.5"}),(0,b.jsx)("circle",{cx:"100",cy:"55",r:"5",fill:"#E5E7EB",opacity:"0.5"})]}),e=({data:a})=>(0,b.jsx)("div",{className:"bg-gray-50 py-10 w-screen relative left-1/2 -translate-x-1/2 overflow-x-hidden -mt-5 md:-mt-2",children:(0,b.jsxs)("div",{className:"relative  mx-auto flex flex-col items-center text-center",children:[(0,b.jsx)("div",{className:"absolute left-30 top-12",children:(0,b.jsx)(d,{})}),(0,b.jsx)("div",{className:"absolute right-30 bottom-12",children:(0,b.jsx)(d,{})}),(0,b.jsx)("h1",{className:"text-3xl font-medium text-gray-900 mb-2",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-base text-gray-600 mb-2 max-w-2xl px-4",children:a.description}),a.breadcrumb?.length>0&&(0,b.jsx)("div",{className:"flex justify-center items-center gap-2 text-gray-500 text-base",children:a.breadcrumb.map((d,e)=>(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("a",{href:d.href,className:"hover:underline",children:d.label}),e<a.breadcrumb.length-1&&(0,b.jsx)("span",{className:"mx-1",children:"/"})]},d.label))})]})})},30092,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(75055),c=a.i(39603),d=a.i(36042);let e=({children:a,requiredRole:e=null})=>{let{user:f,loading:g,isAuthenticated:h,isBroker:i,isCustomer:j}=(0,d.useAuth)(),k=(0,c.useRouter)();return((0,b.useEffect)(()=>{if(g)return;let a=setTimeout(()=>{if(h()&&("broker"!==e||i())&&"customer"===e&&!j())return},100);return()=>clearTimeout(a)},[f,g,h,i,j,e,k]),!g&&h()&&("broker"!==e||i())&&("customer"!==e||j()))?a:null}},84116,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(64144),c=a.i(75055);a.i(51722);var d=a.i(39603),e=a.i(40268),f=a.i(30092);let g=()=>{(0,d.useRouter)();let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)("");(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{i(!0),k("");let a=await fetch("https://broker-adda-be.fly.dev/api/chats",{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch connections");let b=await a.json(),c=[];Array.isArray(b?.data)?c=b.data:Array.isArray(b?.connections)?c=b.connections:Array.isArray(b?.chats)?c=b.chats:b?.data?.chats&&Array.isArray(b.data.chats)?c=b.data.chats:b?.data?.connections&&Array.isArray(b.data.connections)&&(c=b.data.connections),g(c)}catch(a){k("Failed to load connections. Please try again.")}finally{i(!1)}};return(0,b.jsxs)(f.default,{children:[(0,b.jsx)(e.default,{data:{title:"Connections",breadcrumb:[{label:"Home",href:"/"},{label:"Connections",href:"/create-connection"}]}}),(0,b.jsx)("div",{className:"bg-white py-16",children:(0,b.jsxs)("div",{className:" mx-auto px-4",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"font-archivo text-[24px] leading-[36px] font-bold text-[#171A1FFF] mb-2",children:"My Connections"}),(0,b.jsx)("p",{className:"text-[14px] leading-[20px] font-normal text-[#565D6DFF]",children:"Manage and view all your broker connections in one place."})]}),!h&&!j&&a.length>0&&(0,b.jsx)("div",{className:"mb-6 flex items-center gap-2",children:(0,b.jsxs)("div",{className:"px-4 py-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,b.jsx)("span",{className:"text-[14px] font-semibold text-green-900",children:a.length}),(0,b.jsx)("span",{className:"text-[12px] font-normal text-green-700 ml-1",children:1===a.length?"Connection":"Connections"})]})}),h&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] animate-pulse",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-gray-200 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},a))}),!h&&j&&(0,b.jsxs)("div",{className:"bg-white border border-red-200 rounded-xl p-8 text-center shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,b.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,b.jsx)("svg",{className:"w-16 h-16 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,b.jsx)("p",{className:"text-[16px] font-semibold text-gray-900 mb-1",children:j}),(0,b.jsx)("p",{className:"text-[14px] text-gray-600",children:"Please check your connection and try again."})]}),(0,b.jsx)("button",{onClick:l,className:"px-6 py-2.5 bg-[#0D542B] text-white rounded-xl hover:bg-[#0B4624] transition-colors text-[14px] font-semibold shadow-sm",children:"Try Again"})]}),!h&&!j&&0===a.length&&(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-12 text-center shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,b.jsx)("div",{className:"text-gray-300 mb-6",children:(0,b.jsx)("svg",{className:"w-20 h-20 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,b.jsx)("h3",{className:"text-[18px] font-semibold text-gray-900 mb-2",children:"No connections found"}),(0,b.jsx)("p",{className:"text-[14px] text-gray-600 max-w-md mx-auto",children:"You don't have any connections yet. Start building your network by connecting with other brokers."})]}),!h&&!j&&a.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((a,c)=>{let d=(a=>{let b=a?.participants?.[0]||a?.participant||a?.broker||a;return{name:b?.name||b?.fullName||b?.email||"Unknown",firmName:b?.firmName||b?.companyName||b?.firm||"",status:b?.status||a?.status||"Active",brokerImage:b?.brokerImage||b?.profileImage||b?.image||null,email:b?.email||"",brokerId:b?._id||b?.id||b?.userId||""}})(a),e=a?._id||a?.id||a?.chatId||c,f=(a=>{let b=[{bg:"bg-sky-100",text:"text-sky-800"},{bg:"bg-emerald-100",text:"text-emerald-800"},{bg:"bg-violet-100",text:"text-violet-800"}],c=String(a||""),d=0;for(let a=0;a<c.length;a++)d=31*d+c.charCodeAt(a)>>>0;return b[d%b.length]})(d.name);return(0,b.jsxs)("div",{className:`group bg-white border border-gray-200 rounded-xl overflow-hidden shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] hover:shadow-[0_4px_12px_rgba(0,0,0,0.08)] transition-all duration-200 ${d.brokerId?"cursor-pointer":"cursor-default"}`,children:[(0,b.jsxs)("div",{className:"relative w-full h-64 bg-gray-100",children:[d.brokerImage?(0,b.jsx)("img",{src:d.brokerImage,alt:d.name,className:"w-full h-full object-cover",onError:a=>{a.target.style.display="none",a.target.nextElementSibling.style.display="flex"}}):null,(0,b.jsx)("div",{className:`w-full h-full flex items-center justify-center text-4xl font-semibold ${f.bg} ${f.text} ${d.brokerImage?"hidden":""}`,children:(a=>{if(!a)return"N";let b=a.trim().split(" ");return b.length>=2?(b[0][0]+b[1][0]).toUpperCase():a.charAt(0).toUpperCase()})(d.name)}),("Verified"===d.status||"Active"===d.status)&&(0,b.jsx)("div",{className:"absolute bottom-3 right-3 w-4 h-4 rounded-full bg-green-500 border-2 border-white"})]}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-0 mb-2",children:[(0,b.jsx)("h3",{className:"text-[16px] font-semibold text-[#171A1F]",children:d.name}),(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600 rotate-45 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]}),d.firmName&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-[#565D6D]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,b.jsx)("p",{className:"text-[14px] font-normal text-[#171A1F]",children:d.firmName})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-[#565D6D]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,b.jsx)("span",{className:"text-[13px] font-normal text-[#565D6D]",children:"Verified"===d.status?"Verified Broker":d.status})]})]})]},e)})})]})})]})}}];

//# sourceMappingURL=Desktop_Broker%20adda_broker-adda-web_src_app_266e6416._.js.map