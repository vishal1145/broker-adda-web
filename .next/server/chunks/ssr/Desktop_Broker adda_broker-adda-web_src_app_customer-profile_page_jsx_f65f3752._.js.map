{"version":3,"sources":["turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/customer-profile/page.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/customer-profile/components/ViewMode.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/customer-profile/components/EditMode.jsx","turbopack:///[project]/Desktop/Broker adda/broker-adda-web/src/app/customer-profile/components/CreateMode.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, Suspense } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport ProtectedRoute from \"../components/ProtectedRoute\";\r\nimport HeaderFile from \"../components/Header\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport ViewModeCustomerProfile from \"./components/ViewMode\";\r\nimport EditModeCustomerProfile from \"./components/EditMode\";\r\nimport CreateModeCustomerProfile from \"./components/CreateMode\";\r\n\r\nconst CustomerProfilePageInner = () => {\r\n  const { user, isAuthenticated } = useAuth();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [mode, setMode] = useState('view');\r\n\r\n  useEffect(() => {\r\n    const urlMode = searchParams?.get('mode');\r\n    setMode(urlMode || 'view');\r\n  }, [searchParams]);\r\n\r\n  const isViewMode = mode === 'view';\r\n  const isEditMode = mode === 'edit';\r\n  const isCreateMode = mode === 'create';\r\n\r\n  // Render create mode\r\n  if (isCreateMode) {\r\n    return (\r\n      <ProtectedRoute requiredRole=\"customer\">\r\n        <Toaster\r\n          position=\"top-right\"\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: \"#363636\",\r\n              color: \"#fff\",\r\n            },\r\n            success: {\r\n              duration: 3000,\r\n              iconTheme: {\r\n                primary: \"#4ade80\",\r\n                secondary: \"#fff\",\r\n              },\r\n            },\r\n            error: {\r\n              duration: 4000,\r\n              iconTheme: {\r\n                primary: \"#ef4444\",\r\n                secondary: \"#fff\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n        <HeaderFile\r\n          data={{\r\n            title: \"Create Customer Profile\",\r\n            breadcrumb: [\r\n              { label: \"Home\", href: \"/\" },\r\n              { label: \"Customer Profile\", href: \"/customer-profile\" },\r\n              { label: \"Create\", href: \"/customer-profile?mode=create\" },\r\n            ],\r\n          }}\r\n        />\r\n        <div className=\"min-h-screen bg-white py-12\">\r\n          <CreateModeCustomerProfile />\r\n        </div>\r\n      </ProtectedRoute>\r\n    );\r\n  }\r\n\r\n  // Render view mode\r\n  if (isViewMode) {\r\n    return (\r\n      <ProtectedRoute requiredRole=\"customer\">\r\n        <Toaster position=\"top-right\" />\r\n        <HeaderFile\r\n          data={{\r\n            title: \"Customer Profile\",\r\n            breadcrumb: [\r\n              { label: \"Home\", href: \"/\" },\r\n              { label: \"Customer Profile\", href: \"/customer-profile\" },\r\n            ],\r\n          }}\r\n        />\r\n        <div className=\" bg-white py-12\">\r\n          <ViewModeCustomerProfile />\r\n        </div>\r\n      </ProtectedRoute>\r\n    );\r\n  }\r\n\r\n  // Render edit mode\r\n  if (isEditMode) {\r\n    return (\r\n      <ProtectedRoute requiredRole=\"customer\">\r\n        <Toaster\r\n          position=\"top-right\"\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: \"#363636\",\r\n              color: \"#fff\",\r\n            },\r\n            success: {\r\n              duration: 3000,\r\n              iconTheme: {\r\n                primary: \"#4ade80\",\r\n                secondary: \"#fff\",\r\n              },\r\n            },\r\n            error: {\r\n              duration: 4000,\r\n              iconTheme: {\r\n                primary: \"#ef4444\",\r\n                secondary: \"#fff\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n        <HeaderFile\r\n          data={{\r\n            title: \"Edit Customer Profile\",\r\n            breadcrumb: [\r\n              { label: \"Home\", href: \"/\" },\r\n              { label: \"Customer Profile\", href: \"/customer-profile\" },\r\n              { label: \"Edit\", href: \"/customer-profile?mode=edit\" },\r\n            ],\r\n          }}\r\n        />\r\n        <div className=\"min-h-screen bg-white py-12\">\r\n          <EditModeCustomerProfile />\r\n        </div>\r\n      </ProtectedRoute>\r\n    );\r\n  }\r\n\r\n  // Default to view mode\r\n  return null;\r\n};\r\n\r\nconst CustomerProfilePage = () => {\r\n  return (\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <CustomerProfilePageInner />\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default CustomerProfilePage;\r\n\r\n","'use client';\r\n\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function ViewModeCustomerProfile() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const toPublicUrl = (raw) => {\r\n    if (!raw || typeof raw !== 'string') return raw;\r\n      const imageHost = process.env.NEXT_PUBLIC_API_IMAGE_URL ;\r\n     \r\n    if (raw.startsWith('/opt/lampp/htdocs/')) {\r\n      const filename = raw.split('/').pop();\r\n        return `${imageHost}/uploads/${filename}`;\r\n    }\r\n    if (raw.startsWith('/uploads/')) {\r\n        return `${imageHost}${raw}`;\r\n    }\r\n    return raw;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        if (!user?.token) {\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        \r\n        const customerId = user.userId;\r\n        if (!customerId) {\r\n          setLoading(false);\r\n          setError('Customer ID not found');\r\n          return;\r\n        }\r\n        \r\n        const base = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${base}/customers/${customerId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n            Accept: 'application/json',\r\n          }\r\n        });\r\n        \r\n        // If profile doesn't exist (404), redirect to create mode\r\n        if (res.status === 404) {\r\n          router.push('/customer-profile?mode=create');\r\n          return;\r\n        }\r\n        \r\n        if (!res.ok) throw new Error('Failed to load customer profile');\r\n        const body = await res.json();\r\n        const customerData = body?.data?.customer || body?.data || body;\r\n        \r\n        // If no customer data found, redirect to create mode\r\n        if (!customerData || (!customerData.name && !customerData.email)) {\r\n          router.push('/customer-profile?mode=create');\r\n          return;\r\n        }\r\n        \r\n        setData(customerData || null);\r\n      } catch (e) {\r\n        setError('Failed to load profile');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, [user?.userId, user?.token]);\r\n\r\n  const profile = useMemo(() => {\r\n    const nonEmpty = (v) => typeof v === 'string' && v.trim().length > 0 && v !== 'null' && v !== 'undefined';\r\n    const pick = (...vals) => vals.find(nonEmpty) || '';\r\n    const joinedRaw = pick(data?.createdAt, data?.joinedAt);\r\n    const joinedDate = joinedRaw ? new Date(joinedRaw) : null;\r\n    \r\n    const preferences = data?.preferences || data?.additionalDetails?.preferences || {};\r\n    const propertyTypes = preferences.propertyType || [];\r\n    \r\n    // Format date of birth\r\n    const dateOfBirthRaw = pick(data?.dateOfBirth, data?.dob, data?.customerDetails?.dateOfBirth);\r\n    let dateOfBirthFormatted = '-';\r\n    if (dateOfBirthRaw) {\r\n      try {\r\n        const dobDate = new Date(dateOfBirthRaw);\r\n        if (!isNaN(dobDate.getTime())) {\r\n          dateOfBirthFormatted = dobDate.toLocaleDateString(undefined, { \r\n            day: '2-digit', \r\n            month: 'short', \r\n            year: 'numeric' \r\n          });\r\n        }\r\n      } catch (e) {\r\n        // If date parsing fails, try to extract just the date part\r\n        const dateMatch = dateOfBirthRaw.match(/^\\d{4}-\\d{2}-\\d{2}/);\r\n        if (dateMatch) {\r\n          try {\r\n            const dobDate = new Date(dateMatch[0]);\r\n            if (!isNaN(dobDate.getTime())) {\r\n              dateOfBirthFormatted = dobDate.toLocaleDateString(undefined, { \r\n                day: '2-digit', \r\n                month: 'short', \r\n                year: 'numeric' \r\n              });\r\n            }\r\n          } catch (e2) {\r\n            // Keep as '-' if all parsing fails\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    return {\r\n      name: pick(data?.name, data?.user?.name, data?.userId?.name, 'Unknown'),\r\n      email: pick(data?.email, data?.user?.email, data?.userId?.email),\r\n      phone: pick(data?.phone, data?.user?.phone, data?.userId?.phone, data?.mobile),\r\n      gender: pick(data?.gender),\r\n      dateOfBirth: dateOfBirthFormatted,\r\n      joinedDateFormatted: joinedDate ? joinedDate.toLocaleDateString(undefined, { day: '2-digit', month: 'short', year: 'numeric' }) : '',\r\n      image: toPublicUrl(pick(data?.customerImage, data?.images?.customerImage, data?.files?.customerImage, data?.profileImage, data?.image, '/images/user-1.webp')),\r\n      budgetMin: preferences.budgetMin || '',\r\n      budgetMax: preferences.budgetMax || '',\r\n      propertyType: Array.isArray(propertyTypes) ? propertyTypes : [],\r\n      inquiryCount: data?.inquiryCount || data?.additionalDetails?.inquiryCount || 0,\r\n      regions: Array.isArray(data?.preferences?.region) ? data.preferences.region : \r\n               Array.isArray(data?.additionalDetails?.preferences?.region) ? data.additionalDetails.preferences.region : [],\r\n    };\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto\">\r\n      {/* Customer Information */}\r\n      <div className=\"rounded-[10px] bg-white mb-6 p-6 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]\">\r\n        {loading ? (\r\n          <div className=\"animate-pulse flex items-center gap-4\">\r\n            <div className=\"w-16 h-16 rounded-full bg-gray-200\" />\r\n            <div className=\"flex-1 space-y-2\">\r\n              <div className=\"h-4 bg-gray-200 rounded w-32\" />\r\n              <div className=\"h-3 bg-gray-200 rounded w-64\" />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Top row with profile picture, name/email, and Edit button */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <img \r\n                  src={profile.image} \r\n                  alt=\"Profile\" \r\n                  className=\"w-16 h-16 rounded-full object-cover border-2 border-gray-200\" \r\n                />\r\n                <div>\r\n                  <div className=\"text-[18px] font-semibold text-gray-900 mb-1\">{profile.name}</div>\r\n                  <div className=\"text-[14px] text-gray-500\">{profile.email || '-'}</div>\r\n                </div>\r\n              </div>\r\n              <button \r\n                type=\"button\" \r\n                onClick={() => router.push('/customer-profile?mode=edit')} \r\n                className=\"inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-green-900 hover:bg-green-800 text-[14px] font-medium transition-colors\"\r\n              >\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth=\"2\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"/>\r\n                </svg>\r\n                Edit Profile\r\n              </button>\r\n            </div>\r\n\r\n            {/* Info grid - Three columns */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              {/* Column 1 */}\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Gender</div>\r\n                  <div className=\"text-gray-900 text-[14px] capitalize\">{profile.gender || '-'}</div>\r\n                </div>\r\n            \r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Preferred Property Types</div>\r\n                  <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                    {profile.propertyType && profile.propertyType.length > 0 ? (\r\n                      profile.propertyType.map((type, idx) => (\r\n                        <span \r\n                          key={idx} \r\n                          className=\"px-2.5 py-1 rounded-full bg-gray-50 border border-gray-200 text-[12px] text-gray-800 capitalize\"\r\n                        >\r\n                          {type}\r\n                        </span>\r\n                      ))\r\n                    ) : (\r\n                      <span className=\"text-gray-900 text-[14px]\">-</span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 2 */}\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Date of Birth</div>\r\n                  <div className=\"text-gray-900 text-[14px]\">{profile.dateOfBirth || '-'}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Budget Range</div>\r\n                  <div className=\"text-gray-900 text-[14px]\">\r\n                    {profile.budgetMin && profile.budgetMax \r\n                      ? `₹${Number(profile.budgetMin).toLocaleString('en-IN')} - ₹${Number(profile.budgetMax).toLocaleString('en-IN')}`\r\n                      : '-'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Column 3 */}\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Joined Date</div>\r\n                  <div className=\"text-gray-900 text-[14px]\">{profile.joinedDateFormatted || '-'}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-500 text-[12px] mb-1\">Phone</div>\r\n                  <div className=\"text-gray-900 text-[14px]\">{profile.phone || '-'}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n    \r\n\r\n      {error && (\r\n        <div className=\"text-[12px] text-red-600 mt-6\">{error}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Select from 'react-select';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst toPublicUrl = (raw) => {\r\n  if (!raw || typeof raw !== 'string') return raw;\r\n  const imageHost = process.env.NEXT_PUBLIC_API_IMAGE_URL ;\r\n  \r\n  if (raw.startsWith('/opt/lampp/htdocs/')) {\r\n    const filename = raw.split('/').pop();\r\n    return `${imageHost}/uploads/${filename}`;\r\n  }\r\n  if (raw.startsWith('/uploads/')) {\r\n    return `${imageHost}${raw}`;\r\n  }\r\n  return raw;\r\n};\r\n\r\nconst getImageSrc = (val) => {\r\n  if (!val) return null;\r\n  if (typeof val === 'string') return toPublicUrl(val);\r\n  try {\r\n    return URL.createObjectURL(val);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default function EditModeCustomerProfile() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    budgetMin: \"\",\r\n    budgetMax: \"\",\r\n    propertyType: [],\r\n    customerImage: null,\r\n    gender: \"\",\r\n    dateOfBirth: \"\",\r\n  });\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [budgetError, setBudgetError] = useState(\"\");\r\n  const [isCheckingEmail, setIsCheckingEmail] = useState(false);\r\n  \r\n  const propertyTypeOptions = [\r\n    { value: \"residential\", label: \"Residential\" },\r\n    { value: \"commercial\", label: \"Commercial\" },\r\n    { value: \"plot\", label: \"Plot\" },\r\n    { value: \"other\", label: \"Other \" },\r\n  ];\r\n\r\n  // Load existing customer data - same as profile page\r\n  useEffect(() => {\r\n    const loadCustomerData = async () => {\r\n      try {\r\n        if (!user?.token) {\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const customerId = user.userId;\r\n        if (!customerId) {\r\n          toast.error('Customer ID not found in token');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const base = process.env.NEXT_PUBLIC_API_URL || '';\r\n        const res = await fetch(`${base}/customers/${customerId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${user.token}`,\r\n            Accept: 'application/json',\r\n          }\r\n        });\r\n\r\n        if (res.ok) {\r\n          const body = await res.json();\r\n          const customerData = body?.data?.customer || body?.data || body;\r\n          \r\n          // Extract and normalize customer image URL - same as profile page\r\n          const customerImage = toPublicUrl(\r\n            customerData.images?.customerImage ||\r\n            customerData.files?.customerImage ||\r\n            customerData.customerImage ||\r\n            null\r\n          );\r\n\r\n          // Extract preferences from the actual API response structure - same as profile page\r\n          const preferences = customerData.preferences || {};\r\n          const budgetMin = preferences.budgetMin || \"\";\r\n          const budgetMax = preferences.budgetMax || \"\";\r\n          const propertyType = preferences.propertyType || [];\r\n\r\n          // Extract customer gender field - same as profile page\r\n          const gender = customerData.gender || formData.gender || \"\";\r\n          const dateOfBirth = customerData.dateOfBirth || customerData.dob || formData.dateOfBirth || \"\";\r\n\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            name: customerData.name || prev.name,\r\n            email: customerData.email || prev.email,\r\n            phone: customerData.phone || prev.phone,\r\n            budgetMin: budgetMin,\r\n            budgetMax: budgetMax,\r\n            propertyType: propertyType,\r\n            inquiryCount: customerData.inquiryCount || prev.inquiryCount,\r\n            customerImage: customerImage,\r\n            gender: gender,\r\n            dateOfBirth: dateOfBirth,\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        toast.error('Failed to load customer data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (user?.userId) {\r\n      loadCustomerData();\r\n    }\r\n  }, [user?.userId, user?.token]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    \r\n    if (name === 'email') {\r\n      setEmailError(\"\");\r\n    }\r\n    if (name === 'budgetMin' || name === 'budgetMax') {\r\n      setBudgetError(\"\");\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setFormData(prev => ({ ...prev, customerImage: file }));\r\n    }\r\n  };\r\n\r\n  const handlePropertyTypeChange = (selectedOptions) => {\r\n    const values = selectedOptions ? selectedOptions.map(opt => opt.value) : [];\r\n    setFormData(prev => ({ ...prev, propertyType: values }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validation\r\n    if (!formData.name.trim()) {\r\n      toast.error('Please enter your name');\r\n      return;\r\n    }\r\n    \r\n    if (!formData.email.trim()) {\r\n      toast.error('Please enter your email');\r\n      return;\r\n    }\r\n\r\n    if (formData.budgetMin && formData.budgetMax) {\r\n      const min = parseFloat(formData.budgetMin);\r\n      const max = parseFloat(formData.budgetMax);\r\n      if (min >= max) {\r\n        setBudgetError('Maximum budget must be greater than minimum budget');\r\n        toast.error('Maximum budget must be greater than minimum budget');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      if (!user?.token) {\r\n        toast.error('No authentication token found. Please login again.');\r\n        return;\r\n      }\r\n\r\n      setSubmitting(true);\r\n      const base = process.env.NEXT_PUBLIC_API_URL || '';\r\n      \r\n      // Prepare form data - same structure as profile page\r\n      const formDataToSend = new FormData();\r\n      formDataToSend.append('phone', formData.phone || '');\r\n      formDataToSend.append('name', formData.name);\r\n      formDataToSend.append('email', formData.email);\r\n      \r\n      // Customer details structure\r\n      formDataToSend.append(\r\n        'customerDetails[preferences][budgetMin]',\r\n        formData.budgetMin ? Number(formData.budgetMin) : ''\r\n      );\r\n      formDataToSend.append(\r\n        'customerDetails[preferences][budgetMax]',\r\n        formData.budgetMax ? Number(formData.budgetMax) : ''\r\n      );\r\n\r\n      // Add property types\r\n      formData.propertyType.forEach((type, index) => {\r\n        formDataToSend.append(\r\n          `customerDetails[preferences][propertyType][${index}]`,\r\n          type\r\n        );\r\n      });\r\n\r\n      // Add customer gender\r\n      formDataToSend.append(\r\n        'customerDetails[gender]',\r\n        formData.gender || ''\r\n      );\r\n\r\n      // Add date of birth\r\n      if (formData.dateOfBirth) {\r\n        formDataToSend.append(\r\n          'customerDetails[dateOfBirth]',\r\n          formData.dateOfBirth\r\n        );\r\n      }\r\n\r\n      formDataToSend.append(\r\n        'customerDetails[inquiryCount]',\r\n        formData.inquiryCount || 0\r\n      );\r\n\r\n      // Add customer image\r\n      if (formData.customerImage) {\r\n        // Check if it's a File object or a string URL\r\n        if (formData.customerImage instanceof File) {\r\n          formDataToSend.append('customerImage', formData.customerImage);\r\n        } else if (typeof formData.customerImage === 'string') {\r\n          // If it's a URL string, skip as it's already uploaded\r\n        }\r\n      }\r\n\r\n      const res = await fetch(`${base}/auth/complete-profile`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`\r\n        },\r\n        body: formDataToSend\r\n      });\r\n\r\n      if (!res.ok) {\r\n        let errorMessage = 'Failed to update profile';\r\n        try {\r\n          const errorData = await res.json();\r\n          // Handle specific error types - same as profile page\r\n          if (errorData.error && errorData.error.includes('E11000')) {\r\n            // Duplicate key error (email already exists)\r\n            errorMessage = 'This email address is already registered. Please use a different email.';\r\n          } else if (errorData.error && errorData.error.includes('validation')) {\r\n            errorMessage = errorData.message || 'Validation error. Please check your input.';\r\n          } else {\r\n            errorMessage = errorData.message || errorData.error || 'Failed to update profile';\r\n          }\r\n        } catch {\r\n          // If error response is not JSON, use default message\r\n        }\r\n        toast.error(errorMessage);\r\n        return;\r\n      }\r\n\r\n      const result = await res.json();\r\n      toast.success('Profile updated successfully!');\r\n      \r\n      // Redirect to view mode after successful update\r\n      setTimeout(() => {\r\n        router.push('/customer-profile?mode=view');\r\n      }, 1500);\r\n    } catch (error) {\r\n      toast.error('Network error. Please try again.');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl\">\r\n        <div className=\"animate-pulse space-y-6\">\r\n          <div className=\"h-8 bg-gray-200 rounded w-64\"></div>\r\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const imageSrc = getImageSrc(formData.customerImage);\r\n  const selectedPropertyTypes = propertyTypeOptions.filter(opt => \r\n    formData.propertyType.includes(opt.value)\r\n  );\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto \">\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Profile Image */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-4\">Profile Picture</h3>\r\n          <div className=\"flex items-center gap-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"w-24 h-24 rounded-full overflow-hidden bg-gray-100 border-2 border-gray-200 flex items-center justify-center\">\r\n                {imageSrc ? (\r\n                  <img src={imageSrc} alt=\"Profile\" className=\"w-full h-full object-cover\" />\r\n                ) : (\r\n                  <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                name=\"customerImage\"\r\n                onChange={handleFileChange}\r\n                accept=\".jpg,.jpeg,.png\"\r\n                className=\"hidden\"\r\n                id=\"customer-image-upload\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute -bottom-1 -right-1 bg-[#0D542B] w-8 h-8 rounded-full flex items-center justify-center hover:bg-[#0B4624] transition-all shadow-lg\"\r\n                onClick={() => document.getElementById('customer-image-upload').click()}\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                  <path d=\"M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5H9.96875L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8H4C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9V18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19H20C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18V9Z\" fill=\"white\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-[12px] text-gray-600\">Upload a profile picture to personalize your account</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Personal Information */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-6\">Personal Information</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Full Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your full name\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-[12px] focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Email Address <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your email\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  emailError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n                required\r\n              />\r\n              {emailError && <p className=\"mt-1 text-xs text-red-600\">{emailError}</p>}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Phone Number\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                name=\"phone\"\r\n                value={formData.phone}\r\n                disabled\r\n                className=\"w-full px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-[12px] text-gray-500 cursor-not-allowed\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Gender\r\n              </label>\r\n              <div className=\"flex gap-6\">\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setFormData(prev => ({ ...prev, gender: 'male' }))}\r\n                    className={`flex items-center justify-center w-10 h-10 rounded-full transition-all ${\r\n                      formData.gender === 'male'\r\n                        ? 'bg-[#0D542B] text-white'\r\n                        : 'bg-white text-gray-600 border border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <circle cx=\"12\" cy=\"5\" r=\"2\" />\r\n                      <path d=\"M9 9h6\" />\r\n                      <path d=\"M9 9l-3 6h12l-3-6z\" />\r\n                      <path d=\"M8 22v-6M16 22v-6\" />\r\n                    </svg>\r\n                  </button>\r\n                  <span className=\"text-[12px] font-medium text-gray-900\">Male</span>\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setFormData(prev => ({ ...prev, gender: 'female' }))}\r\n                    className={`flex items-center justify-center w-10 h-10 rounded-full transition-all ${\r\n                      formData.gender === 'female'\r\n                        ? 'bg-[#0D542B] text-white'\r\n                        : 'bg-white text-gray-500 border border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <circle cx=\"12\" cy=\"5\" r=\"2\" />\r\n                      <path d=\"M9 9h6\" />\r\n                      <path d=\"M7 22V12a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v10\" />\r\n                      <path d=\"M10 22v-7M14 22v-7\" />\r\n                    </svg>\r\n                  </button>\r\n                  <span className=\"text-[12px] font-medium text-gray-900\">Female</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Date of Birth\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"dateOfBirth\"\r\n                value={formData.dateOfBirth}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-[12px] focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preferences */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-6\">Property Preferences</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Minimum Budget (₹)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"budgetMin\"\r\n                value={formData.budgetMin}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter minimum budget\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  budgetError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Maximum Budget (₹)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"budgetMax\"\r\n                value={formData.budgetMax}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter maximum budget\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  budgetError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n              />\r\n              {budgetError && <p className=\"mt-1 text-xs text-red-600\">{budgetError}</p>}\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Preferred Property Types\r\n              </label>\r\n              <Select\r\n                isMulti\r\n                options={propertyTypeOptions}\r\n                value={selectedPropertyTypes}\r\n                onChange={handlePropertyTypeChange}\r\n                placeholder=\"Select property types...\"\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                styles={{\r\n                  control: (provided, state) => ({\r\n                    ...provided,\r\n                    border: state.isFocused ? '1px solid #0D542B' : '1px solid #DEE1E6',\r\n                    boxShadow: state.isFocused ? '0 0 0 3px rgba(13, 84, 43, 0.1)' : 'none',\r\n                  }),\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex justify-end gap-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => router.push('/customer-profile?mode=view')}\r\n            className=\"px-6 py-2 border border-gray-300 rounded-lg text-[14px] font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={submitting}\r\n            className=\"px-6 py-2 bg-[#0D542B] text-white rounded-lg text-[14px] font-medium hover:bg-[#0B4624] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {submitting ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Select from 'react-select';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst getImageSrc = (val) => {\r\n  if (!val) return null;\r\n  if (typeof val === 'string') return val;\r\n  try {\r\n    return URL.createObjectURL(val);\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default function CreateModeCustomerProfile() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: user?.phone || \"\",\r\n    budgetMin: \"\",\r\n    budgetMax: \"\",\r\n    propertyType: [],\r\n    customerImage: null,\r\n    gender: \"\",\r\n    dateOfBirth: \"\",\r\n  });\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [budgetError, setBudgetError] = useState(\"\");\r\n  \r\n  const propertyTypeOptions = [\r\n    { value: \"residential\", label: \"Residential\" },\r\n    { value: \"commercial\", label: \"Commercial\" },\r\n    { value: \"plot\", label: \"Plot\" },\r\n    { value: \"other\", label: \"Other\" },\r\n  ];\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n    if (name === 'email') {\r\n      setEmailError('');\r\n    }\r\n    if (name === 'budgetMin' || name === 'budgetMax') {\r\n      setBudgetError('');\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        toast.error('Image size should be less than 5MB');\r\n        return;\r\n      }\r\n      setFormData((prev) => ({ ...prev, customerImage: file }));\r\n    }\r\n  };\r\n\r\n  const handlePropertyTypeChange = (selectedOptions) => {\r\n    const values = selectedOptions ? selectedOptions.map(opt => opt.value) : [];\r\n    setFormData((prev) => ({ ...prev, propertyType: values }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validation\r\n    if (!formData.name || !formData.email || !formData.phone || !formData.gender) {\r\n      toast.error('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    if (formData.budgetMin && formData.budgetMax) {\r\n      const min = parseFloat(formData.budgetMin);\r\n      const max = parseFloat(formData.budgetMax);\r\n      if (min > max) {\r\n        setBudgetError(\"Minimum budget should be less than or equal to maximum budget\");\r\n        toast.error(\"Please fix budget range error\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const base = process.env.NEXT_PUBLIC_API_URL || '';\r\n      \r\n      const formDataToSend = new FormData();\r\n      formDataToSend.append('phone', formData.phone || '');\r\n      formDataToSend.append('name', formData.name);\r\n      formDataToSend.append('email', formData.email);\r\n      \r\n      // Customer details structure\r\n      formDataToSend.append(\r\n        'customerDetails[preferences][budgetMin]',\r\n        formData.budgetMin ? Number(formData.budgetMin) : ''\r\n      );\r\n      formDataToSend.append(\r\n        'customerDetails[preferences][budgetMax]',\r\n        formData.budgetMax ? Number(formData.budgetMax) : ''\r\n      );\r\n\r\n      // Add property types\r\n      formData.propertyType.forEach((type, index) => {\r\n        formDataToSend.append(\r\n          `customerDetails[preferences][propertyType][${index}]`,\r\n          type\r\n        );\r\n      });\r\n\r\n      // Add customer gender\r\n      formDataToSend.append(\r\n        'customerDetails[gender]',\r\n        formData.gender || ''\r\n      );\r\n\r\n      // Add date of birth\r\n      if (formData.dateOfBirth) {\r\n        formDataToSend.append(\r\n          'customerDetails[dateOfBirth]',\r\n          formData.dateOfBirth\r\n        );\r\n      }\r\n\r\n      formDataToSend.append(\r\n        'customerDetails[inquiryCount]',\r\n        0\r\n      );\r\n\r\n      // Add customer image\r\n      if (formData.customerImage instanceof File) {\r\n        formDataToSend.append('customerImage', formData.customerImage);\r\n      }\r\n\r\n      const res = await fetch(`${base}/auth/complete-profile`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`\r\n        },\r\n        body: formDataToSend\r\n      });\r\n\r\n      if (!res.ok) {\r\n        let errorMessage = 'Failed to create profile';\r\n        try {\r\n          const errorData = await res.json();\r\n          if (errorData.error && errorData.error.includes('E11000')) {\r\n            errorMessage = 'This email address is already registered. Please use a different email.';\r\n          } else if (errorData.error && errorData.error.includes('validation')) {\r\n            errorMessage = errorData.message || 'Validation error. Please check your input.';\r\n          } else {\r\n            errorMessage = errorData.message || errorData.error || 'Failed to create profile';\r\n          }\r\n        } catch {\r\n          // If error response is not JSON, use default message\r\n        }\r\n        toast.error(errorMessage);\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      const result = await res.json();\r\n      toast.success('Profile created successfully!');\r\n      \r\n      // Redirect to view mode after successful creation\r\n      setTimeout(() => {\r\n        router.push('/customer-profile?mode=view');\r\n      }, 1500);\r\n    } catch (error) {\r\n      toast.error('Failed to create profile. Please try again.');\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const imageSrc = getImageSrc(formData.customerImage);\r\n  const selectedPropertyTypes = propertyTypeOptions.filter(opt => \r\n    formData.propertyType.includes(opt.value)\r\n  );\r\n\r\n  return (\r\n    <div className=\"w-full mx-auto\">\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Profile Image */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-4\">Profile Picture</h3>\r\n          <div className=\"flex items-center gap-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"w-24 h-24 rounded-full overflow-hidden bg-gray-100 border-2 border-gray-200 flex items-center justify-center\">\r\n                {imageSrc ? (\r\n                  <img src={imageSrc} alt=\"Profile\" className=\"w-full h-full object-cover\" />\r\n                ) : (\r\n                  <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                name=\"customerImage\"\r\n                onChange={handleFileChange}\r\n                accept=\".jpg,.jpeg,.png\"\r\n                className=\"hidden\"\r\n                id=\"customer-image-upload\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute -bottom-1 -right-1 bg-[#0D542B] w-8 h-8 rounded-full flex items-center justify-center hover:bg-[#0B4624] transition-all shadow-lg\"\r\n                onClick={() => document.getElementById('customer-image-upload').click()}\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                  <path d=\"M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5H9.96875L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8H4C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9V18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19H20C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18V9Z\" fill=\"white\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-[12px] text-gray-600\">Upload a profile picture to personalize your account</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Personal Information */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-6\">Personal Information</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Full Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your full name\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-[12px] focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Email Address <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your email\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  emailError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n                required\r\n              />\r\n              {emailError && <p className=\"mt-1 text-xs text-red-600\">{emailError}</p>}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Phone Number\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                name=\"phone\"\r\n                value={formData.phone}\r\n                disabled\r\n                className=\"w-full px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-[12px] text-gray-500 cursor-not-allowed\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Gender\r\n              </label>\r\n              <div className=\"flex gap-6\">\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setFormData(prev => ({ ...prev, gender: 'male' }))}\r\n                    className={`flex items-center justify-center w-10 h-10 rounded-full transition-all ${\r\n                      formData.gender === 'male'\r\n                        ? 'bg-[#0D542B] text-white'\r\n                        : 'bg-white text-gray-600 border border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <circle cx=\"12\" cy=\"5\" r=\"2\" />\r\n                      <path d=\"M9 9h6\" />\r\n                      <path d=\"M9 9l-3 6h12l-3-6z\" />\r\n                      <path d=\"M8 22v-6M16 22v-6\" />\r\n                    </svg>\r\n                  </button>\r\n                  <span className=\"text-[12px] font-medium text-gray-900\">Male</span>\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setFormData(prev => ({ ...prev, gender: 'female' }))}\r\n                    className={`flex items-center justify-center w-10 h-10 rounded-full transition-all ${\r\n                      formData.gender === 'female'\r\n                        ? 'bg-[#0D542B] text-white'\r\n                        : 'bg-white text-gray-500 border border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <circle cx=\"12\" cy=\"5\" r=\"2\" />\r\n                      <path d=\"M9 9h6\" />\r\n                      <path d=\"M7 22V12a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v10\" />\r\n                      <path d=\"M10 22v-7M14 22v-7\" />\r\n                    </svg>\r\n                  </button>\r\n                  <span className=\"text-[12px] font-medium text-gray-900\">Female</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Date of Birth\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"dateOfBirth\"\r\n                value={formData.dateOfBirth}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-[12px] focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preferences */}\r\n        <div className=\"bg-white border border-gray-200 rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-[18px] font-semibold text-gray-900 mb-6\">Property Preferences</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Minimum Budget (₹)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"budgetMin\"\r\n                value={formData.budgetMin}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter minimum budget\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  budgetError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Maximum Budget (₹)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"budgetMax\"\r\n                value={formData.budgetMax}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter maximum budget\"\r\n                className={`w-full px-3 py-2 border rounded-lg text-[12px] focus:outline-none focus:ring-2 ${\r\n                  budgetError\r\n                    ? 'border-red-300 focus:ring-red-100 focus:border-red-500'\r\n                    : 'border-gray-300 focus:ring-green-100 focus:border-green-600'\r\n                }`}\r\n              />\r\n              {budgetError && <p className=\"mt-1 text-xs text-red-600\">{budgetError}</p>}\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-[14px] font-medium text-gray-900 mb-2\">\r\n                Preferred Property Types\r\n              </label>\r\n              <Select\r\n                isMulti\r\n                options={propertyTypeOptions}\r\n                value={selectedPropertyTypes}\r\n                onChange={handlePropertyTypeChange}\r\n                placeholder=\"Select property types...\"\r\n                className=\"react-select-container\"\r\n                classNamePrefix=\"react-select\"\r\n                styles={{\r\n                  control: (provided, state) => ({\r\n                    ...provided,\r\n                    border: state.isFocused ? '1px solid #0D542B' : '1px solid #DEE1E6',\r\n                    boxShadow: state.isFocused ? '0 0 0 3px rgba(13, 84, 43, 0.1)' : 'none',\r\n                  }),\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex justify-end gap-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => router.push('/customer-profile?mode=view')}\r\n            className=\"px-6 py-2 border border-gray-300 rounded-lg text-[14px] font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={submitting}\r\n            className=\"px-6 py-2 bg-[#0D542B] text-white rounded-lg text-[14px] font-medium hover:bg-[#0B4624] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {submitting ? 'Creating...' : 'Create Profile'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}