module.exports=[63557,a=>{"use strict";a.s(["default",()=>l],63557);var b=a.i(64144),c=a.i(24379),d=a.i(75055),e=a.i(51722),f=a.i(62768),g=a.i(40268),h=a.i(86341),i=a.i(60677),i=i,j=a.i(30092),k=a.i(76076);function l(){let[a,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)("my-leads"),[o,p]=(0,d.useState)({query:"",status:{value:"all",label:"All Status"},broker:{value:"all",label:"All Brokers"},region:{value:"all",label:"All Regions"},propertyType:{value:"all",label:"All Property Types"},requirement:{value:"all",label:"All Requirements"},startDate:"",endDate:"",budgetMin:0,budgetMax:5e5}),[q,r]=(0,d.useState)([]),[s,t]=(0,d.useState)(!1),[u,v]=(0,d.useState)(""),[w,x]=(0,d.useState)([]),[y,z]=(0,d.useState)(!1),[A,B]=(0,d.useState)(""),[C,D]=(0,d.useState)(!1),E=(0,d.useMemo)(()=>o.status?.value&&"all"!==o.status.value||o.broker?.value&&"all"!==o.broker.value||o.region?.value&&"all"!==o.region.value||o.propertyType?.value&&"all"!==o.propertyType.value||o.requirement?.value&&"all"!==o.requirement.value||!!o.startDate||!!o.endDate||"number"==typeof o.budgetMax&&5e5!==o.budgetMax,[o]),F=()=>{},G="https://broker-adda-be.fly.dev/api",H=(0,d.useMemo)(()=>(a=>{try{return""}catch{return""}})(0),[null]),[I,J]=(0,d.useState)(""),[K,L]=(0,d.useState)(!1),M=(0,d.useCallback)(async()=>{},[H,null,G]);(0,d.useEffect)(()=>{H&&M()},[H,M]);let[N,O]=(0,d.useState)({totalLeads:0,newLeadsToday:0,convertedLeads:0,avgDealSize:0,transferredToMe:0,transferredByMe:0}),[P,Q]=(0,d.useState)(!1),[R,S]=(0,d.useState)(""),T=(0,d.useCallback)(async()=>{if(I)try{Q(!0),S("");let a=`${G}/leads/metrics?createdBy=${I}`,b=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!b.ok){try{let a=await b.json();S(a?.message||a?.error||"Failed to load metrics")}catch{S("Failed to load metrics")}return}let c=await b.json(),d=c?.data||c||{};O({totalLeads:Number(d.totalLeads||d.total||0),newLeadsToday:Number(d.newLeadsToday||d.today||0),convertedLeads:Number(d.convertedLeads||d.converted||0),avgDealSize:Number(d.avgDealSize||d.averageDealSize||0),transferredToMe:Number(d.transferredToMe||d.transfersToMe||0),transferredByMe:Number(d.transferredByMe||d.transfersByMe||0)})}catch{S("Error loading metrics")}finally{Q(!1)}},[G,null,I]);(0,d.useEffect)(()=>{I&&T()},[I,T]);let[U,V]=(0,d.useState)([]),[W,X]=(0,d.useState)(!1),[Y,Z]=(0,d.useState)(""),$=(0,d.useCallback)(async()=>{},[G,null]);(0,d.useEffect)(()=>{},[null,$]);let[_,aa]=(0,d.useState)([]),[ab,ac]=(0,d.useState)(!0),[ad,ae]=(0,d.useState)(""),[af,ag]=(0,d.useState)(1),[ah,ai]=(0,d.useState)(10),[aj,ak]=(0,d.useState)(0),al=Math.max(1,Math.ceil(aj/(ah||10))),[am,an]=(0,d.useState)(""),[ao,ap]=(0,d.useState)(!1),[aq,ar]=(0,d.useState)("overview"),[as,at]=(0,d.useState)("");(0,d.useEffect)(()=>{let a=setTimeout(()=>{o.query!==am&&ap(!0)},100),b=setTimeout(()=>{an(o.query||""),ap(!1)},500);return()=>{clearTimeout(a),clearTimeout(b)}},[o.query,am]);let au=(0,d.useCallback)((a,b=af,c=ah,d=am,e=m)=>{let f=new URLSearchParams;return(f.set("page",String(b)),f.set("limit",String(c)),"transferred"===e)?(I&&f.set("toBroker",I),d&&f.set("search",d),a.status?.value&&"all"!==a.status.value&&f.set("status",a.status.value),a.region?.value&&"all"!==a.region.value&&f.set("region",a.region.value),a.propertyType?.value&&"all"!==a.propertyType.value&&f.set("propertyType",a.propertyType.value),a.requirement?.value&&"all"!==a.requirement.value&&f.set("requirement",a.requirement.value),a.startDate&&f.set("startDate",a.startDate),a.endDate&&f.set("endDate",a.endDate),"number"==typeof a.budgetMax&&5e5!==a.budgetMax&&f.set("budgetMax",String(a.budgetMax)),`${G}/leads/transferred?${f.toString()}`):(I&&f.set("createdBy",I),d&&f.set("search",d),a.status?.value&&"all"!==a.status.value&&f.set("status",a.status.value),a.broker?.value&&"all"!==a.broker.value&&f.set("broker",a.broker.value),a.region?.value&&"all"!==a.region.value&&f.set("regionId",a.region.value),a.propertyType?.value&&"all"!==a.propertyType.value&&f.set("propertyType",a.propertyType.value),a.requirement?.value&&"all"!==a.requirement.value&&f.set("requirement",a.requirement.value),a.startDate&&f.set("startDate",a.startDate),a.endDate&&f.set("endDate",a.endDate),"number"==typeof a.budgetMax&&5e5!==a.budgetMax&&f.set("budgetMax",String(a.budgetMax)),`${G}/leads?${f.toString()}`)},[G,af,ah,am,I,m]),av=(0,d.useCallback)(async(a=null,b=null,c=null,d=null,e=null)=>{if(I||K)try{ac(!0),ae("");let f=a??o,g=b??af,h=c??ah,i=d??am,j=e??m,k=await fetch(au(f,g,h,i,j),{headers:{"Content-Type":"application/json"}});if(k.ok){let a=await k.json(),b=[],c=0;Array.isArray(a?.data?.items)?(b=a.data.items,c=a.data.total??a.total??b.length):Array.isArray(a?.data?.leads)?(b=a.data.leads,c=a.data.total??a.total??b.length):Array.isArray(a?.data)?(b=a.data,c=a.total??b.length):Array.isArray(a?.leads)?(b=a.leads,c=a.total??b.length):Array.isArray(a)&&(c=(b=a).length),"transferred"===j&&(c=(b=b.filter(a=>{let b=(a?.createdBy?._id||a?.createdBy?.id||a?.createdBy)?.toString();return(!I||b!==I.toString())&&(Array.isArray(a?.transfers)?a.transfers:[]).length>0})).length),aa(b),ak(c)}else ae("Failed to load leads"),aa([]),ak(0)}catch{ae("Error loading leads"),aa([]),ak(0)}finally{ac(!1)}},[o,af,ah,am,null,au,I,K,m]);F=()=>{let a={...o,status:{value:"all",label:"All Status"},broker:{value:"all",label:"All Brokers"},region:{value:"all",label:"All Regions"},propertyType:{value:"all",label:"All Property Types"},requirement:{value:"all",label:"All Requirements"},startDate:"",endDate:"",budgetMax:5e5};p(a),ag(1),av(a,1,ah,am)},(0,d.useEffect)(()=>{av()},[af,ah]),(0,d.useEffect)(()=>{1!==af?ag(1):av()},[am]),(0,d.useEffect)(()=>{I&&av()},[I]),(0,d.useEffect)(()=>{av()},[m]);let aw=a=>{let b=(a||"").toString().toLowerCase();return"new"===b?"bg-green-50 text-green-900":"contacted"===b||"in progress"===b?"bg-amber-100 text-amber-700":"qualified"===b||"closed"===b?"bg-emerald-100 text-emerald-700":"rejected"===b?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-700"},ax=async()=>{try{t(!0),v("");let a=await fetch(`${G}/regions`,{headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("bad");let b=await a.json(),c=[];b?.success&&Array.isArray(b?.data?.regions)?c=b.data.regions:Array.isArray(b)?c=b:Array.isArray(b?.data)?c=b.data:Array.isArray(b?.regions)?c=b.regions:b?._id&&b?.name&&(c=[b]),r(c)}catch{v("Error loading regions"),r([])}finally{t(!1)}};(0,d.useEffect)(()=>{ax()},[]);let ay=(0,d.useCallback)(async()=>{if(I)try{z(!0),B("");let a=`${G}/regions/nearest?brokerId=${encodeURIComponent(I)}&limit=5`,b=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!b.ok)throw Error("bad");let c=await b.json(),d=[];c?.success&&Array.isArray(c?.data?.regions)?d=c.data.regions:Array.isArray(c)?d=c:Array.isArray(c?.data)?d=c.data:Array.isArray(c?.regions)?d=c.regions:c?._id&&c?.name&&(d=[c]),x(d)}catch{B("Error loading nearest regions"),x([])}finally{z(!1)}},[G,null,I]),az=[{value:"all",label:"All Status",isAll:!0},{value:"New",label:"New"},{value:"Assigned",label:"Assigned"},{value:"In Progress",label:"In Progress"},{value:"Closed",label:"Closed"},{value:"Rejected",label:"Rejected"}],aA=[{value:"all",label:"All Property Types"},{value:"Residential",label:"Residential"},{value:"Commercial",label:"Commercial"},{value:"Plot",label:"Plot"},{value:"Other",label:"Other"}],aB=[{value:"all",label:"All Requirements"},{value:"buy",label:"Buy"},{value:"rent",label:"Rent"},{value:"sell",label:"Sell"}],aC=(0,d.useMemo)(()=>[{value:"all",label:"All Regions"},...Array.isArray(q)?q.map(a=>({value:a._id||a.id||a,label:a.name||a.region||a})):[]],[q]);(0,d.useMemo)(()=>Array.isArray(w)?w.map(a=>({value:a._id||a.id||a,label:a.name||a.region||a})):[],[w]);let aD={control:(a,b)=>({...a,minHeight:"40px",borderRadius:10,border:"1px solid #e5e7eb",fontFamily:"var(--font-body, inherit)",fontSize:12,boxShadow:b.isFocused?"0 0 0 4px rgba(13,84,43,0.12)":"0 0 1px #171a1f12, 0 0 2px #171a1f1F",borderColor:b.isFocused?"#0D542B":"#e5e7eb",background:"white",":hover":{borderColor:(b.isFocused,"#0D542B")}}),valueContainer:a=>({...a,padding:"2px 10px",fontFamily:"var(--font-body, inherit)",fontSize:12}),indicatorSeparator:()=>({display:"none"}),menuPortal:a=>({...a,zIndex:99999}),option:(a,b)=>({...a,backgroundColor:b.isSelected?"#0D542B":b.isFocused?"#E8F8F0":"transparent",color:b.isSelected?"#ffffff":b.isFocused?"#0D542B":"#4b5563",fontSize:12,fontFamily:"var(--font-body, inherit)",borderRadius:6,margin:"2px 6px",padding:"8px 12px",":active":{backgroundColor:b.isSelected?"#0D542B":"#C8F1DC",color:b.isSelected?"#ffffff":"#0D542B"}}),singleValue:a=>({...a,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),input:a=>({...a,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),placeholder:a=>({...a,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),multiValueLabel:a=>({...a,color:"#6b7280",fontWeight:400,fontFamily:"var(--font-body, inherit)",fontSize:12}),menu:a=>({...a,zIndex:9999,overflow:"hidden",border:"1px solid #e5e7eb",borderRadius:10,fontFamily:"var(--font-body, inherit)",fontSize:12}),menuList:a=>({...a,maxHeight:320,overflowY:"auto",overflowX:"hidden",paddingRight:0,fontFamily:"var(--font-body, inherit)",fontSize:12})},aE=(0,d.useMemo)(()=>{let a=new Map;return(Array.isArray(q)?q:[]).forEach(b=>{let c=b?._id||b?.id,d=b?.name||b?.region||b?.city||"";c&&d&&a.set(String(c),String(d))}),a},[q]),aF=a=>a?"string"==typeof a?aE.get(a)||a:"object"==typeof a&&(a.name||a.region||a.city)||"":"",aG=a=>{if(!a&&0!==a)return"—";let b="number"==typeof a?a:Number(String(a).replace(/[^0-9.]/g,""));if(isNaN(b)||0===b)return"—";if(b>=1e7){let a=b/1e7;return`₹${a%1==0?a.toFixed(0):a.toFixed(2)} Cr`}if(b>=1e5){let a=b/1e5;return`₹${a%1==0?a.toFixed(0):a.toFixed(2)} Lakh`}if(!(b>=1e3))return`₹${b.toLocaleString("en-IN")}`;{let a=b/1e3;return`₹${a%1==0?a.toFixed(0):a.toFixed(2)}K`}},[aH,aI]=(0,d.useState)(!1),[aJ,aK]=(0,d.useState)(!1),[aL,aM]=(0,d.useState)({customerName:"",customerPhone:"",customerEmail:"",requirement:{value:"all",label:"All Requirements"},propertyType:{value:"all",label:"All propertyType"},budget:"",primaryRegion:null,secondaryRegion:null,notes:"",files:null}),[aN,aO]=(0,d.useState)({});(0,d.useEffect)(()=>{aH&&I&&ay()},[aH,I,ay]);let aP=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),aQ=a=>{let{name:b,value:c,files:d}=a.target;if("customerPhone"===b){let a=c.replace(/\D/g,"").slice(0,10);aM(c=>({...c,[b]:a}));let d={...aN};a.length>0&&a.length<10?d.customerPhone="Phone number must be 10 digits":delete d.customerPhone,aO(d);return}if("customerEmail"===b){aM(a=>({...a,[b]:c}));let a={...aN};c.length>0&&!aP(c)?a.customerEmail="Please enter a valid email address":delete a.customerEmail,aO(a);return}aM(a=>({...a,[b]:d||c})),aN[b]&&aO(a=>({...a,[b]:""}))},aR={...aD,menuPortal:a=>({...a,zIndex:999999})},aS=async()=>{if(!(()=>{let a={};if(aL.customerName.trim()||(a.customerName="Customer name is required"),aL.customerPhone.trim()){var b;b=aL.customerPhone,/^\d{10}$/.test(b.replace(/\D/g,""))||(a.customerPhone="Phone number must be exactly 10 digits")}else a.customerPhone="Phone number is required";return aL.customerEmail.trim()?aP(aL.customerEmail)||(a.customerEmail="Please enter a valid email address"):a.customerEmail="Email is required",aO(a),0===Object.keys(a).length})())return void f.default.error("Please fix the validation errors before submitting");try{aK(!0);let a="object"==typeof aL.requirement?aL.requirement.label||aL.requirement.value:aL.requirement,b="object"==typeof aL.propertyType?aL.propertyType.label||aL.propertyType.value:aL.propertyType,c=aL.primaryRegion&&"object"==typeof aL.primaryRegion?aL.primaryRegion.value||aL.primaryRegion._id:aL.primaryRegion,d=aL.secondaryRegion&&"object"==typeof aL.secondaryRegion?aL.secondaryRegion.value||aL.secondaryRegion._id:aL.secondaryRegion,e={customerName:aL.customerName||"",customerPhone:aL.customerPhone||"",customerEmail:aL.customerEmail||"",requirement:a||"",propertyType:b||"",budget:""!==aL.budget&&null!==aL.budget?parseFloat(aL.budget):0,primaryRegionId:c&&"select region"!==c?c:"",createdBy:I};d&&"select region"!==d&&(e.secondaryRegionId=d);let g=await fetch(`${G}/leads`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!g.ok){try{let a=await g.json(),b=a?.message||a?.error||"Failed to create lead";f.default.error(b)}catch{f.default.error("Failed to create lead")}return}let h=null;try{h=await g.json()}catch{}let i=h&&(h.lead||h.data||h.newLead)||h||null;f.default.success("Lead created successfully"),await av();let j=i&&(i._id||i.id)?i:await a9();j&&bh(j),aU(!0),aW({brokerIds:[],notes:"",selectAllFiltered:!1}),a3&&0!==a3.length||ba(),aI(!1),aM({customerName:"",customerPhone:"",customerEmail:"",requirement:"select requirement",propertyType:"select propertyType",budget:"",region:"select region",notes:"",files:null}),aO({})}catch{f.default.error("Error creating lead")}finally{aK(!1)}},[aT,aU]=(0,d.useState)(!1),[aV,aW]=(0,d.useState)({brokerIds:[],notes:"",selectAllFiltered:!1}),[aX,aY]=(0,d.useState)("");(0,d.useRef)(null);let[aZ,a$]=(0,d.useState)("all"),[a_,a0]=(0,d.useState)(null),[a1,a2]=(0,d.useState)(!1),[a3,a4]=(0,d.useState)([]),[a5,a6]=(0,d.useState)(!1),[a7,a8]=(0,d.useState)(""),a9=(0,d.useCallback)(async()=>{try{let a=new URLSearchParams;I&&a.set("createdBy",I),a.set("limit","5");let b=`${G}/leads?${a.toString()}`,c=await fetch(b,{headers:{"Content-Type":"application/json"}});if(!c.ok)return null;let d=await c.json(),e=Array.isArray(d?.data?.items)?d.data.items:Array.isArray(d?.data?.leads)?d.data.leads:Array.isArray(d?.data)?d.data:Array.isArray(d?.leads)?d.leads:Array.isArray(d)?d:[];if(!e||0===e.length)return null;let f=e.map(a=>({item:a,ts:a?.createdAt?Date.parse(a.createdAt):a?._id?Date.parse(a._id?.toString().substring(0,8)):0})).sort((a,b)=>(b.ts||0)-(a.ts||0));return f[0]?.item||e[0]||null}catch{return null}},[G,null,I]),ba=async()=>{try{a6(!0),a8("");let a=await fetch(`${G}/brokers`,{headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("bad");let b=await a.json(),c=[];Array.isArray(b?.data?.brokers)?c=b.data.brokers:Array.isArray(b?.data)?c=b.data:Array.isArray(b?.brokers)?c=b.brokers:Array.isArray(b)&&(c=b),a4(c)}catch{a8("Failed to load brokers"),a4([])}finally{a6(!1)}},bb=async a=>{let b=a?.transferredTo||a?.transferredBrokers||a?.transfers||[];if(Array.isArray(b)&&b.length>0)return void f.default.error("Cannot delete lead that has been transferred to other brokers");try{let b=a?._id||a?.id;if(!b)return void f.default.error("Invalid lead id");let c=await fetch(`${G}/leads/${b}`,{method:"DELETE",headers:{}});if(!c.ok){try{let a=await c.json(),b=a?.message||a?.error||"Failed to delete lead";f.default.error(b)}catch{f.default.error("Failed to delete lead")}return}f.default.success("Lead deleted"),await av()}catch(a){f.default.error("Error deleting lead")}},bc=a=>{bh(a),aW({brokerIds:[],notes:""}),a$("all"),a0(null),aU(!0),a3&&0!==a3.length||ba()},bd=async()=>{if(!bg)return void f.default.error("No lead selected");let a=bg._id||bg.id;if(!a){let b=await a9();b&&(b._id||b.id)&&(a=b._id||b.id,bh(a=>({...b||a})))}if(!a)return void f.default.error("Invalid lead id");if(!I)return void f.default.error("Broker ID not found");let b=[];if("all"===aZ)b.push({shareType:"all"});else if("region"===aZ){if(!(a_&&a_.value))return void f.default.error("Select a region to share with");let a=String(a_.value);b.push({shareType:"region",region:a})}else{if("select"!==aZ)return void f.default.error("Invalid share mode");let a=(aV.brokerIds||[]).filter(a=>"all"!==a);if(!a.length)return void f.default.error("Select at least one broker");a.forEach(a=>{b.push({shareType:"individual",toBroker:String(a)})})}let c={transfers:b,fromBroker:String(I)};aV.notes&&aV.notes.trim()&&(c.notes=aV.notes.trim()),console.log("Transfer request body:",JSON.stringify(c,null,2)),console.log("Transfer URL:",`${G}/leads/${a}/transfer-and-notes`);try{a2(!0);let b=await fetch(`${G}/leads/${a}/transfer-and-notes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)});if(!b.ok){let a="Failed to share lead";try{let c=await b.json();console.error("Transfer API error response:",c),a=c.message||c.error||a}catch(d){let c=await b.text().catch(()=>"");console.error("Transfer API error (text):",c),a=c||a}f.default.error(a);return}f.default.success("Share request sent"),aU(!1),aW({brokerIds:[],notes:""}),a0(null),a$("all")}catch(a){f.default.error("Error sending transfer request")}finally{a2(!1)}},[be,bf]=(0,d.useState)(!1),[bg,bh]=(0,d.useState)(null),[bi,bj]=(0,d.useState)(!1),[bk,bl]=(0,d.useState)(!1),[bm,bn]=(0,d.useState)(!1),[bo,bp]=(0,d.useState)(!1),[bq,br]=(0,d.useState)({name:"",contact:"",email:"",budget:"",requirement:"",propertyType:"",primaryRegion:null,secondaryRegion:null,status:""}),[bs,bt]=(0,d.useState)(!1),[bu,bv]=(0,d.useState)(null),[bw,bx]=(0,d.useState)(null);(0,d.useEffect)(()=>{be&&I&&ay()},[be,I,ay]);let by=async a=>{try{if(!bg||!a)return;let b=bg._id||bg.id,c=await fetch(`${G}/leads/${encodeURIComponent(b)}/transfers/${encodeURIComponent(a)}`,{method:"DELETE",headers:{Accept:"application/json"}});if(!c.ok){try{let a=await c.json();f.default.error(a?.message||a?.error||"Failed to delete transfer")}catch{f.default.error("Failed to delete transfer")}return}f.default.success("Transfer removed"),await av(),bh(b=>{if(!b)return b;let c=Array.isArray(b.transfers)?b.transfers.filter(b=>{let c=b&&"object"==typeof b.toBroker?b.toBroker?._id||b.toBroker?.id:b?.toBroker;return String(c)!==String(a)}):[];return{...b,transfers:c}}),bv(null)}catch{f.default.error("Error deleting transfer")}},bz=async a=>{try{if(!bg||!a)return;let b=bg._id||bg.id;bx(a);let c=await fetch(`${G}/leads/${encodeURIComponent(b)}/region-transfers/${encodeURIComponent(a)}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!c.ok){try{let a=await c.json();f.default.error(a?.message||a?.error||"Failed to delete region transfer")}catch{f.default.error("Failed to delete region transfer")}bx(null);return}f.default.success("Region transfer removed"),await av(),bh(b=>{if(!b)return b;let c=Array.isArray(b.transfers)?b.transfers.filter(b=>{let c=b?.region;return String(c)!==String(a)}):[];return{...b,transfers:c}}),bx(null)}catch{f.default.error("Error deleting region transfer"),bx(null)}},bA=async()=>{if(bg)try{bt(!0);let a=bg._id||bg.id,b={customerName:void 0!==bq.name?bq.name:bg.customerName||bg.name||"",customerPhone:void 0!==bq.contact?bq.contact:bg.customerPhone||"",customerEmail:void 0!==bq.email?bq.email:bg.customerEmail||"",requirement:void 0!==bq.requirement?bq.requirement:bg.requirement||"",propertyType:void 0!==bq.propertyType?bq.propertyType:bg.propertyType||"",budget:""!==bq.budget&&null!==bq.budget?Number(bq.budget):"number"==typeof bg.budget?bg.budget:0,status:bq.status?bq.status:bg.status||"New"};bq.primaryRegion&&bq.primaryRegion.value&&"all"!==bq.primaryRegion.value&&(b.primaryRegionId=bq.primaryRegion.value),bq.secondaryRegion&&bq.secondaryRegion.value&&"all"!==bq.secondaryRegion.value&&(b.secondaryRegionId=bq.secondaryRegion.value);let c=await fetch(`${G}/leads/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok){try{let a=await c.json(),b=a?.message||a?.error||"Failed to update lead";f.default.error(b)}catch{f.default.error("Failed to update lead")}return}let d=await c.json(),e=d?.data||d;bh(a=>({...a,...e,name:e.name||e.customerName||bq.name||a?.name,customerName:e.customerName||bq.name||a?.customerName,contact:e.contact||e.customerPhone||bq.contact||a?.contact,customerPhone:e.customerPhone||bq.contact||a?.customerPhone,customerEmail:e.customerEmail||bq.email||a?.customerEmail,requirement:e.requirement||bq.requirement||a?.requirement,propertyType:e.propertyType||bq.propertyType||a?.propertyType,budget:"number"==typeof e.budget?e.budget:""!==bq.budget?Number(bq.budget):a?.budget,primaryRegion:e.primaryRegion||(bq.primaryRegion?{name:bq.primaryRegion.label,_id:bq.primaryRegion.value}:a?.primaryRegion||a?.region),secondaryRegion:e.secondaryRegion||(bq.secondaryRegion?{name:bq.secondaryRegion.label,_id:bq.secondaryRegion.value}:a?.secondaryRegion)})),f.default.success("Lead updated"),bj(!1),await av()}catch(a){f.default.error("Error updating lead")}finally{bt(!1)}},bB=a=>br(b=>({...b,[a.target.name]:a.target.value}));return(0,b.jsxs)(j.default,{requiredRole:"broker",children:[(0,b.jsx)(g.default,{data:{title:"My Enquiries",description:"Manage your property requirements, track status, and collaborate with brokers — all in one place."}}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 min-h-screen bg-white py-16",children:[(0,b.jsx)(f.Toaster,{position:"top-right",toastOptions:{duration:3e3}}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full mx-auto px-4 md:px-0",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 md:col-span-9",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mb-6",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("h1",{className:"jsx-5f133ba9f9a414f4  font-archivo text-[18px] leading-[36px] font-bold text-[#171A1FFF]",children:"Enquiry Management"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-[20px] font-normal text-[#565D6DFF]",children:"Capture enquiries, share with brokers, and track progress — all in one place."})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,b.jsx)("button",{type:"button",role:"switch","aria-checked":"transferred"===m,onClick:()=>{let a="my-leads"===m?"transferred":"my-leads";n(a),ag(1),av(o,1,ah,am,a)},className:`jsx-5f133ba9f9a414f4 relative inline-flex h-5 w-10 items-center rounded-full transition-colors duration-200 border ${"transferred"===m?"bg-green-900 border-green-900":"bg-gray-200 border-gray-300"}`,children:(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform duration-200 ${"transferred"===m?"translate-x-5":"translate-x-0"}`})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#565D6D]",children:"transferred"===m?"Transferred to Me":" My Enquiries"})]})]})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Total Enquiries"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:P?"—":N.totalLeads.toLocaleString()})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Shared With Me"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:P?"—":Number(N.transferredToMe||N.transfersToMe||0).toLocaleString()})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] border-gray-200 bg-white rounded-lg p-4",children:[(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-[#565D6DFF] font-medium",children:"Shared By Me"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-gray-900",children:P?"—":Number(N.transferredByMe||N.transfersByMe||0).toLocaleString()})})]})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 pt-4",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-px bg-gray-100"})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-6 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-80 relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search by name, budget, region, or property type…",value:o.query,onChange:a=>p({...o,query:a.target.value}),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full pl-11 pr-4 py-2 border border-gray-200 rounded-xl shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] bg-white text-[12px] font-body placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-600"}),(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z",className:"jsx-5f133ba9f9a414f4"})}),ao&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 absolute right-3 top-1/2 -translate-y-1/2",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"})})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-52",children:(0,b.jsx)(h.default,{value:o.status,onChange:a=>{let b={...o,status:a};p(b),ag(1),av(b,1,ah,am)},options:az,styles:aD,isSearchable:!0,menuPlacement:"bottom"})}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,b.jsxs)("button",{type:"button",onClick:()=>l(!0),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] font-body border border-gray-200 bg-white text-gray-500 hover:text-gray-600 hover:bg-white hover:border-gray-300 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z",className:"jsx-5f133ba9f9a414f4"})}),"Advanced Filters"]})}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,b.jsxs)("button",{type:"button",onClick:()=>aI(!0),style:{minHeight:"40px",fontSize:"12px"},className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] border border-green-600 text-white bg-[#0D542B]  hover:bg-[#0B4624]  hover:border-green-700 shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6",className:"jsx-5f133ba9f9a414f4"})}),"Add New Enquiry"]})}),E&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto",children:(0,b.jsx)("button",{type:"button",onClick:F,title:"Clear advanced filters",className:"jsx-5f133ba9f9a414f4 w-full sm:w-auto px-3 py-2.5 rounded-xl text-[12px] font-semibold border border-gray-200 text-gray-700 hover:bg-gray-50 shadow-sm cursor-pointer whitespace-nowrap",children:"Clear Filters"})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-6",children:[ab&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((a,c)=>(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-2xl border border-gray-200 bg-white shadow-sm p-4 animate-pulse",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-5 w-2/3 bg-gray-200 rounded mb-3"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-4 w-1/2 bg-gray-200 rounded mb-4"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-28 w-full bg-gray-100 rounded mb-4"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-28 bg-gray-200 rounded"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex gap-2",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 h-7 w-7 bg-gray-200 rounded-lg"})]})]})]},c))}),!ab&&Array.isArray(_)&&0===_.length&&(0,b.jsx)(()=>(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No enquiries found"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center max-w-sm",children:o.query||o.status?.value!=="all"||o.region?.value!=="all"||o.propertyType?.value!=="all"||o.requirement?.value!=="all"||5e5!==o.budgetMax?"No enquiries match your current filters. Try adjusting your search criteria.":"You don't have any leads yet. Click 'Add New Enquiry' to get started."}),!o.query&&o.status?.value==="all"&&o.region?.value==="all"&&o.propertyType?.value==="all"&&o.requirement?.value==="all"&&5e5===o.budgetMax&&(0,b.jsx)("button",{onClick:()=>aI(!0),className:"mt-4 px-4 py-2 bg-green-900 text-white text-sm font-semibold rounded-lg hover:bg-green-950 transition-colors",children:"Add Your First Enquiry"})]}),{className:"jsx-5f133ba9f9a414f4"}),!ab&&Array.isArray(_)&&_.length>0&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 md:grid-cols-2 xl:grid-cols-2 gap-6",children:_.map((a,c)=>{let d=Array.from(new Map((Array.isArray(a?.transfers)?a.transfers:[]).map(a=>"object"==typeof a?.toBroker?a.toBroker:{_id:a?.toBroker}).filter(a=>a&&(a._id||a.name||a.email)).map(a=>[a._id||a.email||a.name,a])).values()),e=new Map((a3||[]).map(a=>[a._id||a.id,a]));d.map(a=>{let b=a._id?{...e.get(a._id)||{},...a}:a;return{id:b._id||b.id||b.email||b.name,name:b.name||b.fullName||b.email||"Broker",image:b.brokerImage||b.avatarUrl||b.imageUrl||""}});let f=(()=>{let b=a?.transferredTo||a?.transferredBrokers||a?.transfers||[];return Array.isArray(b)&&b.length>0})();return(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 group relative border shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] border-gray-200 bg-white rounded-lg",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 absolute top-0 right-0 z-10",children:(0,b.jsx)("div",{style:{background:a.status?.toLowerCase()==="new"?"#FDC700":a.status?.toLowerCase()==="assigned"?"linear-gradient(90deg, #3b82f6 0%, #1e40af 100%)":a.status?.toLowerCase()==="in progress"?"linear-gradient(90deg, #f59e0b 0%, #dc2626 100%)":a.status?.toLowerCase()==="completed"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":a.status?.toLowerCase()==="shared"?"linear-gradient(90deg, #8b5cf6 0%, #6d28d9 100%)":a.status?.toLowerCase()==="closed"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":a.status?.toLowerCase()==="rejected"?"linear-gradient(90deg, #ef4444 0%, #dc2626 100%)":a.status?.toLowerCase()==="transferred"?"linear-gradient(90deg, #f97316 0%, #ea580c 100%)":a.status?.toLowerCase()==="active"?"linear-gradient(90deg, #10b981 0%, #047857 100%)":"#FDC700",minWidth:"50px"},className:"jsx-5f133ba9f9a414f4 text-black text-[10px] leading-[20px] font-semibold px-[8px] py-[1px] rounded-full text-center shadow-md relative",children:a.status?a.status.toUpperCase():"NEW"})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 p-6 pt-8",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-4",children:[(()=>{let c=(a=>{let b=[{bg:"bg-sky-100",text:"text-sky-800"},{bg:"bg-emerald-100",text:"text-emerald-800"},{bg:"bg-violet-100",text:"text-violet-800"}],c=String(a||""),d=0;for(let a=0;a<c.length;a++)d=31*d+c.charCodeAt(a)>>>0;return b[d%b.length]})(a.customerName||a.name);return(0,b.jsx)("div",{className:`jsx-5f133ba9f9a414f4 w-12 h-12 rounded-full flex items-center justify-center text-[12px] font-semibold ${c.bg} ${c.text}`,children:(a.customerName||a.name||"-").split(" ").map(a=>a[0]).filter(Boolean).join("").slice(0,2).toUpperCase()})})(),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pr-4",children:[(0,b.jsx)("h3",{className:"jsx-5f133ba9f9a414f4 break-words text-[14px] leading-[24px] font-semibold text-[#171A1F]",children:a.customerName||a.name||"-"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words leading-tight",children:a.customerEmail||a.customerPhone||a.contact||"-"})]})]})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex justify-between items-center gap-2",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Requirement"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:a.requirement||a.req?(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold ${"sell"===(a.requirement||a.req||"").toLowerCase()?"bg-green-100 text-green-800":"buy"===(a.requirement||a.req||"").toLowerCase()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.requirement||a.req}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-400",children:"—"})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pl-4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Property Type"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:a.propertyType?(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold ${"commercial"===(a.propertyType||"").toLowerCase()?"bg-yellow-100 text-yellow-800":"residential"===(a.propertyType||"").toLowerCase()?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:a.propertyType}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-400",children:"—"})})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex justify-between items-top gap-2",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Budget"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[18px] font-bold text-green-700  py-1 rounded",children:aG(a.budget)})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 pl-4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-normal text-[#565D6D] break-words uppercase tracking-wide mb-1.5",children:"Location"}),(()=>{var c;let{primary:d,secondary:e}=(c=a,{primary:aF(c?.primaryRegion||c?.region),secondary:aF(c?.secondaryRegion)});return(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[16px] flex flex-col gap-1 font-medium text-[#171A1F]",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4",children:d||"—"}),e&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 break-words text-[12px] leading-[16px]  font-medium text-[#171A1F]",children:e})]})})()]})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-end justify-between  pt-4 ",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 uppercase tracking-wide mb-2 text-[12px] leading-[12px] font-normal text-[#565D6D]",children:"SHARED WITH"}),(()=>{let c=Array.isArray(a?.transfers)?a.transfers:[];if(0===c.length)return(0,b.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[11px] font-normal text-[#565D6D] italic",children:["Not yet shared — ",(0,b.jsx)("span",{onClick:b=>{b.stopPropagation(),bc(a)},className:"jsx-5f133ba9f9a414f4 text-green-700 font-semibold cursor-pointer hover:underline",children:"Share now"})]});let d=c.filter(a=>"all"===a.shareType||!a.shareType&&!a.toBroker&&!a.region),e=c.filter(a=>"region"===a.shareType||!a.shareType&&a.region&&!a.toBroker),f=c.filter(a=>"individual"===a.shareType||!a.shareType&&a.toBroker&&!a.region);if(d.length>0)return(0,b.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] flex items-center gap-1",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-blue-100 text-blue-800",children:"All"}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4",children:"All brokers"})]});if(e.length>0&&0===f.length){let a=e.map(a=>{let b=a?.region;return aF(b)||b||"Unknown Region"}).filter((a,b,c)=>c.indexOf(a)===b);return(0,b.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] flex items-center gap-1 flex-wrap",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-green-100 text-green-800",children:"Region"}),(0,b.jsxs)("span",{className:"jsx-5f133ba9f9a414f4",children:[a.slice(0,2).join(", "),a.length>2?` +${a.length-2}`:""]})]})}let g=Array.from(new Map(f.map(a=>"object"==typeof a?.toBroker?a.toBroker:{_id:a?.toBroker}).filter(a=>a&&(a._id||a.name||a.email)).map(a=>[a._id||a.email||a.name,a])).values()),h=new Map((a3||[]).map(a=>[a._id||a.id,a])),i=g.map(a=>{let b=a._id?{...h.get(a._id)||{},...a}:a;return{id:b._id||b.id||b.email||b.name,name:b.name||b.fullName||b.email||"Broker",image:b.brokerImage||b.avatarUrl||b.imageUrl||""}});if(e.length>0&&f.length>0){let a=e.map(a=>{let b=a?.region;return aF(b)||b||"Unknown"}).filter((a,b,c)=>c.indexOf(a)===b),c=i.slice(0,2),d=Math.max(0,i.length-c.length);return(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-1",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-green-100 text-green-800",children:"Region"}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] text-[#565D6D]",children:a.slice(0,1).join(", ")})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex -space-x-2",children:[c.map((a,c)=>(0,b.jsx)("div",{title:a.name,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-gray-200 overflow-hidden flex items-center justify-center text-[10px] text-gray-600",children:(0,b.jsx)("img",{src:a.image||"https://www.w3schools.com/howto/img_avatar.png",alt:a.name,className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})},`${a.id||"broker"}-${c}`)),d>0&&(0,b.jsxs)("div",{title:`+${d} more`,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-yellow-400 text-black flex items-center justify-center text-[11px] font-semibold",children:["+",d]})]})})]})}if(0===i.length)return(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D]",children:"Not shared"});let j=i.slice(0,2),k=Math.max(0,i.length-j.length);return(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex -space-x-2",children:[j.map((a,c)=>(0,b.jsx)("div",{title:a.name,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-gray-200 overflow-hidden flex items-center justify-center text-[10px] text-gray-600",children:(0,b.jsx)("img",{src:a.image||"https://www.w3schools.com/howto/img_avatar.png",alt:a.name,className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})},`${a.id||"broker"}-${c}`)),k>0&&(0,b.jsxs)("div",{title:`+${k} more`,className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full ring-2 ring-white bg-yellow-400 text-black flex items-center justify-center text-[11px] font-semibold",children:["+",k]})]})})})()]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-4",children:[(0,b.jsxs)("button",{title:"View Details",onClick:()=>{bh(a),bj(!1),bl(!1),br({name:a.customerName||a.name||"",contact:a.customerPhone||a.contact||"",email:a.customerEmail||"",budget:String(a.budget??""),requirement:a.requirement||a.req||"",propertyType:a.propertyType||"",primaryRegion:a.primaryRegion?{value:a.primaryRegion._id||a.primaryRegion.id||a.primaryRegion,label:a.primaryRegion.name||a.primaryRegion}:a.region?"object"==typeof a.region?{value:a.region._id||a.region.id||a.region,label:a.region.name||a.region}:{value:a.region,label:aF(a.region)||a.region}:null,secondaryRegion:a.secondaryRegion?{value:a.secondaryRegion._id||a.secondaryRegion.id||a.secondaryRegion,label:a.secondaryRegion.name||a.secondaryRegion}:null,status:a.status||"active"}),bf(!0)},className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 text-[12px] font-medium text-[#565D6D] hover:text-green-900 transition-colors cursor-pointer",children:[(0,b.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",className:"jsx-5f133ba9f9a414f4"})]}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-medium text-[#565D6D]",children:"View"})]}),(0,b.jsxs)("button",{title:"Transfer Lead",onClick:()=>bc(a),className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 text-[12px] font-medium text-[#565D6D] hover:text-blue-800 transition-colors cursor-pointer",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:[(0,b.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2",className:"jsx-5f133ba9f9a414f4"})]}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] font-medium text-[#565D6D]",children:"Share"})]}),(0,b.jsxs)("button",{title:"Delete Lead",onClick:()=>!f&&bb(a),disabled:f,className:`jsx-5f133ba9f9a414f4 flex items-center gap-1 text-[12px] font-medium transition-colors ${f?"text-gray-300 cursor-not-allowed":"text-[#565D6D] hover:text-[#565D6D] cursor-pointer"}`,children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:`jsx-5f133ba9f9a414f4 w-4 h-4 ${f?"text-gray-300":""}`,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-5f133ba9f9a414f4"})}),(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 text-[12px] font-medium ${f?"text-gray-300":"text-[#565D6D]"}`,children:"Delete"})]})]})]})]})]},a._id||a.id||c)})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mt-4",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-600",children:["Page ",af," of ",al]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>ag(a=>Math.max(1,a-1)),disabled:af<=1,className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg border border-gray-200 text-sm disabled:opacity-50 bg-white cursor-pointer",children:"Prev"}),(0,b.jsx)("button",{onClick:()=>ag(a=>Math.min(al,a+1)),disabled:af>=al,className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg border border-gray-200 text-sm disabled:opacity-50 bg-white cursor-pointer",children:"Next"})]})]})]}),(0,b.jsxs)("aside",{className:"jsx-5f133ba9f9a414f4 md:col-span-3 space-y-6 md:sticky md:top-6 self-start",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white  p-4 rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,b.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4  mb-3 flex items-center gap-2 text-[14px] leading-6 font-semibold text-[#171A1F]",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-gray-600 shrink-0 overflow-visible",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{d:"M12 7v5l4 2",className:"jsx-5f133ba9f9a414f4"})]}),"Recent Activity"]}),(0,b.jsx)("ul",{className:"jsx-5f133ba9f9a414f4 text-sm text-slate-900 space-y-3",children:W?(0,b.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-[12px] text-gray-500",children:[(0,b.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),"Loading..."]})}):Y?(0,b.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-red-600",children:Y})}):0===U.length?(0,b.jsx)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-4",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-gray-500",children:"No recent activity"})}):U.map((a,c)=>{let d=a?.title||a?.message||a?.text||"Notification",e=a?.createdAt||a?.date||a?.timestamp;return(0,b.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7 rounded-full bg-gray-100 text-gray-600 ring-1 ring-gray-200",children:(a=>{let c=(a?.type||a?.notificationType||"").toLowerCase(),d=(a?.title||a?.message||"").toLowerCase();return c.includes("lead")||d.includes("lead created")||d.includes("new lead")?(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,b.jsx)("circle",{cx:"10",cy:"7",r:"4"}),(0,b.jsx)("path",{d:"M19 8v6M22 11h-6"})]}):c.includes("email")||d.includes("email")||d.includes("follow-up")?(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,b.jsx)("path",{d:"M22 7 12 13 2 7"})]}):c.includes("status")||d.includes("status changed")||d.includes("qualified")||d.includes("closed")?(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M20 6 9 17l-5-5"})}):(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("path",{d:"M12 7v5l4 2"})]})})(a)}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:d}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-5 font-normal text-[#565D6D]",children:(a=>{if(!a)return"";try{let b=new Date(a),c=new Date,d=c-b,e=Math.floor(d/6e4),f=Math.floor(d/36e5),g=Math.floor(d/864e5);if(e<1)return"Just now";if(e<60)return`${e} minute${e>1?"s":""} ago`;if(f<24)return`${f} hour${f>1?"s":""} ago`;if(1===g)return"Yesterday";if(g<7)return`${g} days ago`;return b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:b.getFullYear()!==c.getFullYear()?"numeric":void 0})}catch{return""}})(e)})]})]},a?._id||a?.id||c)})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white  p-4 rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F]",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-2",children:[(0,b.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-[14px] leading-6 font-semibold text-[#171A1F]",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-gray-600 shrink-0 overflow-visible",children:[(0,b.jsx)("rect",{x:"3",y:"4",width:"18",height:"14",rx:"3",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{d:"M8 18v3l3-3",className:"jsx-5f133ba9f9a414f4"})]}),"FAQ"]}),(0,b.jsx)("a",{href:"/faq",target:"_blank",rel:"noopener noreferrer",className:"jsx-5f133ba9f9a414f4  text-green-950 hover:underline hover:text-green-950 transition-colors text-[12px] leading-5 font-medium ",children:"View all"})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-2 text-[12px",children:[(0,b.jsxs)("details",{open:!0,className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,b.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"What's the fastest way to add a new enquiry?"}),(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,b.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-gray-600 border-l-2 border-gray-300",children:"Use the Add Enquiry button, fill name, phone, requirement and region. You can edit details later in Enquiry Details."})]}),(0,b.jsxs)("details",{className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,b.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"How do I update my enquiry status?"}),(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,b.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-slate-600 border-l-2 border-gray-300",children:"Open an enquiry, click Edit Status in the drawer header, pick the status and save."})]}),(0,b.jsxs)("details",{className:"jsx-5f133ba9f9a414f4 group relative rounded-xl border border-slate-100 p-4 pr-5 transition-colors",children:[(0,b.jsxs)("summary",{className:"jsx-5f133ba9f9a414f4 list-none cursor-pointer flex items-center justify-between",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-normal text-[#171A1F]",children:"How do I share my enquiry securely?"}),(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-slate-400 transition-transform group-open:rotate-180 group-open:text-gray-600 shrink-0 overflow-visible",children:(0,b.jsx)("path",{d:"m6 9 6 6 6-6",className:"jsx-5f133ba9f9a414f4"})})]}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-2 pl-3 md:pl-4 text-[10px] leading-4 text-slate-600 border-l-2 border-gray-300",children:"Use Share/Transfer, choose brokers, add notes and confirm. The transfer history appears in Enquiry Details."})]})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 bg-white rounded-[10px] border border-[#DEE1E6] shadow-[0_0_1px_#171a1f12,0_0_2px_#171a1f1F] p-4",children:[(0,b.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 mb-3 text-[12px] leading-6 font-semibold text-[#171A1F]",children:"Help & Support"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] font-normal text-[#565D6D] mb-6 leading-relaxed",children:"Need help or looking for more details? Our comprehensive resources and support team are here for you."}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,b.jsxs)(e.default,{href:"/contact",className:"flex items-start gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F] hover:text-[#0D542B] transition-colors",children:"Visit Support Center"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-[#0D542B] transition-colors",children:"Get answers to frequently asked questions."})]})]}),(0,b.jsxs)(e.default,{href:"/help/documentation",className:"flex items-start gap-3 hover:opacity-80 transition-opacity cursor-pointer",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7 text-[#0D542B] shrink-0",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Read Documentation"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D]",children:"Explore our guides and platform tutorials."})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Email Support"}),(0,b.jsx)("a",{href:`mailto:${k.SUPPORT_EMAIL}`,className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-green-900 transition-colors",children:k.SUPPORT_EMAIL})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5 inline-flex items-center justify-center w-7 h-7  text-[#0D542B] shrink-0",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1",children:[(0,b.jsx)("h5",{className:"jsx-5f133ba9f9a414f4 text-[12px] leading-5 font-medium text-[#171A1F]",children:"Phone Support"}),(0,b.jsx)("a",{href:`tel:${k.SUPPORT_PHONE.replace(/\s+/g,"")}`,className:"jsx-5f133ba9f9a414f4 text-[10px] leading-4 font-normal text-[#565D6D] hover:text-green-900 transition-colors",children:k.SUPPORT_PHONE})]})]})]})]})]})]})}),a&&(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-[100] flex items-center justify-center",children:[(0,b.jsx)("div",{onClick:()=>l(!1),className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-xl mx-4 bg-white rounded-2xl shadow-xl",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Advanced Filters"}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-600 mt-1",children:"Refine your enquiry list using region, requirement, property type, and budget filters."})]}),(0,b.jsx)("button",{onClick:()=>l(!1),"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-6 max-h-[70vh] overflow-auto",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Preferred Regions"}),s?(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-center py-3 border border-gray-200 rounded-lg bg-gray-50",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:[(0,b.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin text-gray-500",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm text-gray-500",children:"Loading regions..."})]})}):u?(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 bg-rose-50 border border-rose-200 rounded-lg p-3 text-sm text-rose-700",children:u}):(0,b.jsx)(h.default,{value:o.region,onChange:a=>p({...o,region:a}),options:aC,placeholder:"Select Region (optional)",styles:{...aD,menuPortal:a=>({...a,zIndex:99999}),menu:a=>({...a,zIndex:99999})},menuPortalTarget:null,menuPosition:"fixed",isSearchable:!0})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Requirement Type"}),(0,b.jsx)(h.default,{value:o.requirement,onChange:a=>p({...o,requirement:a}),options:aB,placeholder:"Buy / Sell / Rent",styles:{...aD,menuPortal:a=>({...a,zIndex:99999}),menu:a=>({...a,zIndex:99999})},menuPortalTarget:null,menuPosition:"fixed",isSearchable:!0})," "]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-2",children:"Property Category"}),(0,b.jsx)(h.default,{value:o.propertyType,onChange:a=>p({...o,propertyType:a}),options:aA,placeholder:"Commercial / Residential / Plot",styles:{...aD,menuPortal:a=>({...a,zIndex:99999}),menu:a=>({...a,zIndex:99999})},menuPortalTarget:null,menuPosition:"fixed",isSearchable:!0})," "]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-4",children:["Max Budget:"," ",(0,b.jsxs)("span",{className:"jsx-5f133ba9f9a414f4 text-green-900 font-semibold",children:["$",o.budgetMax.toLocaleString()]})]}),(0,b.jsx)("input",{type:"range",min:"0",max:"1000000",step:"10000",value:o.budgetMax,onChange:a=>p({...o,budgetMax:Number(a.target.value)}),className:"jsx-5f133ba9f9a414f4 w-full accent-green-900"})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[E&&(0,b.jsx)("button",{onClick:F,disabled:C,className:"jsx-5f133ba9f9a414f4 px-4 py-2.5 rounded-xl border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear Filters"}),(0,b.jsxs)("button",{onClick:async()=>{D(!0),ag(1),await av(o,1,ah,am),D(!1),l(!1)},disabled:C,className:"jsx-5f133ba9f9a414f4 px-3 py-2.5 rounded-xl text-sm font-semibold text-white bg-green-900 hover:bg-green-950 shadow-sm cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2",children:[C&&(0,b.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),C?"Applying...":"Apply Filters"]})]})]})]}),aH&&(0,b.jsxs)("div",{role:"dialog","aria-modal":"true",className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-[100] flex items-center justify-center",children:[(0,b.jsx)("div",{onClick:()=>{aI(!1),aO({})},className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-xl mx-4 bg-white rounded-2xl shadow-xl",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,b.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Add New Enquiry"}),(0,b.jsx)("button",{onClick:()=>{aI(!1),aO({})},"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-5 max-h-[70vh] overflow-auto",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Customer Name"}),(0,b.jsx)("input",{name:"customerName",value:aL.customerName,onChange:aQ,type:"text",placeholder:"Enter customer's full name",className:`jsx-5f133ba9f9a414f4 w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ${aN.customerName?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600"}`}),aN.customerName&&(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-1 text-xs text-red-600",children:aN.customerName})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Contact Phone"}),(0,b.jsx)("input",{name:"customerPhone",value:aL.customerPhone,onChange:aQ,type:"tel",placeholder:"Enter 10-digit phone number",maxLength:"10",className:`jsx-5f133ba9f9a414f4 w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ${aN.customerPhone?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600"}`}),aN.customerPhone&&(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 mt-1 text-xs text-red-600",children:aN.customerPhone})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Contact Email"}),(0,b.jsx)("input",{name:"customerEmail",value:aL.customerEmail,onChange:aQ,type:"email",placeholder:"e.g., john.doe@example.com",className:`jsx-5f133ba9f9a414f4 w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:bg-green-50 selection:bg-green-100 selection:text-green-900 caret-green-900 text-sm bg-white ${aN.customerEmail?"border-red-300 focus:ring-red-100 focus:border-red-500":"border-gray-200 focus:ring-green-100 focus:border-green-600"}`}),aN.customerEmail&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-1",children:[(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-xs text-red-600",children:aN.customerEmail}),(0,b.jsx)("p",{className:"jsx-5f133ba9f9a414f4 text-xs text-gray-500",children:"eg. john@example.com"})]})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Requirement"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-wrap gap-2",children:aB.filter(a=>"all"!==a.value).map(a=>{let c=(aL.requirement&&(aL.requirement.value||aL.requirement))===a.value;return(0,b.jsx)("button",{type:"button","aria-pressed":c,onClick:()=>aM({...aL,requirement:a}),className:`jsx-5f133ba9f9a414f4 px-3.5 py-1.5 rounded-full text-[12px] font-semibold border transition-colors transition-shadow duration-150 ${c?"bg-green-50 text-green-900 border-green-200 ring-1 ring-green-100 shadow-sm":"bg-white text-slate-700 border-gray-200 hover:border-gray-300 hover:bg-slate-50"}`,children:a.label},a.value)})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Property Type"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex flex-wrap gap-2",children:aA.filter(a=>"all"!==a.value).map(a=>{let c=(aL.propertyType&&(aL.propertyType.value||aL.propertyType))===a.value;return(0,b.jsx)("button",{type:"button","aria-pressed":c,onClick:()=>aM({...aL,propertyType:a}),className:`jsx-5f133ba9f9a414f4 px-3.5 py-1.5 rounded-full text-[12px] font-semibold border transition-colors transition-shadow duration-150 ${c?"bg-green-50 text-green-900 border-green-200 ring-1 ring-green-100 shadow-sm":"bg-white text-slate-700 border-gray-200 hover:border-gray-300 hover:bg-slate-50"}`,children:a.label},a.value)})})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Budget"}),(()=>{let a={residential:{min:5e3,max:1e8,step:5e3},commercial:{min:1e4,max:5e8,step:1e4},plot:{min:5e4,max:25e7,step:5e4},other:{min:1e3,max:5e7,step:1e3}}[String("object"==typeof aL.propertyType?aL.propertyType.value||aL.propertyType.label||"":aL.propertyType||"").toLowerCase()]||{min:0,max:1e7,step:5e3},c=a.min,d=a.max,e=a.step,f=Number(aL.budget||0),g=isNaN(f)?c:Math.min(d,Math.max(c,f)),h=(g-c)/(d-c)*100,i=g>c?Math.max(2,h):0;return(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 space-y-2",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative",children:[(0,b.jsx)("input",{type:"range",min:c,max:d,step:e,value:g,onChange:a=>aM({...aL,budget:Number(a.target.value)}),style:{background:`linear-gradient(to right, #14532d 0%, #14532d ${i}%, #e5e7eb ${i}%, #e5e7eb 100%)`},className:"jsx-5f133ba9f9a414f4 w-full h-2 rounded-full appearance-none focus:outline-none accent-green-900"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 absolute -top-6 right-0 flex items-center border border-green-200 rounded-full bg-green-50 px-2 py-0.5",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-[11px] font-semibold text-green-900 mr-1",children:"₹"}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",value:String(g),onChange:a=>{let b=Number((a.target.value||"").replace(/[^0-9]/g,"")),e=isNaN(b)?0:Math.min(d,Math.max(c,b));aM({...aL,budget:e})},style:{width:`calc(${Math.max(3,String(g).length)}ch + 0.15rem)`},className:"jsx-5f133ba9f9a414f4 w-[2ch] text-[11px] font-semibold text-green-900 bg-transparent text-right focus:outline-none font-mono tabular-nums"})]})]})})})()]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Primary Region *"}),(0,b.jsx)(h.default,{value:aL.primaryRegion,onChange:a=>aM({...aL,primaryRegion:a}),options:aC,styles:aR,isSearchable:!0,isLoading:y,menuPortalTarget:null,menuPosition:"fixed",menuPlacement:"auto"})," "]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Optional Region"}),(0,b.jsx)(h.default,{value:aL.secondaryRegion,onChange:a=>aM({...aL,secondaryRegion:a}),options:aC,styles:aR,isSearchable:!0,isLoading:y,menuPortalTarget:null,menuPosition:"fixed",menuPlacement:"auto"})," "]})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>{aI(!1),aO({})},disabled:aJ,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,b.jsxs)("button",{onClick:aS,disabled:aJ,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-green-900 hover:bg-green-950 cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed flex items-center gap-2",children:[aJ&&(0,b.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),aJ?"Adding Lead...":"Add Lead"]})]})]})]}),aT&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{onClick:()=>aU(!1),className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/60"}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 relative w-full max-w-md mx-4 bg-white rounded-2xl shadow-xl",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,b.jsx)("h4",{className:"jsx-5f133ba9f9a414f4 text-lg font-semibold text-slate-900",children:"Share Lead"}),(0,b.jsx)("button",{onClick:()=>aU(!1),className:"jsx-5f133ba9f9a414f4 p-2 rounded-lg hover:bg-gray-100",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500 cursor-pointer",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-5 space-y-5",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3",children:[(0,b.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,b.jsx)("input",{type:"radio",name:"transferMode",checked:"all"===aZ,onChange:()=>a$("all"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with all brokers"})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:(0,b.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,b.jsx)("input",{type:"radio",name:"transferMode",checked:"region"===aZ,onChange:()=>a$("region"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with brokers of a region"})]})}),(0,b.jsxs)("label",{className:"jsx-5f133ba9f9a414f4 inline-flex items-center gap-2 cursor-pointer select-none",children:[(0,b.jsx)("input",{type:"radio",name:"transferMode",checked:"select"===aZ,onChange:()=>a$("select"),className:"jsx-5f133ba9f9a414f4 h-4 w-4 accent-green-900 cursor-pointer"}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-sm  text-slate-800",children:"Share with selected brokers"})]})]}),"region"===aZ&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Select Region"}),(0,b.jsx)(h.default,{value:a_,onChange:a=>a0(a),options:aC.filter(a=>"all"!==a.value),styles:aD,isSearchable:!0,placeholder:"Select region"})]}),"select"===aZ&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Select Broker(s)"}),(0,b.jsx)(h.default,{value:aV.brokerIds.filter(a=>(a3||[]).some(b=>(b._id||b.id)===a&&(b._id||b.id)!==H)).map(a=>{let b=(a3||[]).find(b=>(b._id||b.id)===a),c="";return b?.region&&Array.isArray(b.region)&&b.region.length>0?c=b.region[0].name||"Unknown":b?.region&&"object"==typeof b.region&&!Array.isArray(b.region)?c=b.region.name||b.region.region||"Unknown":"string"==typeof b?.region&&(c=b.region),{value:a,label:`${b?.name||b?.fullName||b?.email||a}${c?` (${c})`:""}`}}),onChange:(a,b)=>{let c=(a||[]).map(a=>a.value);aW(a=>({...a,brokerIds:c}))},options:(a3||[]).filter(a=>(a._id||a.id)&&(a._id||a.id)!==H).map(a=>{let b="";return a.region&&Array.isArray(a.region)&&a.region.length>0?b=a.region[0].name||"Unknown":a.region&&"object"==typeof a.region&&!Array.isArray(a.region)?b=a.region.name||a.region.region||"Unknown":"string"==typeof a.region&&(b=a.region),{value:a._id||a.id,label:`${a.name||a.fullName||a.email||"Unnamed"}${b?` (${b})`:""}`}}),styles:aD,components:{MenuList:a=>{let{children:c}=a,d=!!aV.selectAllFiltered,e=a?.children,f=a=>Array.isArray(a)?a:a?[a]:[],g=f(e).flatMap(a=>{let b=a?.props?.data?.value;return b?[b]:f(a?.props?.children).map(a=>a?.props?.data?.value).filter(Boolean)}).filter(Boolean);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-gray-50",children:[(0,b.jsx)("span",{className:"text-xs text-slate-600",children:"Filtered brokers"}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-600 cursor-pointer select-none",children:[(0,b.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500 cursor-pointer",checked:d,onChange:a=>{let b=a.target.checked;aW(a=>({...a,selectAllFiltered:b,brokerIds:b?Array.from(new Set([...a.brokerIds||[],...g])):(a.brokerIds||[]).filter(a=>!g.includes(a))}));try{let a=document.querySelector('[id^="react-select"][id$="-input"]');a?.focus()}catch{}b&&setTimeout(()=>aW(a=>({...a,selectAllFiltered:!1})),0)}}),"Select all"]})]}),(0,b.jsx)(i.c.MenuList,{...a,children:c})]})}},onInputChange:(a,{action:b})=>("input-change"===b&&aV.selectAllFiltered,aY(a||""),a),isMulti:!0,isSearchable:!0,closeMenuOnSelect:!1,hideSelectedOptions:!0,placeholder:a5?"Loading brokers...":a7||"Choose brokers...",isLoading:a5})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("label",{className:"jsx-5f133ba9f9a414f4 block text-xs font-label text-gray-700 mb-1",children:"Share Notes (Optional)"}),(0,b.jsx)("textarea",{rows:3,value:aV.notes,onChange:a=>aW({...aV,notes:a.target.value}),placeholder:"Add any specific instructions or context...",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-600 text-sm bg-white"})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>aU(!1),disabled:a1,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg border border-gray-200 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 cursor-pointer",children:"Cancel"}),(0,b.jsxs)("button",{onClick:bd,disabled:a1,className:"jsx-5f133ba9f9a414f4 px-4 py-2 rounded-lg text-sm font-semibold text-white bg-green-900 hover:bg-green-950 cursor-pointer disabled:opacity-60 flex items-center gap-2",children:[a1&&(0,b.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 animate-spin",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-5f133ba9f9a414f4 opacity-25"}),(0,b.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-5f133ba9f9a414f4 opacity-75"})]}),a1?"Sending...":"Share with broker"]})]})]})]}),be&&bg&&(0,b.jsxs)("div",{className:`jsx-5f133ba9f9a414f4 fixed inset-0 z-50 ${bk?"pointer-events-none":""}`,children:[(0,b.jsx)("div",{onClick:()=>{bl(!0),setTimeout(()=>bf(!1),200)},className:"jsx-5f133ba9f9a414f4 absolute inset-0 bg-black/50"}),(0,b.jsxs)("div",{className:`jsx-5f133ba9f9a414f4 absolute right-0 top-0 h-full w-full max-w-md bg-slate-50 shadow-2xl ${bk?"animate-slide-out":"animate-slide-in"}`,children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between px-5 py-4 border-b border-gray-200 bg-white",children:[(0,b.jsxs)("h4",{className:"jsx-5f133ba9f9a414f4 text-[18px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-green-900",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",className:"jsx-5f133ba9f9a414f4"})}),"Enquiry Details"]}),(0,b.jsx)("button",{onClick:()=>{bl(!0),setTimeout(()=>bf(!1),200)},"aria-label":"Close",className:"jsx-5f133ba9f9a414f4 p-2 rounded hover:bg-gray-100",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-5 h-5 text-gray-500",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12",className:"jsx-5f133ba9f9a414f4"})})})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 h-[calc(100%-56px)] overflow-y-auto no-scrollbar p-5",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 bg-white rounded-2xl border border-gray-200 shadow-sm p-4",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-12 h-12 rounded-full overflow-hidden ring-2 ring-white bg-green-50 text-green-900 flex items-center justify-center text-sm font-semibold",children:(a=>{if(!a||"string"!=typeof a)return"?";let[b="",c=""]=a.trim().split(/\s+/);return(b[0]||""+c[0]||"").toUpperCase()})(bg.name||bg.customerName||"?")}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 min-w-0",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[16px] font-semibold text-slate-900 truncate",children:bg.name||bg.customerName||"—"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-slate-500 mt-0.5",children:bg.contact||bg.customerPhone||"—"})]}),(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ${aw(bg.status||"Closed")}`,children:bg.status||"Closed"})]})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 mt-4 bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-1 px-3 pt-3",children:(()=>{let a=({active:a,children:c,onClick:d})=>(0,b.jsx)("button",{onClick:d,className:`jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-sm font-semibold ${a?"bg-slate-900 text-white":"text-slate-600 hover:bg-slate-100"}`,children:c});return(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex gap-2",children:[(0,b.jsx)(a,{active:"overview"===aq,onClick:()=>ar("overview"),className:"jsx-5f133ba9f9a414f4",children:"Overview"}),(0,b.jsx)(a,{active:"share"===aq,onClick:()=>ar("share"),className:"jsx-5f133ba9f9a414f4",children:"Share"})]})})()}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 p-4",children:[(!aq||"overview"===aq)&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-3",children:(0,b.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[14px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",className:"jsx-5f133ba9f9a414f4"})}),"Contact Details"]})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[12px]",children:[(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===H||bg?.brokerId&&(String(bg.brokerId),String(H)),null),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-sky-50",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"jsx-5f133ba9f9a414f4 w-3.5 h-3.5 text-gray-500",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h6l2 5-2 1a10 10 0 005 5l1-2 5 2v6a2 2 0 01-2 2A16 16 0 013 7z",className:"jsx-5f133ba9f9a414f4"})})}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)("input",{type:"tel",name:"contact",value:bq.contact??(bg.contact||bg.customerPhone||""),onChange:bB,placeholder:"Phone number",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):bg.contact||bg.customerPhone||"—"]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"jsx-5f133ba9f9a414f4 w-3.5 h-3.5 text-gray-500",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-5f133ba9f9a414f4"})})}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)("input",{type:"email",name:"email",value:bq.email??(bg.customerEmail||""),onChange:bB,placeholder:"Email address",className:"jsx-5f133ba9f9a414f4 w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):bg.customerEmail||"—"]})]})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between mb-3",children:(0,b.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[14px] font-semibold text-slate-900 flex items-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 8h10M7 12h7M5 20l2.5-2.5M19 20l-2.5-2.5",className:"jsx-5f133ba9f9a414f4"})}),"Property Preferences"]})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[12px]",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Property Type:"}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)(h.default,{name:"propertyType",options:(()=>{let a=aA.filter(a=>"all"!==a.value),b=bq.propertyType??bg.propertyType??"";return a.some(a=>a.value===b)?a:[...a,{value:b,label:b}]})(),value:(()=>{let a=bq.propertyType??bg.propertyType??"";return(()=>{let b=aA.filter(a=>"all"!==a.value);return b.some(b=>b.value===a)?b:[...b,{value:a,label:a}]})().find(b=>b.value===a)||null})(),onChange:a=>br(b=>({...b,propertyType:a?.value||""})),classNamePrefix:"react-select",styles:aD}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:bg.propertyType||"—"})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:(0,b.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Budget:"}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)("input",{type:"number",name:"budget",value:bq.budget??bg.budget??"",onChange:bB,placeholder:"Budget",className:"jsx-5f133ba9f9a414f4 flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-100 focus:border-green-600 text-[12px]"}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:aG(bg.budget)})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",className:"jsx-5f133ba9f9a414f4"})})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Requirement:"}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)(h.default,{name:"requirement",options:(()=>{let a=aB.filter(a=>"all"!==a.value),b=bq.requirement??bg.requirement??bg.req??"";return a.some(a=>a.value===b)?a:[...a,{value:b,label:b}]})(),value:(()=>{let a=bq.requirement??bg.requirement??bg.req??"";return(()=>{let b=aB.filter(a=>"all"!==a.value);return b.some(b=>b.value===a)?b:[...b,{value:a,label:a}]})().find(b=>b.value===a)||null})(),onChange:a=>br(b=>({...b,requirement:a?.value||""})),classNamePrefix:"react-select",styles:aD}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:bg.requirement||bg.req||"—"})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Primary Region:"}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)(h.default,{name:"primaryRegion",options:aC,value:bq.primaryRegion||null,onChange:a=>br(b=>({...b,primaryRegion:a})),classNamePrefix:"react-select",styles:aD,menuPlacement:"top",menuPortalTarget:null,menuPosition:"fixed"}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:aF(bg?.primaryRegion||bg?.region)||"—"})]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 text-slate-700",children:[(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 w-5 h-5 inline-flex items-center justify-center rounded bg-green-50",children:(0,b.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-3 h-3 text-slate-400",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-5f133ba9f9a414f4"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-5f133ba9f9a414f4"})]})}),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-500 mr-1",children:"Secondary Region:"}),bi&&(bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I))?(0,b.jsx)(h.default,{name:"secondaryRegion",options:aC,value:bq.secondaryRegion||null,onChange:a=>br(b=>({...b,secondaryRegion:a})),classNamePrefix:"react-select",styles:aD,menuPlacement:"top",menuPortalTarget:null,menuPosition:"fixed"}):(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 text-slate-900",children:aF(bg?.secondaryRegion)||"—"})]})]})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 rounded-xl border border-gray-200 bg-white p-4",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[13px] text-slate-500",children:"Status"}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 mt-0.5",children:bi?(0,b.jsx)(h.default,{name:"status",options:az.filter(a=>"all"!==a.value),value:(()=>{let a=bq.status??bg.status??"New";return az.find(b=>b.value===a)||null})(),onChange:a=>br(b=>({...b,status:a?.value||"New"})),classNamePrefix:"react-select",styles:aD,menuPlacement:"top",menuPortalTarget:null,menuPosition:"fixed"}):(0,b.jsx)("span",{className:`jsx-5f133ba9f9a414f4 inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ${aw(bg.status||"Closed")}`,children:bg.status||"Closed"})})]}),(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:bi?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:bA,className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-white bg-green-900 hover:bg-green-950",children:"Save"}),(0,b.jsx)("button",{onClick:()=>bj(!1),className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-slate-700 bg-gray-100 hover:bg-gray-200 border border-gray-200",children:"Cancel"})]}):(0,b.jsx)("button",{onClick:()=>{let a=bg?.primaryRegion&&(bg.primaryRegion._id||bg.primaryRegion.id||bg.primaryRegion.value)||bg?.region||null,b=bg?.primaryRegion&&(bg.primaryRegion.name||bg.primaryRegion.label)||aF(bg?.primaryRegion||bg?.region)||"",c=bg?.secondaryRegion&&(bg.secondaryRegion._id||bg.secondaryRegion.id||bg.secondaryRegion.value),d=bg?.secondaryRegion&&(bg.secondaryRegion.name||bg.secondaryRegion.label);br({name:bg.name||bg.customerName||"",contact:bg.contact||bg.customerPhone||"",email:bg.customerEmail||"",requirement:bg.requirement||bg.req||"",propertyType:bg.propertyType||"",budget:"number"==typeof bg.budget?bg.budget:bg.budget||"",status:bg.status||"Closed",primaryRegion:a?{value:a,label:b}:null,secondaryRegion:c?{value:c,label:d||""}:null}),bj(!0)},className:"jsx-5f133ba9f9a414f4 px-3 py-1.5 rounded-lg text-[12px] font-semibold text-white bg-green-900 hover:bg-green-950",children:bg?.createdBy&&(bg.createdBy._id||bg.createdBy.id)===I||bg?.brokerId&&String(bg.brokerId)===String(I)?"Edit":"Edit Status"})})]})})]}),"share"===aq&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 space-y-3 text-[14px]",children:(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 border border-gray-200 rounded-xl p-4 shadow-sm bg-white",children:[(0,b.jsxs)("h5",{className:"jsx-5f133ba9f9a414f4 text-[16px] font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-5f133ba9f9a414f4 w-4 h-4 text-green-900",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 8h10M7 12h7M5 20l2.5-2.5M19 20l-2.5-2.5",className:"jsx-5f133ba9f9a414f4"})}),"Share History"]}),(()=>{let a=Array.isArray(bg?.transfers)?bg.transfers:[];if(!a.length)return(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 text-[14px] text-slate-500",children:"Not shared yet."});let c=new Map((a3||[]).map(a=>[a._id||a.id,a])),d=a.filter(a=>"all"===a.shareType||!a.shareType&&!a.toBroker&&!a.region),e=a.filter(a=>"region"===a.shareType||!a.shareType&&a.region&&!a.toBroker),f=a.filter(a=>"individual"===a.shareType||!a.shareType&&a.toBroker&&!a.region);return(0,b.jsxs)("ul",{className:"jsx-5f133ba9f9a414f4 text-[14px] text-slate-700 space-y-3",children:[d.map((a,d)=>{let e=a&&"object"==typeof a.fromBroker&&null!==a.fromBroker?a.fromBroker:c.get(a?.fromBroker)||{},f=e&&e.name||e&&e.fullName||e&&e.email||e&&e._id||a?.fromBroker||"Unknown broker";e&&e.brokerImage||e&&e.avatarUrl||e&&e.imageUrl;let g=a?.createdAt?new Date(a.createdAt).toLocaleString():"",h=("object"==typeof a?.fromBroker?a?.fromBroker?._id:a?.fromBroker)||`all-from-${d}`;return(0,b.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-blue-100 overflow-hidden ring-2 ring-white flex items-center justify-center text-[10px] text-blue-800 font-semibold",children:"All"})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:[f," → All Brokers"]}),g&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",g]})]})]},`all-${h}-${a?._id||d}`)}),e.map((a,d)=>{let e=a&&"object"==typeof a.fromBroker&&null!==a.fromBroker?a.fromBroker:c.get(a?.fromBroker)||{},f=e&&e.name||e&&e.fullName||e&&e.email||e&&e._id||a?.fromBroker||"Unknown broker";e&&e.brokerImage||e&&e.avatarUrl||e&&e.imageUrl;let g=a?.region,h=aF(g)||g||"Unknown Region",i=a?.createdAt?new Date(a.createdAt).toLocaleString():"",j=("object"==typeof a?.fromBroker?a?.fromBroker?._id:a?.fromBroker)||`region-from-${d}`,k=a&&"object"==typeof a.fromBroker?a.fromBroker?._id||a.fromBroker?.id:a?.fromBroker,l=bw===g,m=I&&k&&String(k)===String(I);return(0,b.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-start gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 pt-0.5",children:(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-green-100 overflow-hidden ring-2 ring-white flex items-center justify-center text-[10px] text-green-800 font-semibold",children:"R"})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:[f," → ",h]}),i&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",i]}),m&&(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2 mt-2",children:(0,b.jsx)("button",{type:"button",disabled:l,onClick:async()=>{g&&await bz(g)},title:"Delete transfer",className:`jsx-5f133ba9f9a414f4 inline-flex items-center px-2 py-1 text-[12px] rounded border ${l?"border-gray-200 text-gray-400":"border-rose-200 text-rose-700 hover:bg-rose-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:l?"Removing…":"Delete"})})]})]},`region-${j}-${g||d}`)}),f.map((a,d)=>{let e=a&&"object"==typeof a.toBroker&&null!==a.toBroker?a.toBroker:c.get(a?.toBroker)||{},f=a&&"object"==typeof a.fromBroker&&null!==a.fromBroker?a.fromBroker:c.get(a?.fromBroker)||{},g=e&&e.name||e&&e.fullName||e&&e.email||e&&e._id||a?.toBroker||"Unknown broker",h=f&&f.name||f&&f.fullName||f&&f.email||f&&f._id||a?.fromBroker||"Unknown broker",i=e&&e.brokerImage||e&&e.avatarUrl||e&&e.imageUrl||"";f&&f.brokerImage||f&&f.avatarUrl||f&&f.imageUrl;let j=a?.createdAt?new Date(a.createdAt).toLocaleString():"",k=("object"==typeof a?.fromBroker?a?.fromBroker?._id:a?.fromBroker)||"from",l=("object"==typeof a?.toBroker?a?.toBroker?._id:a?.toBroker)||"to",m=aF(f?.region)||aF(f?.primaryRegion)||"",n=aF(e?.region)||aF(e?.primaryRegion)||"",o=a&&"object"==typeof a.toBroker?a.toBroker?._id||a.toBroker?.id:a?.toBroker,p=a&&"object"==typeof a.fromBroker?a.fromBroker?._id||a.fromBroker?.id:a?.fromBroker,q=bu===String(o),r=I&&p&&String(p)===String(I);return(0,b.jsxs)("li",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"jsx-5f133ba9f9a414f4 flex items-center gap-2",children:(0,b.jsx)("div",{title:"string"==typeof g?g:String(g),className:"jsx-5f133ba9f9a414f4 w-7 h-7 rounded-full bg-gray-200 overflow-hidden ring-2 ring-white flex items-center justify-center text-[12px] text-gray-700",children:(0,b.jsx)("img",{src:i||"https://www.w3schools.com/howto/img_avatar.png",alt:"string"==typeof g?g:"Broker",className:"jsx-5f133ba9f9a414f4 w-full h-full object-cover"})})}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 font-medium text-slate-900 truncate",children:["string"==typeof h?h:String(h),(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mx-1 text-slate-400",children:"→"}),"string"==typeof g?g:String(g)]}),(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[12px] text-slate-500 truncate",children:[m||"—"," ",(0,b.jsx)("span",{className:"jsx-5f133ba9f9a414f4 mx-1 text-slate-400",children:"→"})," ",n||"—"]}),j&&(0,b.jsxs)("div",{className:"jsx-5f133ba9f9a414f4 text-[11px] text-slate-400",children:["Shared on ",j]})]}),r&&(0,b.jsx)("button",{type:"button",disabled:q,onClick:async()=>{o&&(bv(String(o)),await by(o))},title:"Delete transfer",className:`jsx-5f133ba9f9a414f4 ml-2 inline-flex items-center px-2 py-1 text-[12px] rounded border ${q?"border-gray-200 text-gray-400":"border-rose-200 text-rose-700 hover:bg-rose-50"}`,children:q?"Removing…":"Delete"})]},`${k}-${l}-${a?._id||d}`)})]})})()]})})]})]})]})]})]})]}),(0,b.jsx)(c.default,{id:"5f133ba9f9a414f4",children:".no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}@keyframes slideInFromRight{0%{opacity:.6;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.animate-slide-in{animation:.25s ease-out both slideInFromRight}@keyframes slideOutToRight{0%{opacity:1;transform:translate(0)}to{opacity:.4;transform:translate(100%)}}.animate-slide-out{animation:.2s ease-in both slideOutToRight}"})]})}}];

//# sourceMappingURL=Desktop_Broker%20adda_broker-adda-web_src_app_leads_page_jsx_07c43a08._.js.map