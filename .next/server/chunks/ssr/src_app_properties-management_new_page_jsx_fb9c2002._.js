module.exports=[89538,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(83468),e=a.i(38246),f=a.i(50944);let g=()=>{let a=(0,f.useRouter)(),[g,h]=(0,c.useState)({title:"",description:"",propertyDescription:"",region:"",address:"",city:"Agra",price:"",priceUnit:"INR",propertySize:"",propertyType:"Residential",subType:"Apartment"}),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)([]),I=(0,c.useRef)(null),[J,K]=(0,c.useState)([]),L=(0,c.useRef)(null),[M,N]=(0,c.useState)({lat:"",lng:""}),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)("Furnished"),[U,V]=(0,c.useState)("Pending Approval"),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)(1),[ag,ah]=(0,c.useState)([]),[ai,aj]=(0,c.useState)([]),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(""),as=async()=>{try{ap(!0),ar("");let a=await fetch("https://broker-adda-be.algofolks.com/api/regions");if(!a.ok)throw Error(`Failed to fetch regions: ${a.status}`);let b=await a.json();if(b.success&&b.data&&b.data.regions)ah(b.data.regions),aj(b.data.regions);else throw Error("Invalid response format from regions API")}catch(a){console.error("Error fetching regions:",a),ar("Failed to load regions")}finally{ap(!1)}};(0,c.useEffect)(()=>{as()},[]),(0,c.useEffect)(()=>{(a=>{if(!a)return aj(ag);let b=a.toLowerCase();aj(ag.filter(a=>a.name.toLowerCase().includes(b)||a.city.toLowerCase().includes(b)||a.state.toLowerCase().includes(b)||a.description.toLowerCase().includes(b)))})(am)},[am,ag]),(0,c.useEffect)(()=>{let a=a=>{ak&&!a.target.closest(".region-dropdown")&&al(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[ak]);let at=a=>"string"==typeof a&&a.trim().length>0,au=a=>""!==a&&!Number.isNaN(Number(a))&&Number(a)>0,av=()=>1===ae?at(g.title)&&at(g.region):2===ae?au(g.price)&&at(g.priceUnit)&&at(g.city):3===ae?au(g.propertySize)&&au(O)&&au(Q)&&at(g.propertyType)&&at(g.subType):4===ae&&A.length+G.length>0,aw=a=>{let{name:b,value:c}=a.target;h(a=>({...a,[b]:c}))},ax=(a,b,c,d)=>{let e=a.trim();if(e){if(c.includes(e))return void d("");b([...c,e]),d("")}},ay=()=>{let a=i.trim();if(a){if(k.includes(a))return void j("");l([...k,a]),j("")}},az=(a,b)=>b(b=>b.filter(b=>b!==a)),aA=async b=>{if(b.preventDefault(),b.stopPropagation(),console.log("Form submitted - current step:",ae),console.log("Form submitted - submitting state:",$),4!==ae){console.log("Form submitted but not on Step 4, current step:",ae),console.log("Preventing form submission - not on step 4"),ad(`Please complete all steps. Currently on step ${ae} of 4.`);return}console.log("Create Property button clicked - starting property creation"),_(!0),ad("");try{let b=localStorage.getItem("token");if(!b){ad("Please login to create a property"),_(!1);return}let c=null;try{let a=b.split(".");if(3===a.length){let b=JSON.parse(atob(a[1]));c=b?.userId||b?.user?._id||b?.user?.id||b?._id||b?.id||b?.sub||null}}catch(a){console.warn("Token decoding failed:",a)}if(!c){ad("Failed to extract user ID from token. Please re-login."),_(!1);return}let d=null;try{let a=await fetch(`https://broker-adda-be.algofolks.com/api/brokers/${c}`,{headers:{Authorization:`Bearer ${b}`}});if(a.ok){let b=await a.json();d=b?._id||b?.broker?._id||b?.data?._id||b?.data?.broker?._id||null}}catch(a){console.warn("Broker fetch failed:",a)}if(!d){ad("Broker not found for this account."),_(!1);return}let e=new FormData;e.append("title",g.title),e.append("description",g.description||""),e.append("propertyDescription",g.propertyDescription||""),e.append("propertySize",g.propertySize||""),e.append("propertyType",g.propertyType),e.append("subType",g.subType),e.append("price",g.price),e.append("priceUnit",g.priceUnit),e.append("address",g.address||""),e.append("city",g.city),e.append("region",g.region),M.lat&&e.append("coordinates[lat]",M.lat),M.lng&&e.append("coordinates[lng]",M.lng),e.append("bedrooms",O||"0"),e.append("bathrooms",Q||"0"),e.append("furnishing",S),k.forEach(a=>e.append("amenities[]",a)),o.forEach(a=>e.append("nearbyAmenities[]",a)),s.forEach(a=>e.append("features[]",a)),w.forEach(a=>e.append("locationBenefits[]",a)),E.forEach(a=>e.append("videos[]",a)),J.forEach(a=>e.append("videos",a)),A.forEach(a=>e.append("images[]",a)),G.forEach(a=>e.append("images",a)),e.append("status",U),e.append("isFeatured",W.toString()),e.append("notes",Y||""),e.append("broker",d);let f=await fetch("https://broker-adda-be.algofolks.com/api/properties",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:e});if(!f.ok){let a=await f.json().catch(()=>({}));throw Error(a.message||"Failed to create property")}await f.json(),ab("Property created successfully!"),setTimeout(()=>{a.push("/properties-management")},2e3)}catch(a){ad(a.message||"Failed to create property. Please try again.")}finally{_(!1)}};return(0,b.jsx)(d.default,{children:(0,b.jsx)("div",{className:"min-h-screen bg-white",children:(0,b.jsxs)("div",{className:"w-full px-0 sm:px-0 lg:px-0 py-8 max-w-none",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Add New Property"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Create a new property listing with all the details"}),(0,b.jsxs)("div",{className:"mt-2 text-sm text-blue-600 font-medium",children:["Step ",ae," of ",4]})]}),(0,b.jsxs)(e.default,{href:"/properties-management",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Properties"]})]}),ac&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("p",{className:"text-sm text-red-700",children:ac}),(0,b.jsx)("button",{onClick:()=>ad(""),className:"ml-auto text-red-500 hover:text-red-700",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),aa&&4===ae&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:aa})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-xs text-green-600",children:"Redirecting in 2 seconds..."}),(0,b.jsx)(e.default,{href:"/properties-management",className:"px-3 py-1 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors",children:"View Properties"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,b.jsx)("form",{onSubmit:a=>(console.log("Form onSubmit triggered - current step:",ae),4!==ae)?(console.log("Form submission prevented - not on step 4"),a.preventDefault(),a.stopPropagation(),!1):aA(a),className:"lg:col-span-9 bg-white rounded-2xl shadow border border-gray-100 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-8 space-y-8",children:[1===ae&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Basic Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Title *"}),(0,b.jsx)("input",{name:"title",value:g.title,onChange:aw,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${at(g.title)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"}`,placeholder:"Enter property title",required:!0}),!at(g.title)&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:"Title is required."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Region *"}),(0,b.jsxs)("div",{className:"relative region-dropdown",children:[(0,b.jsx)("input",{type:"text",name:"region",value:am||g.region,onChange:a=>{let b=a.target.value;an(b),al(!0),h(a=>({...a,region:b}))},onFocus:()=>{al(!0)},onKeyDown:a=>{"Escape"===a.key&&al(!1)},className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${!at(g.region)?"border border-red-300 focus:ring-2 focus:ring-red-400":"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent"}`,placeholder:"Select a region...",required:!0,autoComplete:"off"}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,b.jsx)("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${ak?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),ak&&(0,b.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:ao?(0,b.jsxs)("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}),"Loading regions..."]}):aq?(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-red-600",children:aq}):0===ai.length?(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:am?"No regions found":"No regions available"}):(0,b.jsx)("ul",{className:"py-1",children:ai.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{type:"button",onClick:()=>(a=>{let b=(a=>a?`${a.name}, ${a.city}, ${a.state}`:"")(a);h(a=>({...a,region:b})),an(b),al(!1)})(a),className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 focus:bg-gray-50 focus:outline-none cursor-pointer",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.city,", ",a.state]})]})},a._id))})})]}),!at(g.region)&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:"Region is required."})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Short Description"}),(0,b.jsx)("textarea",{name:"description",value:g.description,onChange:aw,rows:3,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Brief description of the property"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Description"}),(0,b.jsx)("textarea",{name:"propertyDescription",value:g.propertyDescription,onChange:aw,rows:4,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Comprehensive description with all details"})]})]}),2===ae&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Location & Pricing"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,b.jsx)("input",{name:"address",value:g.address,onChange:aw,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${at(g.address)||""===g.address?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"}`,placeholder:"Street address"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,b.jsx)("input",{name:"city",value:g.city,onChange:aw,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${at(g.city)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"}`,placeholder:"City"}),!at(g.city)&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:"City is required."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price *"}),(0,b.jsx)("input",{type:"number",name:"price",value:g.price,onChange:aw,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${au(g.price)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"}`,placeholder:"e.g. 42000000",required:!0}),!au(g.price)&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:"Enter a valid price."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,b.jsxs)("select",{name:"priceUnit",value:g.priceUnit,onChange:aw,className:`w-full rounded-xl text-sm px-4 py-3 focus:outline-none transition-all duration-200 ${at(g.priceUnit)?"border border-gray-300 focus:ring-2 focus:ring-green-500 focus:border-transparent":"border border-red-300 focus:ring-2 focus:ring-red-400"}`,children:[(0,b.jsx)("option",{children:"INR"}),(0,b.jsx)("option",{children:"USD"})]})]})]})]}),3===ae&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]})}),(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Property Details"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Size (sqft)"}),(0,b.jsx)("input",{type:"number",name:"propertySize",value:g.propertySize,onChange:aw,onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 1200"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bedrooms"}),(0,b.jsx)("input",{type:"number",value:O,onChange:a=>P(a.target.value),onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 3"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bathrooms"}),(0,b.jsx)("input",{type:"number",value:Q,onChange:a=>R(a.target.value),onKeyDown:a=>{"Enter"===a.key&&a.preventDefault()},className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"e.g. 2"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Type *"}),(0,b.jsxs)("select",{name:"propertyType",value:g.propertyType,onChange:aw,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0,children:[(0,b.jsx)("option",{children:"Residential"}),(0,b.jsx)("option",{children:"Commercial"}),(0,b.jsx)("option",{children:"Industrial"}),(0,b.jsx)("option",{children:"Land"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sub Type"}),(0,b.jsxs)("select",{name:"subType",value:g.subType,onChange:aw,className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,b.jsx)("option",{children:"Apartment"}),(0,b.jsx)("option",{children:"Villa"}),(0,b.jsx)("option",{children:"Office"}),(0,b.jsx)("option",{children:"Shop"}),(0,b.jsx)("option",{children:"Land"}),(0,b.jsx)("option",{children:"Other"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Furnishing"}),(0,b.jsxs)("select",{value:S,onChange:a=>T(a.target.value),className:"w-full border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,b.jsx)("option",{children:"Furnished"}),(0,b.jsx)("option",{children:"Semi-Furnished"}),(0,b.jsx)("option",{children:"Unfurnished"})]})]})]})]}),3===ae&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Amenities & Features"})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Property Amenities"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{value:i,onChange:a=>j(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ay())},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Type amenity and press Add or Enter"}),(0,b.jsx)("button",{type:"button",onClick:ay,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium cursor-pointer",children:"Add"})]}),k.length>0&&(0,b.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:k.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 text-sm bg-green-50 text-green-700 px-3 py-2 rounded-full border border-green-200",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,l),className:"text-green-500 hover:text-green-700 transition-colors cursor-pointer",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a))})]})})]}),3===ae&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nearby Amenities"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:m,onChange:a=>n(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax(m,p,o,n))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add nearby amenity"}),(0,b.jsx)("button",{type:"button",onClick:()=>ax(m,p,o,n),className:"cursor-pointer px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),o.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:o.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700  px-2 py-1 rounded-full border border-green-200",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,p),className:"text-green-600 hover:text-green-800 cursor-pointer",children:"×"})]},a))})]}),3===ae&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:q,onChange:a=>r(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax(q,t,s,r))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add feature"}),(0,b.jsx)("button",{type:"button",onClick:()=>ax(q,t,s,r),className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors duration-200 font-medium cursor-pointer",children:"Add"})]}),s.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:s.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,t),className:"text-green-600 hover:text-green-800 cursor-pointer",children:"×"})]},a))})]}),3===ae&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location Benefits"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:u,onChange:a=>v(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax(u,x,w,v))},className:"flex-1 border border-gray-300 rounded-xl text-sm px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Add location benefit"}),(0,b.jsx)("button",{type:"button",onClick:()=>ax(u,x,w,v),className:"px-6 py-3 bg-green-600 text-white rounded-xl cursor-pointer hover:bg-green-700 transition-colors duration-200 font-medium",children:"Add"})]}),w.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:w.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,x),className:"cursor-pointer text-green-600 hover:text-green-800",children:"×"})]},a))})]}),4===ae&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"border border-gray-300 rounded-xl focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent transition-all duration-200 flex items-center overflow-hidden flex-1",children:[(0,b.jsx)("input",{value:y,onChange:a=>z(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax(y,B,A,z))},onClick:()=>{I.current&&I.current.click()},className:"flex-1 px-4 py-3 outline-none text-sm",placeholder:"Paste image URL or click to choose files"}),(0,b.jsx)("input",{ref:I,type:"file",multiple:!0,accept:"image/*",onChange:a=>{let b=Array.from(a.target.files||[]);b.length&&H(a=>[...a,...b])},className:"hidden"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>ax(y,B,A,z),className:"px-4 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors duration-200 cursor-pointer",children:"Add"})]}),(A.length>0||G.length>0)&&(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[A.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-200",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,B),className:"text-green-600 hover:text-green-800 cursor-pointer",children:"×"})]},a))}),G.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:G.map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full border border-green-200",children:[a.name,(0,b.jsx)("button",{type:"button",onClick:()=>H(a=>a.filter((a,b)=>b!==c)),className:"text-green-600 hover:text-green-800",children:"×"})]},`${a.name}-${c}`))})]})]}),4===ae&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Videos"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"border border-gray-300 rounded-xl focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent transition-all duration-200 flex items-center overflow-hidden flex-1",children:[(0,b.jsx)("input",{value:C,onChange:a=>D(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),ax(C,F,E,D))},onClick:()=>{L.current&&L.current.click()},className:"flex-1 px-4 py-3 outline-none text-sm",placeholder:"Paste video URL or click to choose files"}),(0,b.jsx)("input",{ref:L,type:"file",multiple:!0,accept:"video/*",onChange:a=>{let b=Array.from(a.target.files||[]);b.length&&K(a=>[...a,...b])},className:"hidden"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>ax(C,F,E,D),className:"px-4 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors duration-200",children:"Add"})]}),(E.length>0||J.length>0)&&(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[E.map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:[a,(0,b.jsx)("button",{type:"button",onClick:()=>az(a,F),className:"text-gray-500 hover:text-gray-700",children:"×"})]},a)),J.map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full border border-blue-200",children:[a.name,(0,b.jsx)("button",{type:"button",onClick:()=>K(a=>a.filter((a,b)=>b!==c)),className:"text-blue-600 hover:text-blue-800",children:"×"})]},`${a.name}-${c}`))]})]}),4===ae&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,b.jsxs)("select",{value:U,onChange:a=>V(a.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[(0,b.jsx)("option",{children:"Active"}),(0,b.jsx)("option",{children:"Sold"}),(0,b.jsx)("option",{children:"Expired"}),(0,b.jsx)("option",{children:"Pending Approval"}),(0,b.jsx)("option",{children:"Rejected"})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,b.jsx)("textarea",{value:Y,onChange:a=>Z(a.target.value),rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Internal notes"})]})]}),(0,b.jsx)("div",{className:"pt-8 border-t border-gray-100",children:ae<4?(0,b.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,b.jsxs)("button",{type:"button",onClick:a=>{a.preventDefault(),a.stopPropagation(),console.log("Continue button clicked, current step:",ae,"isValid:",av()),console.log("Continue button clicked - submitting state:",$),ae<4&&av()?(console.log("Moving to next step..."),af(ae+1),console.log("Moved to step:",ae+1)):console.log("Cannot proceed - either at last step or validation failed")},disabled:!av()||$,className:`w-full py-4 rounded-xl font-semibold focus:outline-none focus:ring-4 transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ${av()&&!$?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 focus:ring-blue-100 hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:["Continue",(0,b.jsx)("svg",{className:"w-5 h-5 ml-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}):(0,b.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,b.jsx)("button",{type:"submit",disabled:$,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:$?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Create Property"})})})]})}),(0,b.jsxs)("div",{className:"lg:col-span-3",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow border border-gray-100 p-5 sticky top-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,b.jsx)("div",{className:"w-7 h-7 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A7 7 0 0112 15a7 7 0 016.879 2.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Create property"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Finish basic details and choose your nearest region to get started."})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(()=>{let a=[1,2,3,4];return(0,b.jsx)(b.Fragment,{children:a.map((d,e)=>{let f=d===ae,g=d<ae;return(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)("button",{type:"button",onClick:()=>(a=>{a<1||a>4||af(a)})(d),className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${f?"bg-blue-600 text-white":g?"bg-green-50 text-green-700 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:d}),e<a.length-1&&(0,b.jsx)("span",{className:`w-6 h-[2px] ${d<ae?"bg-green-200":"bg-gray-200"}`})]},d)})})})()})]}),(0,b.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Property summary"}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,b.jsx)("span",{className:"font-medium",children:U})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Title"}),(0,b.jsx)("span",{className:"font-medium truncate max-w-[160px]",title:g.title||"Untitled",children:g.title||"Untitled"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"City"}),(0,b.jsx)("span",{className:"font-medium",children:g.city||"-"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Region"}),(0,b.jsx)("span",{className:"font-medium truncate max-w-[160px]",title:g.region||"-",children:g.region||"-"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Price"}),(0,b.jsx)("span",{className:"font-medium",children:g.price?`${g.priceUnit} ${g.price}`:"-"})]})]})]}),(0,b.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Nearest regions"}),(0,b.jsx)("button",{type:"button",className:"text-xs text-blue-600 hover:underline",children:"Use nearest"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700",children:g.city||"Your city"}),(0,b.jsx)("span",{className:"text-gray-500",children:"0 km"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700",children:"Agra"}),(0,b.jsx)("span",{className:"text-gray-500",children:"316 km"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-700",children:"Delhi"}),(0,b.jsx)("span",{className:"text-gray-500",children:"350 km"})]})]})]}),(0,b.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow border border-gray-100 p-5",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tips"}),(0,b.jsxs)("ul",{className:"text-[13px] text-gray-700 list-disc pl-5 space-y-2",children:[(0,b.jsx)("li",{children:"Fill basic info first, then details."}),(0,b.jsx)("li",{children:"Use realistic price and clear title."}),(0,b.jsx)("li",{children:"Add at least 3 good images and one video link."})]})]})]})]})]})})})}}];

//# sourceMappingURL=src_app_properties-management_new_page_jsx_fb9c2002._.js.map